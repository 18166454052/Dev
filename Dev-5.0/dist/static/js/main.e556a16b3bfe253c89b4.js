webpackJsonp([3],{"+4G4":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-email",use:"icon-email-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-email"><defs><style type="text/css"></style></defs><path d="M513 583.8l448.5-448.5c-11.6-4.7-24.3-7.3-37.5-7.3L100 128c-12.7 0-24.9 2.4-36.1 6.7L513 583.8z" p-id="9121" /><path d="M513 674.3 14.6 175.9C5.3 191.1 0 208.9 0 228l0 568c0 55.2 44.8 100 100 100l824 0c55.2 0 100-44.8 100-100l0-568c0-18.5-5.1-35.9-13.9-50.8L513 674.3z" p-id="9122" /></symbol>'});o.a.add(n);t.default=n},"+Dip":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-language",use:"icon-language-usage",viewBox:"0 0 1088 1024",content:'<symbol class="icon" viewBox="0 0 1088 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-language"><defs><style type="text/css"></style></defs><path d="M729.6 294.4c19.2 57.6 44.8 102.4 89.6 147.2 38.4-38.4 64-89.6 83.2-147.2h-172.8zM307.2 614.4h166.4L390.4 390.4z" p-id="6280" /><path d="M947.2 0h-768C108.8 0 51.2 57.6 51.2 128v768c0 70.4 57.6 128 128 128h768c70.4 0 128-57.6 128-128V128c0-70.4-51.2-128-128-128zM633.6 825.6c-12.8 12.8-25.6 12.8-38.4 12.8-6.4 0-19.2 0-25.6-6.4s-12.8 0-12.8-6.4-6.4-12.8-12.8-25.6-6.4-19.2-12.8-32l-25.6-70.4H281.6L256 768c-12.8 25.6-19.2 44.8-25.6 57.6-6.4 12.8-19.2 12.8-38.4 12.8-12.8 0-25.6-6.4-38.4-12.8-12.8-12.8-19.2-19.2-19.2-32 0-6.4 0-12.8 6.4-25.6s6.4-19.2 12.8-32l140.8-358.4c6.4-12.8 6.4-25.6 12.8-38.4s12.8-25.6 19.2-32 12.8-19.2 25.6-25.6c12.8-6.4 25.6-6.4 38.4-6.4 12.8 0 25.6 0 38.4 6.4 12.8 6.4 19.2 12.8 25.6 25.6 6.4 6.4 12.8 19.2 19.2 32 6.4 12.8 12.8 25.6 19.2 44.8l140.8 352c12.8 25.6 19.2 44.8 19.2 57.6-6.4 6.4-12.8 19.2-19.2 32zM985.6 576c-70.4-25.6-121.6-57.6-166.4-96-44.8 44.8-102.4 76.8-172.8 96l-19.2-32c70.4-19.2 128-44.8 172.8-89.6-44.8-44.8-83.2-102.4-96-166.4h-64v-25.6h172.8c-12.8-19.2-25.6-44.8-38.4-64l19.2-6.4c12.8 19.2 32 44.8 44.8 70.4h160v32h-64c-19.2 64-51.2 121.6-89.6 160 44.8 38.4 96 70.4 166.4 89.6l-25.6 32z" p-id="6281" /></symbol>'});o.a.add(n);t.default=n},"+H2/":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-download",use:"icon-download-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-download"><defs><style type="text/css"></style></defs><path d="M726.109091 474.763636l-190.836364 190.836364V162.909091c0-13.963636-9.309091-23.272727-23.272727-23.272727s-23.272727 9.309091-23.272727 23.272727v502.690909l-190.836364-190.836364c-9.309091-9.309091-23.272727-9.309091-32.581818 0-9.309091 9.309091-9.309091 23.272727 0 32.581819l228.072727 232.727272c4.654545 4.654545 9.309091 4.654545 18.618182 4.654546 4.654545 0 13.963636 0 18.618182-4.654546l232.727273-228.072727c9.309091-9.309091 9.309091-23.272727 0-32.581818-13.963636-13.963636-27.927273-13.963636-37.236364-4.654546zM721.454545 791.272727h-418.90909c-13.963636 0-23.272727 9.309091-23.272728 23.272728s9.309091 23.272727 23.272728 23.272727h418.90909c13.963636 0 23.272727-9.309091 23.272728-23.272727s-9.309091-23.272727-23.272728-23.272728z" fill="" p-id="2453" /><path d="M512 0C228.072727 0 0 228.072727 0 512s228.072727 512 512 512 512-228.072727 512-512S795.927273 0 512 0z m0 977.454545C256 977.454545 46.545455 768 46.545455 512S256 46.545455 512 46.545455s465.454545 209.454545 465.454545 465.454545-209.454545 465.454545-465.454545 465.454545z" fill="" p-id="2454" /></symbol>'});o.a.add(n);t.default=n},"/FN8":function(e,t){},"/GUI":function(e,t){},"/tUJ":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-analysis",use:"icon-analysis-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-analysis"><defs><style type="text/css"></style></defs><path d="M544 256l-320 0C206.336 256 192 241.664 192 224S206.336 192 224 192l320 0C561.664 192 576 206.336 576 224S561.664 256 544 256zM288 576l-64 0C206.336 576 192 590.336 192 608S206.336 640 224 640l64 0C305.664 640 320 625.664 320 608S305.664 576 288 576zM417.984 864c0 17.664-14.336 32-32 32L384.256 896 321.984 896 92.032 896C76.608 896 64 883.392 64 867.968L64 28.032C64 12.608 76.608 0 95.168 0l610.368 0L896 192l0 44.032 0 41.024 0 12.992c0 17.664-14.336 32-32 32S832 307.712 832 289.984L832 276.992 832 256l-190.464 0L641.536 64 128 64l0 768 193.984 0 62.272 0 1.728 0C403.712 832 417.984 846.336 417.984 864zM704 192l128 0-128-128L704 192zM288 448l-64 0C206.336 448 192 462.336 192 480S206.336 512 224 512l64 0C305.664 512 320 497.664 320 480S305.664 448 288 448zM368 352c0-17.664-14.336-32-32-32L224 320C206.336 320 192 334.336 192 352S206.336 384 224 384l112 0C353.664 384 368 369.664 368 352zM984.256 950.656c-15.744 13.76-39.808 12.16-53.632-3.712l-139.136-159.552c-41.6 27.904-91.648 44.16-145.408 44.16C501.376 831.552 384 714.176 384 569.472s117.376-262.08 262.08-262.08 262.08 117.376 262.08 262.08c0 63.36-23.424 120.768-60.928 166.08l140.8 161.408C1001.728 912.832 1000.192 936.832 984.256 950.656zM646.08 760.064c105.088 0 190.592-85.504 190.592-190.592s-85.504-190.592-190.592-190.592c-105.152 0-190.592 85.504-190.592 190.592S540.928 760.064 646.08 760.064z" p-id="4280" /></symbol>'});o.a.add(n);t.default=n},0:function(e,t,a){a("briU"),e.exports=a("NHnr")},"0+TX":function(e,t){},"0DNV":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-zip",use:"icon-zip-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-zip"><defs><style type="text/css"></style></defs><path d="M619.364365 933.396352c1.372783 0.06385 2.681715 0.191551 4.054497 0.191551h309.291099a65.670086 65.670086 0 0 0 65.606235-65.606235V150.974154a65.670086 65.670086 0 0 0-65.606235-65.606235H623.418862c-1.372783 0-2.71364 0.127701-4.054497 0.191551V-0.031925L15.691224 80.547217v858.404116l603.673141 82.654279v-88.20926z m0-810.101325c1.340857-0.191551 2.681715-0.415027 4.054497-0.415027h309.291099c15.515635 0 28.12608 12.610444 28.12608 28.12608v717.007513a28.158005 28.158005 0 0 1-28.12608 28.12608H623.418862c-1.372783 0-2.71364-0.223476-4.054497-0.415028V123.326952zM248.329977 605.429026l-143.918691-3.671395v-23.401154l86.868402-133.255682v-1.181231l-78.919033 1.308932v-36.043523l134.564614-3.51177v26.082869l-87.506906 133.734559v1.149307l88.911614 1.404707v37.352456z m72.406297 1.85166l-44.759096-1.149306v-201.192456l44.759096-1.149306v203.491068z m171.087015-92.966111c-16.664942 15.356009-41.151551 22.060296-69.341481 21.868745a113.81325 113.81325 0 0 1-16.122213-1.05353v74.353733l-46.099954-1.181231v-202.788714c14.238628-2.809415 34.383414-5.171878 63.179923-5.938083 29.498862-0.766204 50.792954 4.309899 65.191208 15.292159 13.887451 10.439532 23.305378 27.966454 23.305378 48.845518s-7.119314 38.629462-20.080936 50.601403z m-65.925487-79.174435a80.13219 80.13219 0 0 0-19.538207 2.202837v61.392113c4.022572 0.92583 8.970974 1.213157 15.834887 1.213156 25.380514-0.031925 41.215401-12.897771 41.215401-34.479189 0-19.378581-13.63205-30.712019-37.480156-30.296992z m306.322058-296.233702h73.523679v30.328917h-73.523679v-30.328917z m-73.555604 45.397599h73.523679v30.360842h-73.523679v-30.360842z m73.555604 49.675573h73.523679v30.360842h-73.523679v-30.360842z m0 95.903227h73.523679v30.328917h-73.523679v-30.328917z m-73.555604-48.717818h73.523679v30.328917h-73.523679v-30.328917z m72.821325 376.142417a72.7894 72.7894 0 0 0 72.7894-72.821325l-13.440499-121.986095c0-40.225721-19.155105-72.821325-59.380827-72.821325s-59.348901 32.595604-59.348901 72.821325l-13.472424 121.986095a72.7894 72.7894 0 0 0 72.821325 72.821325z m-24.103508-133.862261h48.207015v101.84131h-48.207015v-101.84131z" p-id="2562" /></symbol>'});o.a.add(n);t.default=n},"0U2B":function(e,t){},"0ec7":function(e,t,a){a("+rHW")(a("BHou"))},"2Zm2":function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTQwMjA5Mzc1ODEzIiBjbGFzcz0iaWNvbiIgc3R5bGU9IiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjMxODQiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PC9zdHlsZT48L2RlZnM+PHBhdGggZD0iTTY5NS4xMDQgNTQ2LjM2OGMtMjAuMTYgMTkuODA4LTMxLjMyOCA1NC40LTI2LjU2IDgyLjM2OGwyNi45NzYgMTU4LjU2LTE0MC45OTItNzQuNjg4Yy0yNS4wNTYtMTMuMjQ4LTYxLjQwOC0xMy4yOC04Ni40NjQgMGwtMTQwLjk5MiA3NC42NTYgMjcuMDA4LTE1OC41NmM0LjczNi0yNy45MDQtNi40NjQtNjIuNTI4LTI2LjU2LTgyLjMzNmwtMTE0LjU2LTExMi41MTIgMTU4LjA4LTIzLjEzNmMyNy45MzYtNC4wOTYgNTcuMzEyLTI1LjYgNjkuNzkyLTUxLjA0bDcwLjQ2NC0xNDMuODcyIDcwLjQ2NCAxNDMuODcyYzEyLjUxMiAyNS40NzIgNDEuODU2IDQ2Ljk0NCA2OS44MjQgNTEuMDRsMTU4LjA4IDIzLjEzNi0xMTQuNTYgMTEyLjUxMnogbTE4Mi41MjgtODkuNTM2YzE0Ljk3Ni0xNC43MiAyMC4zODQtMzIuOTYgMTQuODE2LTUwLjAxNi01LjUzNi0xNy4wMjQtMjAuNjQtMjguNTEyLTQxLjM0NC0zMS41NTJsLTE5MC4yNzItMjcuODcyYy02Ljk0NC0xLjAyNC0xOC40MzItOS40NzItMjEuNi0xNS44NzJsLTg1LjA4OC0xNzMuNzZjLTkuMjQ4LTE4Ljg4LTI0Ljg5Ni0yOS43Ni00Mi44OC0yOS43Ni0xNy45MiAwLTMzLjU2OCAxMC44OC00Mi44NDggMjkuNzZsLTg1LjA1NiAxNzMuNzZjLTMuMTM2IDYuNC0xNC42NTYgMTQuODQ4LTIxLjYzMiAxNS44NzJsLTE5MC4yNzIgMjcuODRjLTIwLjcwNCAzLjA3Mi0zNS43NDQgMTQuNTYtNDEuMjggMzEuNTg0LTUuNiAxNy4wMjQtMC4xOTIgMzUuMjY0IDE0Ljc4NCA1MC4wMTZMMjgyLjYyNCA1OTJjNS4xMiA1LjAyNCA5LjYgMTguODQ4IDguMzUyIDI1LjkybC0zMi41MTIgMTkwLjk0NGMtMy41MiAyMC44IDIuNzg0IDM4LjgxNiAxNy4zNDQgNDkuMzQ0IDcuNTIgNS40NCAxNi4yNTYgOC4xNiAyNS40NzIgOC4xNiA4LjU3NiAwIDE3LjYzMi0yLjM2OCAyNi41Ni03LjEwNGwxNzAuMTc2LTkwLjE0NGM2LjA4LTMuMiAyMC40OC0zLjIgMjYuNTYgMGwxNzAuMTQ0IDkwLjE0NGMxOC40OTYgOS44MjQgMzcuNTA0IDkuNDA4IDUyLjAzMi0xLjA1NiAxNC41Ni0xMC41NiAyMC44OTYtMjguNTEyIDE3LjM3Ni00OS4zMTJsLTMyLjUxMi0xOTAuOTc2Yy0xLjIxNi03LjA3MiAzLjIzMi0yMC44OTYgOC4zMi0yNS45MmwxMzcuNjk2LTEzNS4yeiIgcC1pZD0iMzE4NSI+PC9wYXRoPjwvc3ZnPg=="},"2w9j":function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTQwMTk1NjQ0ODE3IiBjbGFzcz0iaWNvbiIgc3R5bGU9IiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjE5MzEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PC9zdHlsZT48L2RlZnM+PHBhdGggZD0iTTQxMy41Mzg0NjIgOTU1LjA3NjkyM3YtNTkuMDc2OTIzYzAtMTUuNzUzODQ2LTEzLjc4NDYxNS0yOS41Mzg0NjItMjkuNTM4NDYyLTI5LjUzODQ2MmgtMTk2LjkyMzA3N2MtMTUuNzUzODQ2IDAtMjkuNTM4NDYyLTEzLjc4NDYxNS0yOS41Mzg0NjEtMjkuNTM4NDYxdi02NDkuODQ2MTU0QzE1Ny41Mzg0NjIgMTcxLjMyMzA3NyAxNzEuMzIzMDc3IDE1Ny41Mzg0NjIgMTg3LjA3NjkyMyAxNTcuNTM4NDYyaDE5Ni45MjMwNzdjMTUuNzUzODQ2IDAgMjkuNTM4NDYyLTEzLjc4NDYxNSAyOS41Mzg0NjItMjkuNTM4NDYydi01OS4wNzY5MjNjMC0xNS43NTM4NDYtMTMuNzg0NjE1LTI5LjUzODQ2Mi0yOS41Mzg0NjItMjkuNTM4NDYySDExOC4xNTM4NDZDNzQuODMwNzY5IDM5LjM4NDYxNSAzOS4zODQ2MTUgNzQuODMwNzY5IDM5LjM4NDYxNSAxMTguMTUzODQ2djc4Ny42OTIzMDhjMCA0My4zMjMwNzcgMzUuNDQ2MTU0IDc4Ljc2OTIzMSA3OC43NjkyMzEgNzguNzY5MjMxaDI2NS44NDYxNTRjMTUuNzUzODQ2IDAgMjkuNTM4NDYyLTEzLjc4NDYxNSAyOS41Mzg0NjItMjkuNTM4NDYyek05NzYuNzM4NDYyIDUzMS42OTIzMDhjMTEuODE1Mzg1LTExLjgxNTM4NSAxMS44MTUzODUtMjkuNTM4NDYyIDAtNDEuMzUzODQ2TDcxMC44OTIzMDggMjI0LjQ5MjMwOGMtMTEuODE1Mzg1LTExLjgxNTM4NS0yOS41Mzg0NjItMTEuODE1Mzg1LTQxLjM1Mzg0NiAwbC00MS4zNTM4NDcgNDEuMzUzODQ2Yy0xMS44MTUzODUgMTEuODE1Mzg1LTExLjgxNTM4NSAyOS41Mzg0NjIgMCA0MS4zNTM4NDZsMTEwLjI3NjkyMyAxMTAuMjc2OTIzYzExLjgxNTM4NSAxMS44MTUzODUgMy45Mzg0NjIgMzMuNDc2OTIzLTEzLjc4NDYxNSAzMy40NzY5MjNIMzA1LjIzMDc2OWMtMTUuNzUzODQ2IDAtMjkuNTM4NDYyIDExLjgxNTM4NS0yOS41Mzg0NjEgMjcuNTY5MjMxdjU5LjA3NjkyM2MwIDE1Ljc1Mzg0NiAxMy43ODQ2MTUgMzEuNTA3NjkyIDI5LjUzODQ2MSAzMS41MDc2OTJoNDE3LjQ3NjkyM2MxNy43MjMwNzcgMCAyNS42IDIxLjY2MTUzOCAxMy43ODQ2MTYgMzMuNDc2OTIzbC0xMTAuMjc2OTIzIDExMC4yNzY5MjNjLTExLjgxNTM4NSAxMS44MTUzODUtMTEuODE1Mzg1IDI5LjUzODQ2MiAwIDQxLjM1Mzg0N2w0MS4zNTM4NDYgNDEuMzUzODQ2YzExLjgxNTM4NSAxMS44MTUzODUgMjkuNTM4NDYyIDExLjgxNTM4NSA0MS4zNTM4NDYgMEw5NzYuNzM4NDYyIDUzMS42OTIzMDh6IiBwLWlkPSIxOTMyIiBmaWxsPSIjOTA5Mzk5Ij48L3BhdGg+PC9zdmc+"},"3nmZ":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-attach",use:"icon-attach-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-attach"><defs><style type="text/css"></style></defs><path d="M824.888889 125.155556L910.222222 170.666667v102.4l-85.333333 51.2-85.333333-51.2V170.666667l85.333333-45.511111m0-125.155556c-11.377778 0-17.066667 0-28.444445 5.688889l-142.222222 85.333333c-17.066667 11.377778-28.444444 28.444444-28.444444 51.2v164.977778c0 22.755556 11.377778 39.822222 28.444444 51.2L796.444444 438.044444c11.377778 5.688889 17.066667 5.688889 28.444445 5.688889s17.066667 0 28.444444-5.688889l142.222223-85.333333c17.066667-5.688889 28.444444-28.444444 28.444444-45.511111V142.222222c0-22.755556-11.377778-39.822222-28.444444-51.2L853.333333 5.688889c-11.377778-5.688889-17.066667-5.688889-28.444444-5.688889zM341.333333 375.466667l227.555556 130.844444v261.688889l-227.555556 130.844444-227.555555-130.844444V506.311111l227.555555-130.844444m0-119.466667c-11.377778 0-17.066667 0-28.444444 5.688889l-284.444445 164.977778c-17.066667 5.688889-28.444444 28.444444-28.444444 45.511111v329.955555c0 22.755556 11.377778 39.822222 28.444444 51.2l284.444445 164.977778c11.377778 5.688889 17.066667 5.688889 28.444444 5.688889s17.066667 0 28.444445-5.688889l284.444444-164.977778c17.066667-11.377778 28.444444-28.444444 28.444445-51.2V472.177778c0-22.755556-11.377778-39.822222-28.444445-51.2l-284.444444-164.977778H341.333333z" p-id="7310" fill="#8a8a8a" /></symbol>'});o.a.add(n);t.default=n},"3pkD":function(e,t){e.exports={name:"element-ui",version:"2.0.8",description:"A Component Library for Vue.js.",main:"lib/element-ui.common.js",files:["lib","src","packages","types"],typings:"types/index.d.ts",scripts:{bootstrap:"yarn || npm i","build:file":"node build/bin/iconInit.js & node build/bin/build-entry.js & node build/bin/i18n.js & node build/bin/version.js","build:theme":"node build/bin/gen-cssfile && gulp build --gulpfile packages/theme-chalk/gulpfile.js && cp-cli packages/theme-chalk/lib lib/theme-chalk","build:utils":"cross-env BABEL_ENV=utils babel src --out-dir lib --ignore src/index.js","build:umd":"node build/bin/build-locale.js",clean:"rimraf lib && rimraf packages/*/lib && rimraf test/**/coverage && lerna clean --yes",deploy:"npm run deploy:build && gh-pages -d examples/element-ui --remote eleme && del examples/element-ui","deploy:build":"npm run build:file && cooking build -c build/cooking.demo.js -p && echo element.eleme.io>>examples/element-ui/CNAME",dev:"npm run bootstrap && npm run build:file && cooking watch -c build/cooking.demo.js -p & node build/bin/template.js","dev:play":"npm run build:file && cross-env PLAY_ENV=true cooking watch -c build/cooking.demo.js -p",dist:"npm run clean && npm run build:file && npm run lint && cooking build -c build/cooking.conf.js,build/cooking.common.js,build/cooking.component.js -p && npm run build:utils && npm run build:umd && npm run build:theme","dist:all":"node build/bin/build-all.js && npm run build:theme",i18n:"node build/bin/i18n.js",lint:"eslint src/**/* test/**/* packages/**/*.{js,vue} build/**/* --quiet",pub:"npm run bootstrap && sh build/git-release.sh && sh build/release.sh && node build/bin/gen-indices.js && sh build/deploy-faas.sh","pub:all":"npm run dist:all && lerna publish --skip-git && git commit -am 'publish independent packages' && git push eleme dev",test:"npm run lint && npm run build:theme && cross-env CI_ENV=/dev/ karma start test/unit/karma.conf.js --single-run","test:watch":"npm run build:theme && karma start test/unit/karma.conf.js"},faas:{domain:"element",public:"temp_web/element"},repository:{type:"git",url:"git@github.com:ElemeFE/element.git"},homepage:"http://element.eleme.io",keywords:["eleme","vue","components"],license:"MIT",bugs:{url:"https://github.com/ElemeFE/element/issues"},unpkg:"lib/index.js",style:"lib/theme-chalk/index.css",dependencies:{"async-validator":"~1.8.1","babel-helper-vue-jsx-merge-props":"^2.0.0",deepmerge:"^1.2.0","throttle-debounce":"^1.0.1"},peerDependencies:{vue:"^2.5.2"},devDependencies:{algoliasearch:"^3.24.5","babel-cli":"^6.14.0","babel-core":"^6.14.0","babel-loader":"^6.2.5","babel-plugin-add-module-exports":"^0.2.1","babel-plugin-module-resolver":"^2.2.0","babel-plugin-syntax-jsx":"^6.8.0","babel-plugin-transform-vue-jsx":"^3.3.0","babel-preset-es2015":"^6.14.0",chai:"^3.5.0",cheerio:"^0.18.0",chokidar:"^1.7.0",cooking:"^1.5.4","cooking-lint":"^0.1.3","cooking-vue2":"^0.3.3","copy-webpack-plugin":"^4.1.1",coveralls:"^2.11.14","cp-cli":"^1.0.2","cross-env":"^3.1.3","css-loader":"^0.28.7","es6-promise":"^4.0.5",eslint:"^3.10.2","eslint-plugin-json":"^1.2.0","extract-text-webpack-plugin":"^3.0.1","file-loader":"^1.1.5","file-save":"^0.2.0","gh-pages":"^0.11.0",gulp:"^3.9.1","gulp-autoprefixer":"^4.0.0","gulp-cssmin":"^0.1.7","gulp-postcss":"^6.1.1","gulp-sass":"^3.1.0","highlight.js":"^9.3.0","html-loader":"^0.5.1","html-webpack-plugin":"^2.30.1","inject-loader":"^3.0.1","isparta-loader":"^2.0.0","json-loader":"^0.5.7","json-templater":"^1.0.4",karma:"^1.3.0","karma-chrome-launcher":"^2.2.0","karma-coverage":"^1.1.1","karma-mocha":"^1.2.0","karma-sinon-chai":"^1.2.4","karma-sourcemap-loader":"^0.3.7","karma-spec-reporter":"0.0.26","karma-webpack":"^1.8.0",lerna:"^2.0.0-beta.32",lolex:"^1.5.1","markdown-it":"^6.1.1","markdown-it-anchor":"^2.5.0","markdown-it-container":"^2.0.0",mocha:"^3.1.1","node-sass":"^4.5.3","perspective.js":"^1.0.0",postcss:"^5.1.2","postcss-loader":"0.11.1","postcss-salad":"^1.0.8",rimraf:"^2.5.4","sass-loader":"^6.0.6",sinon:"^1.17.6","sinon-chai":"^2.8.0","style-loader":"^0.19.0",transliteration:"^1.1.11",uppercamelcase:"^1.1.0","url-loader":"^0.6.2",vue:"^2.5.2","vue-loader":"^13.3.0","vue-markdown-loader":"1","vue-router":"2.7.0","vue-template-compiler":"^2.5.2","vue-template-es2015-compiler":"^1.6.0",webpack:"^3.7.1","webpack-dev-server":"^2.9.1","webpack-node-externals":"^1.6.0"},__npminstall_done:"Sat Nov 02 2019 22:16:24 GMT+0800 (GMT+08:00)",_from:"element-ui@2.0.8",_resolved:"https://registry.npm.taobao.org/element-ui/download/element-ui-2.0.8.tgz"}},"3qKm":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-right2",use:"icon-right2-usage",viewBox:"0 0 1198 1024",content:'<symbol class="icon" viewBox="0 0 1198 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-right2"><defs><style type="text/css"></style></defs><path d="M97.46 1024.012l463.494-515.362-463.494-514.257 81.663-73.936 529.707 588.196-529.706 589.298-81.663-73.936z" p-id="2805" fill="#0066cc" /><path d="M492.534 1024.012l462.391-515.362-462.391-514.257 81.663-73.936 529.707 588.196-529.706 589.298-81.663-73.936z" p-id="2806" fill="#0066cc" /></symbol>'});o.a.add(n);t.default=n},"4wdf":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-eye",use:"icon-eye-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-eye"><defs><style type="text/css"></style></defs><path d="M941.677063 391.710356c9.337669-14.005992 6.224772-32.68133-6.224772-43.575447-14.005992-10.894118-32.68133-7.78122-43.575447 6.224771-1.556449 1.556449-174.300768 205.426673-379.727441 205.426673-199.200878 0-379.727441-205.426673-381.28389-206.982098-10.894118-12.450567-31.124881-14.005992-43.575448-3.112898-12.450567 10.894118-14.005992 31.124881-3.112897 43.575448 3.112897 4.668323 40.46255 46.687322 99.600439 93.375667l-79.369676 82.48155c-12.450567 12.450567-10.894118 32.68133 1.556449 43.575448 3.112897 6.224772 10.894118 9.337669 18.675338 9.337669 7.78122 0 15.562441-3.112897 21.787213-9.337669l85.594447-88.706321c40.46255 28.013007 88.706321 54.469566 141.619438 73.14388L340.959485 707.631586c-4.668323 17.118889 4.669346 34.237779 21.787213 38.906101h9.337669c14.005992 0 26.456558-9.337669 29.568432-23.343661l32.68133-110.494556c24.90011 4.668323 51.356668 7.78122 77.813227 7.78122s52.913117-3.112897 77.813227-7.78122l32.68133 108.938108c3.112897 14.005992 17.118889 23.343661 29.569456 23.343661 3.112897 0 6.224772 0 7.78122-1.556449 17.118889-4.669346 26.456558-21.787212 21.788236-38.906102l-32.68133-108.938108c52.913117-18.675338 101.156888-45.131897 141.619438-73.14388l84.037998 87.150896c6.224772 6.224772 14.005992 9.337669 21.787212 9.337669 7.78122 0 15.562441-3.112897 21.787212-9.337669 12.450567-12.450567 12.450567-31.124881 1.556449-43.575448l-79.369675-82.48155c63.808258-46.688345 101.158934-91.820242 101.158934-91.820242z" p-id="7879" /></symbol>'});o.a.add(n);t.default=n},"556D":function(e,t){},"5YE4":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-panel",use:"icon-panel-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-panel"><defs><style type="text/css"></style></defs><path d="M96 160v704h832V160H96z m309.344 400.192v-160h192v160h-192z m192 64V800h-192v-175.808h192zM160 400.192h181.344v160H160v-160z m501.344 0H864v160h-202.656v-160zM864 224v112.192H160V224h704zM160 624.192h181.344V800H160v-175.808zM661.344 800v-175.808H864V800h-202.656z" p-id="2716" /></symbol>'});o.a.add(n);t.default=n},"60zo":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-star",use:"icon-star-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-star"><defs><style type="text/css"></style></defs><path d="M526.051017 94.741781l126.356826 256.028141c2.282996 4.624321 6.694469 7.830339 11.79872 8.572236l282.543028 41.055045c12.852726 1.867534 17.984606 17.662265 8.6848 26.727735L750.983953 626.414843c-3.693112 3.599991-5.378497 8.786107-4.50664 13.869892l48.263214 281.401018c2.194992 12.800537-11.239995 22.561855-22.735817 16.518209L519.291057 805.345048c-4.564969-2.399653-10.018168-2.399653-14.583137 0L251.993245 938.203962c-11.495822 6.043646-24.931832-3.717671-22.735817-16.518209l48.264237-281.401018c0.871857-5.082762-0.813528-10.269901-4.50664-13.869892L68.565609 427.124937c-9.299807-9.06547-4.167926-24.860201 8.6848-26.727735l282.543028-41.055045c5.104251-0.741897 9.515724-3.946892 11.79872-8.572236L497.947959 94.741781C503.69587 83.095533 520.303106 83.095533 526.051017 94.741781z" p-id="3390" fill="#FFCC00" /></symbol>'});o.a.add(n);t.default=n},"6CSd":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-project",use:"icon-project-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-project"><defs><style type="text/css"></style></defs><path d="M219.428571 658.285714q0-30.285714-21.428571-51.714285T146.285714 585.142857t-51.714285 21.428572T73.142857 658.285714t21.428572 51.714286T146.285714 731.428571t51.714286-21.428571T219.428571 658.285714z m109.714286-256q0-30.285714-21.428571-51.714285T256 329.142857t-51.714286 21.428572T182.857143 402.285714t21.428571 51.714286T256 475.428571t51.714286-21.428571T329.142857 402.285714z m244.571429 274.857143l57.714285-218.285714q3.428571-14.857143-4.285714-27.714286T605.142857 414.285714t-27.428571 3.714286-17.142857 22.571429l-57.714286 218.285714q-34.285714 2.857143-61.142857 24.857143t-36 56.285714q-11.428571 44 11.428571 83.428571t66.857143 50.857143 83.428571-11.428571 50.857143-66.857143q9.142857-34.285714-3.428571-66.857143t-41.142857-52z m377.142857-18.857143q0-30.285714-21.428572-51.714285T877.714286 585.142857t-51.714286 21.428572-21.428571 51.714285 21.428571 51.714286 51.714286 21.428571 51.714285-21.428571 21.428572-51.714286z m-365.714286-365.714285q0-30.285714-21.428571-51.714286T512 219.428571t-51.714286 21.428572T438.857143 292.571429t21.428571 51.714285T512 365.714286t51.714286-21.428572T585.142857 292.571429z m256 109.714285q0-30.285714-21.428571-51.714285T768 329.142857t-51.714286 21.428572T694.857143 402.285714t21.428571 51.714286T768 475.428571t51.714286-21.428571T841.142857 402.285714z m182.857143 256q0 149.142857-80.571429 276-10.857143 16.571429-30.857142 16.571429H111.428571q-20 0-30.857142-16.571429Q0 808 0 658.285714q0-104 40.571429-198.857143t109.142857-163.428571 163.428571-109.142857 198.857143-40.571429 198.857143 40.571429 163.428571 109.142857 109.142857 163.428571 40.571429 198.857143z" p-id="10380" /></symbol>'});o.a.add(n);t.default=n},"7N8t":function(e,t){},"8ezl":function(e,t){},"90Fk":function(e,t,a){var s={"./404.svg":"sEM+","./analysis.svg":"/tUJ","./analysiss.svg":"SwZq","./attach.svg":"3nmZ","./back.svg":"RN8c","./box.svg":"N5kO","./bug.svg":"SVqS","./chart.svg":"RjYk","./clipboard.svg":"KO/S","./collection.svg":"a4vn","./component.svg":"s2cW","./copy.svg":"UBe8","./db.svg":"z2/k","./document.svg":"mDNq","./documentation.svg":"zUKd","./download.svg":"+H2/","./drag-horizontal.svg":"KBN+","./drag.svg":"vRhf","./ds.svg":"DVHm","./email.svg":"+4G4","./example.svg":"OOLB","./excel.svg":"OLl3","./eye.svg":"4wdf","./form.svg":"sTIr","./gateway.svg":"WmvB","./histogram.svg":"t+/1","./home.svg":"U9Ws","./icon.svg":"vUvT","./info.svg":"Yfis","./international.svg":"SBEl","./ios-drag.svg":"B6Ig","./jc.svg":"JJtQ","./kz.svg":"P1Tm","./language.svg":"+Dip","./line-chart.svg":"mEdm","./line.svg":"9xjd","./lock.svg":"FnAU","./message.svg":"G2zY","./money.svg":"ig9B","./panel.svg":"5YE4","./password.svg":"QjmH","./pdf.svg":"M8Oc","./people.svg":"GPe0","./peoples.svg":"TgHK","./project.svg":"6CSd","./qq.svg":"R2jY","./refresh.svg":"SLu3","./right.svg":"9iyg","./right1.svg":"NDd4","./right2.svg":"3qKm","./rules.svg":"WrxM","./save.svg":"ttre","./setting.svg":"Kttn","./shoppingCard.svg":"dNDk","./star.svg":"60zo","./tab.svg":"Jysk","./table.svg":"oSYw","./theme.svg":"hdtf","./tool.svg":"Y44e","./user.svg":"VdD3","./wechat.svg":"pYJ+","./zip.svg":"0DNV"};function r(e){return a(i(e))}function i(e){var t=s[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}r.keys=function(){return Object.keys(s)},r.resolve=i,e.exports=r,r.id="90Fk"},"96CN":function(e,t){},"9GaO":function(e,t){},"9iyg":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-right",use:"icon-right-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-right"><defs><style type="text/css"></style></defs><path d="M967.617363 531.385513c0-244.531296-200.372563-442.761056-447.545012-442.761056-247.171426 0-447.543989 198.22976-447.543989 442.761056 0 1.440815 0.016373 2.87856 0.029676 4.315282-0.014326 1.436722-0.029676 2.876514-0.029676 4.317329 0 244.531296 200.372563 442.761056 447.543989 442.761056 247.172449 0 447.545012-198.22976 447.545012-442.761056 0-1.440815-0.016373-2.879584-0.029676-4.317329C967.600991 534.264073 967.617363 532.827351 967.617363 531.385513zM720.028429 576.366983c-1.496074 1.497097-3.062755 2.876514-4.679579 4.160763L475.2147 817.597093c-21.351284 21.351284-55.967686 21.351284-77.31897 0s-21.350261-55.965639 0-77.317946l205.89637-202.828498L397.896754 331.123466c-21.350261-21.350261-21.350261-55.966663 0-77.317946 21.350261-21.350261 55.966663-21.350261 77.31897 0L715.351919 494.372527c1.6158 1.286296 3.181459 2.664689 4.676509 4.15974 10.740622 10.740622 16.07307 24.838711 16.006556 38.918381C736.101499 551.526225 730.769051 565.624315 720.028429 576.366983z" p-id="3128" /></symbol>'});o.a.add(n);t.default=n},"9wLW":function(e,t,a){e.exports=a.p+"static/img/404.a57b6f3.png"},"9xjd":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-line",use:"icon-line-usage",viewBox:"0 0 1344 1024",content:'<symbol class="icon" viewBox="0 0 1344 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-line"><defs><style type="text/css"></style></defs><path d="M1248 0c-52.928 0-96 43.072-96 96 0 28.416 12.672 53.728 32.352 71.328l-281.6 448.992c-11.872-5.28-24.96-8.32-38.752-8.32-27.776 0-52.608 12.032-70.176 30.944l-290.336-183.84c5.376-11.968 8.512-25.152 8.512-39.104 0-52.928-43.072-96-96-96s-96 43.072-96 96c0 28.928 13.12 54.592 33.408 72.192l-220.64 351.2c-11.328-4.736-23.744-7.392-36.768-7.392-52.928 0-96 43.072-96 96s43.072 96 96 96 96-43.072 96-96c0-28.416-12.64-53.696-32.32-71.296l220.928-351.68c10.976 4.416 22.88 6.976 35.392 6.976 27.488 0 52.128-11.744 69.632-30.304l290.496 183.936c-5.152 11.776-8.128 24.704-8.128 38.368 0 52.928 43.072 96 96 96s96-43.072 96-96c0-27.616-11.872-52.352-30.624-69.888l281.92-449.472c11.328 4.704 23.712 7.36 36.704 7.36 52.928 0 96-43.072 96-96s-43.072-96-96-96zM160 928c0 35.296-28.704 64-64 64s-64-28.704-64-64 28.704-64 64-64 64 28.704 64 64zM416 480c-35.296 0-64-28.704-64-64s28.704-64 64-64 64 28.704 64 64-28.704 64-64 64zM864 768c-35.296 0-64-28.704-64-64s28.704-64 64-64 64 28.704 64 64-28.704 64-64 64zM1248 160c-35.296 0-64-28.704-64-64s28.704-64 64-64 64 28.704 64 64-28.704 64-64 64z" p-id="1704" /></symbol>'});o.a.add(n);t.default=n},B6Ig:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-ios-drag",use:"icon-ios-drag-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-ios-drag"><defs><style type="text/css"></style></defs><path d="M160 608l704 0 0 32-704 0 0-32Z" p-id="3075" fill="#bfbfbf" /><path d="M160 496l704 0 0 32-704 0 0-32Z" p-id="3076" fill="#bfbfbf" /><path d="M160 384l704 0 0 32-704 0 0-32Z" p-id="3077" fill="#bfbfbf" /></symbol>'});o.a.add(n);t.default=n},BHou:function(e,t){e.exports='/* eslint-disable */\n/* Blob.js\n * A Blob implementation.\n * 2014-05-27\n *\n * By Eli Grey, http://eligrey.com\n * By Devin Samarin, https://github.com/eboyjr\n * License: X11/MIT\n *   See LICENSE.md\n */\n\n/*global self, unescape */\n/*jslint bitwise: true, regexp: true, confusion: true, es5: true, vars: true, white: true,\n plusplus: true */\n\n/*! @source http://purl.eligrey.com/github/Blob.js/blob/master/Blob.js */\n\n(function (view) {\n    "use strict";\n\n    view.URL = view.URL || view.webkitURL;\n\n    if (view.Blob && view.URL) {\n        try {\n            new Blob();\n            return;\n        } catch (e) {}\n    }\n\n    // Internally we use a BlobBuilder implementation to base Blob off of\n    // in order to support older browsers that only have BlobBuilder\n    var BlobBuilder = view.BlobBuilder || view.WebKitBlobBuilder || view.MozBlobBuilder || function (view) {\n        var get_class = function get_class(object) {\n            return Object.prototype.toString.call(object).match(/^\\[object\\s(.*)\\]$/)[1];\n        },\n            FakeBlobBuilder = function BlobBuilder() {\n            this.data = [];\n        },\n            FakeBlob = function Blob(data, type, encoding) {\n            this.data = data;\n            this.size = data.length;\n            this.type = type;\n            this.encoding = encoding;\n        },\n            FBB_proto = FakeBlobBuilder.prototype,\n            FB_proto = FakeBlob.prototype,\n            FileReaderSync = view.FileReaderSync,\n            FileException = function FileException(type) {\n            this.code = this[this.name = type];\n        },\n            file_ex_codes = ("NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR " + "NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR").split(" "),\n            file_ex_code = file_ex_codes.length,\n            real_URL = view.URL || view.webkitURL || view,\n            real_create_object_URL = real_URL.createObjectURL,\n            real_revoke_object_URL = real_URL.revokeObjectURL,\n            URL = real_URL,\n            btoa = view.btoa,\n            atob = view.atob,\n            ArrayBuffer = view.ArrayBuffer,\n            Uint8Array = view.Uint8Array;\n        FakeBlob.fake = FB_proto.fake = true;\n        while (file_ex_code--) {\n            FileException.prototype[file_ex_codes[file_ex_code]] = file_ex_code + 1;\n        }\n        if (!real_URL.createObjectURL) {\n            URL = view.URL = {};\n        }\n        URL.createObjectURL = function (blob) {\n            var type = blob.type,\n                data_URI_header;\n            if (type === null) {\n                type = "application/octet-stream";\n            }\n            if (blob instanceof FakeBlob) {\n                data_URI_header = "data:" + type;\n                if (blob.encoding === "base64") {\n                    return data_URI_header + ";base64," + blob.data;\n                } else if (blob.encoding === "URI") {\n                    return data_URI_header + "," + decodeURIComponent(blob.data);\n                }if (btoa) {\n                    return data_URI_header + ";base64," + btoa(blob.data);\n                } else {\n                    return data_URI_header + "," + encodeURIComponent(blob.data);\n                }\n            } else if (real_create_object_URL) {\n                return real_create_object_URL.call(real_URL, blob);\n            }\n        };\n        URL.revokeObjectURL = function (object_URL) {\n            if (object_URL.substring(0, 5) !== "data:" && real_revoke_object_URL) {\n                real_revoke_object_URL.call(real_URL, object_URL);\n            }\n        };\n        FBB_proto.append = function (data /*, endings*/) {\n            var bb = this.data;\n            // decode data to a binary string\n            if (Uint8Array && (data instanceof ArrayBuffer || data instanceof Uint8Array)) {\n                var str = "",\n                    buf = new Uint8Array(data),\n                    i = 0,\n                    buf_len = buf.length;\n                for (; i < buf_len; i++) {\n                    str += String.fromCharCode(buf[i]);\n                }\n                bb.push(str);\n            } else if (get_class(data) === "Blob" || get_class(data) === "File") {\n                if (FileReaderSync) {\n                    var fr = new FileReaderSync();\n                    bb.push(fr.readAsBinaryString(data));\n                } else {\n                    // async FileReader won\'t work as BlobBuilder is sync\n                    throw new FileException("NOT_READABLE_ERR");\n                }\n            } else if (data instanceof FakeBlob) {\n                if (data.encoding === "base64" && atob) {\n                    bb.push(atob(data.data));\n                } else if (data.encoding === "URI") {\n                    bb.push(decodeURIComponent(data.data));\n                } else if (data.encoding === "raw") {\n                    bb.push(data.data);\n                }\n            } else {\n                if (typeof data !== "string") {\n                    data += ""; // convert unsupported types to strings\n                }\n                // decode UTF-16 to binary string\n                bb.push(unescape(encodeURIComponent(data)));\n            }\n        };\n        FBB_proto.getBlob = function (type) {\n            if (!arguments.length) {\n                type = null;\n            }\n            return new FakeBlob(this.data.join(""), type, "raw");\n        };\n        FBB_proto.toString = function () {\n            return "[object BlobBuilder]";\n        };\n        FB_proto.slice = function (start, end, type) {\n            var args = arguments.length;\n            if (args < 3) {\n                type = null;\n            }\n            return new FakeBlob(this.data.slice(start, args > 1 ? end : this.data.length), type, this.encoding);\n        };\n        FB_proto.toString = function () {\n            return "[object Blob]";\n        };\n        FB_proto.close = function () {\n            this.size = this.data.length = 0;\n        };\n        return FakeBlobBuilder;\n    }(view);\n\n    view.Blob = function Blob(blobParts, options) {\n        var type = options ? options.type || "" : "";\n        var builder = new BlobBuilder();\n        if (blobParts) {\n            for (var i = 0, len = blobParts.length; i < len; i++) {\n                builder.append(blobParts[i]);\n            }\n        }\n        return builder.getBlob(type);\n    };\n})(typeof self !== "undefined" && self || typeof window !== "undefined" && window || this.content || this);'},BO43:function(e,t){},CizF:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACOElEQVRYR+2WzU0cQRCFX0VghwAR2ERgv0nAJgIvR5/Adw4QAZDB3ny0ke9d6wi8ZLCOADJo9Iaa1TA7w84PsLLkkVYazfbPV6+qXrdhx4/teH/8B9hQwN33lBaSq9dIzyMAd38PwAFck5z1BYh5FzH+iuTPvnPXALXNkXPW5nfNRYqi+N22cEpJY1dmJtU+ANgnuTG/bW4d4ARAFUVrACTL8e6uCM9ILgP8z0PWuHD3XL33UaGZgjmAT7HAsmsBd1+PA/A20jYdIKLT4gpn5u5KxZcOkI+Rpq8Avj+LAs2N3F2b6Nd8FPVxzvnGzE4B/HoRgK4UpJTK9JiZ4KrOeZ4U9Ckcd1fBzlXpoZJa9/UA6pAdAFJILXmusTnnN10tPPksaAPIOf81M0HIE1QveqTYUVPhFwEAcCg3DE+4lmcAkFcsAuCbPKSsoz45f8IPVIBqU9XERg0EwDnJs5SSNt8LZd6R3B8N4O6S9UejRbcCmJkgLgHcAjiQCqMUcPdLnRdmNqtJXQFIbuV75e56X8iipYAAQo07M/us76MAYrElSUmvs2GQ/8d8Qc6nAJTRTAAo5//TAOsUDO2kej2MUkBFKJMheTB0c43XWWJmJ6OLsOZ+uvkMvjvWi3aUAhGF2uqW5OEQFSr46nY1GqCmQmm7fSF0kspDiqKQi062YtWCrFiu1isVUYCr6tY9WoEq4igopYLbVAgLlw0fyYQmKxAmpFuRLiSltz8F0Va8kxXYFvW2/3cOcA80yHIwttdA6gAAAABJRU5ErkJggg=="},DVHm:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-ds",use:"icon-ds-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="icon-ds"><path fill="#909399" d="M492.051948 1024C257.139726 1024 73.142857 939.009039 73.142857 837.818185L73.142857 186.181819C73.142857 84.923609 257.139726 0 492.051948 0 726.958586 0 910.961042 84.923609 910.961042 186.181819L910.961042 837.818185C910.961042 939.009039 726.96417 1024 492.051948 1024L492.051948 1024ZM492.051948 46.545455C269.336719 46.545455 119.688312 124.43345 119.688312 186.181819L119.688312 837.818185C119.688312 899.594869 269.336719 977.454548 492.051948 977.454548 714.778147 977.454548 864.415583 899.594869 864.415583 837.818185L864.415583 186.181819C864.415583 124.43345 714.778147 46.545455 492.051948 46.545455L492.051948 46.545455ZM492.051948 837.818185C257.139726 837.818185 73.142857 745.389773 73.142857 605.090909 73.142857 615.100114 82.036363 605.090909 73.142857 605.090909 104.120063 605.090909 113.00938 615.100114 119.688312 605.090909 113.00938 707.522287 265.340848 793.266461 492.051948 791.272726 718.763049 793.266461 871.088933 707.522287 864.415583 605.090909 871.088933 615.100114 879.982438 605.090909 910.961042 605.090909 902.066139 605.090909 910.961042 615.100114 910.961042 605.090909 910.961042 745.389773 726.96417 837.818185 492.051948 837.818185L492.051948 837.818185ZM73.142857 372.363636C104.120063 372.363636 113.00938 382.379348 119.688312 372.363636 113.00938 474.79776 265.340848 560.550469 492.051948 558.545455 718.763049 560.550469 871.088933 474.79776 864.415583 372.363636 871.088933 382.379348 879.982438 372.363636 910.961042 372.363636 910.961042 512.666258 726.96417 605.090909 492.051948 605.090909 257.139726 605.090909 73.142857 512.672497 73.142857 372.363636ZM492.051948 372.363636C257.139726 372.363636 73.142857 279.935225 73.142857 139.636364 73.142857 149.566032 82.036363 139.636364 73.142857 139.636364 104.120063 139.636364 113.00938 149.578508 119.688312 139.636364 113.00938 242.036551 265.340848 327.818151 492.051948 325.818181 718.763049 327.818151 871.088933 242.036551 864.415583 139.636364 871.088933 149.566032 879.982438 139.636364 910.961042 139.636364 902.066139 139.636364 910.961042 149.578508 910.961042 139.636364 910.961042 279.941463 726.96417 372.363636 492.051948 372.363636Z" /></symbol>'});o.a.add(n);t.default=n},DwmN:function(e,t){},EbDZ:function(e,t){},FnAU:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-lock",use:"icon-lock-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-lock"><defs><style type="text/css"></style></defs><path d="M818.246893 412.326906l-45.988404 0 0-70.991868c0-152.307871-123.463939-275.778974-275.778974-275.778974s-275.78102 123.471103-275.78102 275.778974l0 70.991868-45.987381 0c-25.379017 0-45.988404 20.566408-45.988404 45.987381l0 455.407074c0 25.428136 20.560268 45.988404 45.988404 45.988404l643.535779 0c25.37697 0 45.988404-20.560268 45.988404-45.988404L864.235296 458.314287C864.190271 432.893314 843.623863 412.326906 818.246893 412.326906L818.246893 412.326906zM680.331823 412.326906 312.62516 412.326906l0-70.991868c0-101.55393 82.344426-183.853331 183.854355-183.853331 101.509928 0 183.853331 82.343403 183.853331 183.853331L680.332846 412.326906 680.331823 412.326906zM680.331823 412.326906" p-id="9663" /></symbol>'});o.a.add(n);t.default=n},G2zY:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-message",use:"icon-message-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-message"><defs><style type="text/css"></style></defs><path d="M0 202.7V631c0 83.3 68.3 150.7 152.6 150.7h228.9l8 190.3 224.9-190.3h257c84.3 0 152.6-67.4 152.6-150.7V202.7C1024 119.4 955.7 52 871.4 52H152.6C68.3 52 0 119.4 0 202.7z m658.6 237.9c0-39.7 32.1-71.4 72.3-71.4 40.2 0 72.3 31.7 72.3 71.4S771 512 730.9 512c-40.2 0-72.3-31.7-72.3-71.4z m-220.9 0c0-39.7 32.1-71.4 72.3-71.4 40.2 0 72.3 31.7 72.3 71.4S550.1 512 510 512c-40.2 0-72.3-31.7-72.3-71.4z m-216.8 0c0-39.7 32.1-71.4 72.3-71.4 40.2 0 72.3 31.7 72.3 71.4S333.3 512 293.1 512c-40.1 0-72.2-31.7-72.2-71.4z" p-id="2027" /></symbol>'});o.a.add(n);t.default=n},GPe0:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-people",use:"icon-people-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-people"><defs><style type="text/css"></style></defs><path d="M780.108 761.059c54.451 60.351 87.706 138.983 87.706 225.358 0 12.015-0.659 23.882-1.902 35.581l-71.955 0c1.589-11.675 2.695-23.493 2.695-35.581 0-71.578-29.094-136.386-76.189-185.002C658.778 836.02 587.76 855.95 512 855.95c-75.689 0-146.65-19.888-208.294-54.432-47.129 48.604-76.358 113.305-76.358 184.9 0 12.088 1.105 23.906 2.695 35.581l-71.955 0c-1.243-11.699-1.902-23.567-1.902-35.581 0-86.366 33.19-165.055 87.587-225.446-96.765-78.277-158.75-197.84-158.75-331.998C85.023 193.163 276.188 2.001 512 2.001s426.977 191.162 426.977 426.972C938.977 563.184 876.94 682.785 780.108 761.059zM512 295.787c-196.511 0-355.814-80.302-355.814 122.251 0 202.551 159.303 366.749 355.814 366.749s355.814-164.199 355.814-366.749C867.814 215.485 708.511 295.787 512 295.787zM678.047 500.136c-26.2 0-47.442-21.24-47.442-47.442 0-26.197 21.242-47.442 47.442-47.442 26.202 0 47.442 21.244 47.442 47.442C725.488 478.896 704.249 500.136 678.047 500.136zM654.326 630.601c0 32.754-63.722 59.302-142.326 59.302s-142.326-26.549-142.326-59.302c0-8.445 4.376-16.446 12.017-23.719 21.98 20.927 71.979 35.579 130.309 35.579s108.329-14.652 130.309-35.579C649.949 614.155 654.326 622.156 654.326 630.601zM345.953 500.136c-26.202 0-47.442-21.24-47.442-47.442 0-26.197 21.24-47.442 47.442-47.442 26.2 0 47.442 21.244 47.442 47.442C393.395 478.896 372.153 500.136 345.953 500.136z" p-id="9555" /></symbol>'});o.a.add(n);t.default=n},GnSa:function(e,t){},HjEe:function(e,t){},IgV9:function(e,t){},JJtQ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-jc",use:"icon-jc-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-jc"><defs><style type="text/css"></style></defs><path d="M413.792 354.912h196.384c20.736 0 20.736-39.296 0-39.296h-196.384c-20.736 0-20.736 39.296 0 39.296z m-78.56-196.416c-1.248-9.44 1.504-36.224 39.264-39.296-4.64 0.384 9.024 84.704 78.592 78.592h117.92c56 11.072 74.816-60.992 78.528-78.592 32.352 5.12 37.376 18.368 39.296 39.296-0.288 20.096 0.16 352.768 0 353.504 0 30.432-8.352 39.264-39.296 39.264h-234.528c4 12.512 6.624 25.568 7.04 39.328h266.784c31.008 0 39.264-39.328 39.264-39.328V119.2c-4.896-42.656-39.264-39.264-39.264-39.264h-117.824V40.672C570.176 22.08 560.256 0.544 531.68 1.344c-15.36 0.48-20.736 0.832-39.264 0-40.704-1.696-39.328 39.328-39.328 39.328v39.296h-117.824s-39.296 8.896-39.296 39.264v333.696a143.36 143.36 0 0 1 39.296 9.856V158.496z m157.152-78.56h39.264v39.264h-39.264V79.936z m-78.592 196.384h196.384c20.736 0 20.736-39.264 0-39.264h-196.384c-20.736 0-20.736 39.264 0 39.264z m274.976 628.48H335.232v78.56H295.936v39.328h432.096V983.36h-39.264v-78.56z m256.8-708.224H807.36v77.6l77.856 2.176c15.488 0 40.512 10.432 40.512 25.92V720c0 15.456-24.992 27.712-40.512 27.712l-758.464 0.352a28.128 28.128 0 0 1-28.128-28.064V302.272a28.16 28.16 0 0 1 28.128-28.096l90.656 2.112V197.792L77.12 196.576c-31.008 0-56.128 9.44-56.128 40.48v589.248c4.896 11.392 8.224 39.264 39.264 39.264h903.52c18.784 2.464 39.264-10.72 39.264-39.264V237.056c-0.032-31.04-26.464-40.48-57.472-40.48zM413.792 512h196.384c19.2 0 19.2-39.264 0-39.264h-196.384c-19.136 0-19.136 39.264 0 39.264z m196.384-117.824h-196.384c-19.168 0-19.168 39.296 0 39.296h196.384c19.2 0 19.2-39.296 0-39.296z" p-id="4012" /><path d="M333.056 527.328c-4.16 39.808-6.24 65.344-6.24 76.672 0 13.504 3.776 20.256 11.264 20.256 7.712 0 14.016-4.96 18.976-14.912 4.928-10.016 7.424-22.72 7.424-38.272 0-21.952-6.976-39.904-20.992-53.92-14.016-13.984-33.472-20.992-58.368-20.992-26.368 0-48.256 9.248-65.76 27.744-17.44 18.528-26.176 40.992-26.176 67.392 0 26.016 7.872 46.56 23.584 61.472s37.12 22.4 64.192 22.4a133.44 133.44 0 0 0 56.864-11.904v25.216c-15.584 6.752-35.744 10.112-60.608 10.112-33.888 0-61.408-9.792-82.56-29.312-21.056-19.584-31.616-45.728-31.616-78.368 0-33.472 11.296-61.6 33.792-84.224 22.432-22.656 51.424-34.016 86.88-34.016 33.088 0 59.84 8.928 80.192 26.784 20.352 17.856 30.528 41.216 30.528 70.048 0 23.616-6.176 42.624-18.528 56.928-12.32 14.336-27.52 21.536-45.632 21.536-8.864 0-16.192-2.464-22.016-7.36a25.856 25.856 0 0 1-9.28-19.808h-0.896c-6.368 18.112-18.144 27.2-35.424 27.2-12.768 0-22.976-4.64-30.688-13.856-7.648-9.248-11.52-21.984-11.52-38.24 0-20.96 5.344-38.048 16.032-51.328 10.72-13.216 23.808-19.808 39.232-19.808 13.92 0 22.592 5.504 25.984 16.48h0.64c0.224-2.208 0.384-4.512 0.672-6.784 0.224-2.272 0.48-4.672 0.608-7.136h29.44z m-82.112 68.48c0 8.928 1.728 15.968 5.248 21.056a16.704 16.704 0 0 0 14.496 7.744c8.96 0 15.968-4.8 21.12-14.368 5.152-9.632 7.712-22.304 7.712-38.048 0-7.712-1.792-13.728-5.344-17.984a17.408 17.408 0 0 0-14.176-6.368c-8.384 0-15.328 4.704-20.864 14.112-5.472 9.376-8.192 20.704-8.192 33.856z" p-id="4013" /></symbol>'});o.a.add(n);t.default=n},JTlT:function(e,t){},JoGB:function(e,t){},JvbQ:function(e,t){},Jysk:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-tab",use:"icon-tab-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-tab"><defs><style type="text/css"></style></defs><path d="M622.276923 39.384615H401.723077c-13.784615 0-23.630769 11.815385-23.630769 25.6v49.23077c0 13.784615 11.815385 25.6 23.630769 25.6h220.553846c13.784615 0 23.630769-11.815385 23.630769-25.6V64.984615c1.969231-13.784615-9.846154-25.6-23.630769-25.6z m336.738462 0H738.461538c-13.784615 0-25.6 11.815385-25.6 25.6v49.23077c0 13.784615 11.815385 25.6 25.6 25.6h220.553847c13.784615-1.969231 25.6-11.815385 25.6-25.6V64.984615c0-13.784615-11.815385-25.6-25.6-25.6z m0 165.415385H334.769231c-13.784615 0-25.6-11.815385-25.6-25.6V64.984615c0-13.784615-11.815385-25.6-25.6-25.6H64.984615C51.2 39.384615 39.384615 51.2 39.384615 64.984615v896c0 11.815385 11.815385 23.630769 25.6 23.63077h894.03077c13.784615 0 25.6-11.815385 25.6-25.6v-728.615385c0-13.784615-11.815385-25.6-25.6-25.6z" p-id="1385" /></symbol>'});o.a.add(n);t.default=n},"KBN+":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-drag-horizontal",use:"icon-drag-horizontal-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-drag-horizontal"><defs><style type="text/css"></style></defs><path d="M128 640 128 554.666667 213.333333 554.666667 213.333333 640 128 640M128 469.333333 128 384 213.333333 384 213.333333 469.333333 128 469.333333M298.666667 640 298.666667 554.666667 384 554.666667 384 640 298.666667 640M298.666667 469.333333 298.666667 384 384 384 384 469.333333 298.666667 469.333333M469.333333 640 469.333333 554.666667 554.666667 554.666667 554.666667 640 469.333333 640M469.333333 469.333333 469.333333 384 554.666667 384 554.666667 469.333333 469.333333 469.333333M640 640 640 554.666667 725.333333 554.666667 725.333333 640 640 640M640 469.333333 640 384 725.333333 384 725.333333 469.333333 640 469.333333M810.666667 640 810.666667 554.666667 896 554.666667 896 640 810.666667 640M810.666667 469.333333 810.666667 384 896 384 896 469.333333 810.666667 469.333333Z" p-id="2944" /></symbol>'});o.a.add(n);t.default=n},"KO/S":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-clipboard",use:"icon-clipboard-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-clipboard"><defs><style type="text/css"></style></defs><path d="M438.857143 950.857143l512 0 0-365.714286-237.714286 0q-22.820571 0-38.838857-16.018286t-16.018286-38.838857l0-237.714286-219.428571 0 0 658.285714zM585.142857 128l0-36.571429q0-7.460571-5.412571-12.873143t-12.873143-5.412571l-402.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 36.571429q0 7.460571 5.412571 12.873143t12.873143 5.412571l402.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143zM731.428571 512l170.861714 0-170.861714-170.861714 0 170.861714zM1024 585.142857l0 384q0 22.820571-16.018286 38.838857t-38.838857 16.018286l-548.571429 0q-22.820571 0-38.838857-16.018286t-16.018286-38.838857l0-91.428571-310.857143 0q-22.820571 0-38.838857-16.018286t-16.018286-38.838857l0-768q0-22.820571 16.018286-38.838857t38.838857-16.018286l621.714286 0q22.820571 0 38.838857 16.018286t16.018286 38.838857l0 187.465143q11.995429 7.460571 20.553143 16.018286l233.179429 233.179429q16.018286 16.018286 27.428571 43.446857t11.410286 50.322286z" p-id="4663" /></symbol>'});o.a.add(n);t.default=n},Kttn:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-setting",use:"icon-setting-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-setting"><defs><style type="text/css"></style></defs><path d="M961.8 439.6l-3.8-24-73.3-24.5c-6.4-19.8-14.4-39.2-23.9-57.7l34.6-69.1-14.2-19.8c-28.8-39.3-63.2-73.7-102.3-102.1l-19.7-14.2-69.1 34.6c-18.6-9.5-37.9-17.5-57.7-23.9L608 65.8l-23.8-3.7c-26.5-4.2-49.4-6.2-72.2-6.2-22.2 0-45.2 2-72.3 6.3l-24 3.8-24.4 73.4c-20.2 6.6-39.6 14.6-57.7 23.8l-69-34.7-19.7 14.2c-39.2 28.4-73.6 62.7-102.2 102.1l-14.2 19.8 34.6 69.1c-9.4 18.5-17.4 37.8-23.8 57.6L66 415.6l-3.8 24C58 466.1 56 489.7 56 512c0 22.4 2 46 6.2 72.3l3.8 24 73.3 24.5c6.4 19.8 14.4 39.2 23.9 57.7l-34.4 68.9L143 779c14.8 20.6 30.1 38.7 46.7 55.4 15.5 15.6 33.6 30.9 55.3 46.8l19.7 14.2 69-34.6c18.6 9.5 37.9 17.6 57.7 23.9l24.4 73.4 24 3.8c26.3 4.2 49.9 6.2 72.2 6.2 22.3 0 45.9-2 72.3-6.2l24-3.8 24.4-73.4c19.6-6.4 38.9-14.4 57.6-23.8l69.1 34.6 19.7-14.2c21.5-15.5 39.6-30.8 55.3-46.8 16.3-16.3 31.5-34.5 46.7-55.4l14.2-19.8-34.6-69.1c9.5-18.5 17.5-37.8 23.9-57.7l73.3-24.5 3.8-24c4.2-26.3 6.2-49.9 6.2-72.2 0.3-22.1-1.7-45.8-6.1-72.2z m-65.5 71.6v0.5c0 13.5-0.9 27.2-2.6 41.9l-35.4 11.8L827 576l-9.7 31.5c-5.5 18.2-12.8 35.9-21.7 52.7l-15.4 29.1 31.4 62.7c-9.2 11.6-18.3 21.9-27.8 31.4l-0.2 0.2c-9.3 9.4-19.6 18.5-31.2 27.6l-62.5-31.3-29 15.1c-17.1 8.9-35.1 16.3-53.4 22.1l-31.3 9.8-10.2 31-11.8 35.4c-14.6 1.8-28.4 2.6-41.9 2.6-13.4 0-27.2-0.9-41.9-2.6l-11.8-35.4-10.3-31.3-31.5-9.7c-18.6-5.7-36.3-13-52.7-21.7L334.9 780l-29.5 14.7-33.3 16.6c-11.6-9.2-21.9-18.3-31.4-27.8-9.7-9.7-18.8-20-27.8-31.4l31.2-62.5-15.2-29c-9.1-17.4-16.5-35.2-21.9-53l-9.7-31.5-66.6-22.1c-1.8-14.6-2.6-28.4-2.6-41.9s0.9-27.2 2.6-41.9l66.4-22.1 9.7-31.4c5.6-18.1 13-36 21.9-53.2l15.2-29-14.6-29.3-16.6-33.3c17.5-21.8 37.4-41.7 59.2-59.2l62.6 31.3 29.1-15.3c16.8-8.8 34.7-16.2 53.2-22l31.3-9.8 10.4-31.1 11.8-35.4c15.1-1.7 28.8-2.6 41.8-2.6 13.4 0 27.2 0.9 41.8 2.6l22.2 66.3 31.3 9.7c18.2 5.7 36.1 13.1 53.2 21.9l29 15.2 62.5-31.3c21.8 17.5 41.8 37.4 59.5 59.3L780.4 334l15 28.9c8.9 17.2 16.4 35.2 22.1 53.5l9.8 31.3 31.1 10.4 35.4 11.8c1.9 15 2.7 28.5 2.5 41.3zM512.2 337.7c-96.1 0-174.3 78.2-174.3 174.3 0 96.1 78.2 174.3 174.3 174.3 96.1 0 174.3-78.2 174.3-174.3 0-96.1-78.2-174.3-174.3-174.3z m72.3 246.6c-19.3 19.3-45 30-72.3 30-27.3 0-53-10.6-72.3-30-19.3-19.3-30-45-30-72.3 0-27.3 10.6-53 30-72.3 19.3-19.3 45-30 72.3-30s53 10.6 72.3 30 30 45 30 72.3-10.7 53-30 72.3z" p-id="2666" /></symbol>'});o.a.add(n);t.default=n},LfHk:function(e,t){},M8Oc:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-pdf",use:"icon-pdf-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-pdf"><defs><style type="text/css"></style></defs><path d="M234.666667 469.333333h85.333333a85.333333 85.333333 0 0 1 85.333333 85.333334v21.333333a85.333333 85.333333 0 0 1-85.333333 85.333333h-42.666667v85.333334h-42.666666V469.333333z m448 170.666667v106.666667h-42.666667V469.333333h149.333333v42.666667h-106.666666v85.333333h85.333333v42.666667h-85.333333zM618.666667 85.333333l277.333333 277.333334v490.645333A85.205333 85.205333 0 0 1 810.88 938.666667H213.12A85.333333 85.333333 0 0 1 128 853.333333V170.666667c0-47.125333 38.165333-85.333333 85.12-85.333334H618.666667z m-0.448 277.504h217.493333L618.666667 145.664l-0.448 217.173333zM853.333333 853.333333V405.333333H618.496c-23.466667 0-42.496-19.072-42.496-42.496V128H213.12C189.738667 128 170.666667 147.093333 170.666667 170.666667v682.666666c0 23.530667 19.093333 42.666667 42.453333 42.666667h597.76c23.424 0 42.453333-19.093333 42.453333-42.688zM426.666667 469.333333h64a106.666667 106.666667 0 0 1 106.666666 106.666667v64a106.666667 106.666667 0 0 1-106.666666 106.666667h-64V469.333333z m42.666666 234.666667h21.333334a64 64 0 0 0 64-64v-64a64 64 0 0 0-64-64h-21.333334v192z m-192-192v106.666667h42.666667a42.666667 42.666667 0 0 0 42.666667-42.666667v-21.333333a42.666667 42.666667 0 0 0-42.666667-42.666667h-42.666667z" fill="#3D3D3D" p-id="3730" /></symbol>'});o.a.add(n);t.default=n},N5kO:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-box",use:"icon-box-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-box"><defs><style type="text/css"></style></defs><path d="M101.085 885.391V100.05H64.012v828.169h895.769v-42.828z" fill="#bfbfbf" p-id="3902" /><path d="M206.022 747.816H180.15v10.707h25.872v0.324h9.268v-0.324h25.872v-10.707H215.29v-48.942h79.358V496.906l-79.358-0.612v-50.401h25.872v-10.707H180.15v10.707h25.872v50.329l-79.358-0.612v203.264h79.358v48.942zM145.2 517.167l130.911 1.011V677.46H145.2V517.167z" fill="#bfbfbf" p-id="3903" /><path d="M415.013 456.228h-25.872v10.707h25.872v0.324h9.268v-0.324h25.872v-10.707h-25.872v-49.267h79.358V269.13l-79.358-0.395v-50.183h25.872v-10.707h-61.012v10.707h25.872v50.137l-79.358-0.395v138.667h79.358v49.267z m-60.822-166.429l130.911 0.652v95.096H354.191v-95.748z" fill="#bfbfbf" p-id="3904" /><path d="M622.159 750.814h9.268v10.511h79.357V431.609l-79.357-1.046v15.33h-9.268v-15.452l-79.358-1.046v331.929h79.358v-10.51z m-70.09-103.993h9.268V451.055l130.911 1.726v194.041h9.268v21.414h-9.268v71.676H561.337v-71.676h-9.268v-21.415z" fill="#bfbfbf" p-id="3905" /><path d="M631.427 445.893v-87.456h25.871V347.73h-61.012v10.707h25.873v87.456zM622.159 750.814v59.452h-25.873v10.707h25.873v0.324h9.268v-0.324h25.871v-10.707h-25.871v-59.452z" fill="#bfbfbf" p-id="3906" /><path d="M824.67 436.674h9.268v6.051h79.358V339.758l-79.358-0.277v11.199h-9.268v-11.232l-79.357-0.277v103.552h79.357v-6.049z m-60.821-76.023l130.911 0.456v60.203H763.849v-60.659z" fill="#bfbfbf" p-id="3907" /><path d="M833.938 350.68V289.416h25.872v-10.707h-61.012v10.707h25.872v61.264zM824.67 436.674V591.339h-25.872v10.707h25.872v0.324h9.268v-0.324h25.872v-10.707h-25.872V436.674z" fill="#bfbfbf" p-id="3908" /><path d="M692.248 668.235h9.268v-21.414H552.069v21.414h9.268z" fill="#bfbfbf" p-id="3909" /></symbol>'});o.a.add(n);t.default=n},NDd4:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-right1",use:"icon-right1-usage",viewBox:"0 0 1198 1024",content:'<symbol class="icon" viewBox="0 0 1198 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-right1"><defs><style type="text/css"></style></defs><path d="M97.46 1024.012l463.494-515.362-463.494-514.257 81.663-73.936 529.707 588.196-529.706 589.298-81.663-73.936z" p-id="2805" fill="#8a8a8a" /><path d="M492.534 1024.012l462.391-515.362-462.391-514.257 81.663-73.936 529.707 588.196-529.706 589.298-81.663-73.936z" p-id="2806" fill="#8a8a8a" /></symbol>'});o.a.add(n);t.default=n},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={};a.d(s,"timeAgo",function(){return In}),a.d(s,"parseTime",function(){return An}),a.d(s,"formatTime",function(){return Fn}),a.d(s,"unixTime",function(){return Mn}),a.d(s,"nFormatter",function(){return Rn}),a.d(s,"html2Text",function(){return $n}),a.d(s,"toThousandslsFilter",function(){return zn}),a.d(s,"sliceTime",function(){return En}),a.d(s,"status",function(){return Pn}),a.d(s,"operation",function(){return jn}),a.d(s,"online",function(){return Vn}),a.d(s,"deploy",function(){return On}),a.d(s,"enable",function(){return qn}),a.d(s,"device",function(){return Bn}),a.d(s,"published",function(){return Un}),a.d(s,"effectiveDigits",function(){return Hn}),a.d(s,"countBytes",function(){return Gn});var r=a("ZLEe"),i=a.n(r),o=(a("qUdZ"),a("kbwB"),a("95ZP"),a("uy5A"),a("0oy2"),a("6Yqu"),a("y5Ef"),a("Q9+h"),a("cON2"),a("85TD"),a("IUCA"),a("8Dtu"),a("TyvR"),a("hKfp"),a("L9F1"),a("au0a"),a("Ckgc"),a("pAaH"),a("33qa"),a("Xz06"),a("9/wO"),a("zy2y"),a("BGie"),a("fBx7"),a("oRlx"),a("/AYp"),a("VKZ2"),a("tQhc"),a("oPyK"),a("i5lg"),a("oR/I"),a("PvWL"),a("QiDN"),a("1hH4"),a("jaKV"),a("p+W/"),a("3b0q"),a("9dnN"),a("J11r"),a("g1/E"),a("hgGP"),a("GBIM"),a("EGzn"),a("GlZ9"),a("ZEnu"),a("MPmJ"),a("6qPJ"),a("Cp8F"),a("rmeD"),a("Hld9"),a("rjBn"),a("nkj8"),a("JOAm"),a("DgK1"),a("E9BQ"),a("wNpH"),a("AWCc"),a("GJxU"),a("3IpU"),a("BQSQ"),a("/+sL"),a("SIT0"),a("H8Ha"),a("thZI"),a("CIm9"),a("CXfa"),a("b98N"),a("LBu7"),a("jsTp"),a("gNBR"),a("EwaT"),a("mx60"),a("Eyah"),a("/qY3"),a("GJI/"),a("tFe5"),a("Fzrl"),a("gLpY"),a("lBqP"),a("9xzV"),a("PaoX"),a("jkG2"),a("frpq"),a("MuHC"),a("JbyX"),a("KnGY"),a("Pqf1"),a("EhnJ"),a("0CyR"),a("ts48"),a("oscO"),a("bSzW"),a("OwuH"),a("/YMV"),a("4IkS"),a("k9rz"),a("E7jK")),n=(a("OBsF"),a("FDFR")),l=a.n(n),c=(a("Uo1D"),a("sPn/"),a("yh13"),{render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]}),u=a("/Xao")({name:"APP"},c,!1,null,null,null).exports,d=a("zO6J"),p=a("4YfN"),m=a.n(p),h=a("sqb0"),f=a.n(h),g="token",v="userId",b="USER_ROLE",y="USERNAME",_="LOGIN_TIME";function x(e){return f.a.set(g,e,{expires:1})}function w(){return f.a.remove(g)}function k(){return f.a.get(v)}function T(){return f.a.get(b)}var S=a("9rMa"),L={data:function(){return{type:"close",index:"1"}},methods:{Open:function(e,t){this.type="open"},Close:function(e,t){this.type="close"},active:function(e,t){this.index=e.toString().slice(0,1),e.toString().indexOf("-")>=0&&(this.type="close"),this.$store.commit("SET_ACTIVEINDEX",e)}},mounted:function(){},computed:m()({},Object(S.b)(["activeIndex"]))},N={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-menu",{attrs:{"default-active":e.activeIndex,"unique-opened":"","menu-trigger":"click",mode:"horizontal","active-text-color":"#1AB394","text-color":"#000"},on:{open:e.Open,close:e.Close,select:e.active}},[a("el-submenu",{attrs:{index:"1"}},[a("template",{slot:"title"},[e._v("\n           质量管控\n          \n          ")]),e._v(" "),a("el-menu-item",{attrs:{index:"1-4"}},[a("router-link",{attrs:{to:"/timedTask/dashboard"}},[e._v("Dashboard")])],1),e._v(" "),a("el-menu-item",{attrs:{index:"1-1"}},[a("router-link",{attrs:{to:"/spc"}},[e._v("SPC")])],1),e._v(" "),e.hasMenu("msa")?a("el-menu-item",{attrs:{index:"1-3"}},[a("router-link",{attrs:{to:"/msa"}},[e._v("MSA")])],1):e._e(),e._v(" "),e.hasMenu("scheduleTask")?a("el-menu-item",{attrs:{index:"1-2"}},[a("router-link",{attrs:{to:"/timedTask"}},[e._v("质量预警")])],1):e._e()],2),e._v(" "),e.hasMenu("spclevel")?a("el-submenu",{attrs:{index:"7"}},[a("template",{slot:"title"},[e._v("\n          数据配置\n       \n      \n        ")]),e._v(" "),a("el-menu-item",{attrs:{index:"7-2"}},[a("router-link",{attrs:{to:"/configure/datasourceConfig"}},[e._v("数据库配置")])],1),e._v(" "),e.hasMenu("datasource")?a("el-menu-item",{attrs:{index:"7-3"}},[a("router-link",{attrs:{to:"/dataSource/index"}},[e._v("数据源配置")])],1):e._e(),e._v(" "),a("el-menu-item",{attrs:{index:"7-1"}},[a("router-link",{attrs:{to:"/configure/fields"}},[e._v("数据字段配置")])],1)],2):e._e(),e._v(" "),e.hasMenu("user")||e.hasMenu("role")?a("el-submenu",{attrs:{index:"8"}},[a("template",{slot:"title"},[e._v("\n          系统管理\n         \n         \n          ")]),e._v(" "),e.hasMenu("user")?a("el-menu-item",{attrs:{index:"8-1"}},[a("router-link",{attrs:{to:"/configure/user"}},[e._v("用户")])],1):e._e(),e._v(" "),e.hasMenu("role")?a("el-menu-item",{attrs:{index:"8-2"}},[a("router-link",{attrs:{to:"/configure/role"}},[e._v("角色")])],1):e._e(),e._v(" "),e.hasMenu("userlog")?a("el-menu-item",{attrs:{index:"8-4"}},[a("router-link",{attrs:{to:"/logger/index"}},[e._v("日志\n        ")])],1):e._e(),e._v(" "),a("el-menu-item",{attrs:{index:"8-5"}},[a("router-link",{attrs:{to:"/monitor"}},[e._v("系统监控")])],1),e._v(" "),e.hasMenu("menu")?a("el-menu-item",{attrs:{index:"8-3"}},[a("router-link",{attrs:{to:"/configure/operation"}},[e._v("功能菜单")])],1):e._e()],2):e._e()],1)},staticRenderFns:[]};var C=a("/Xao")(L,N,!1,function(e){a("l9Pt")},"data-v-2c97c0aa",null).exports,D=a("2w9j"),I=a.n(D),A=a("Q269"),F=a.n(A),M={name:"screenfull",props:{width:{type:Number,default:22},height:{type:Number,default:22},fill:{type:String,default:"#48576a"}},data:function(){return{isFullscreen:!1}},methods:{click:function(){if(!F.a.enabled)return this.$message({message:"you browser can not work",type:"warning"}),!1;F.a.toggle()}}},R={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("svg",{staticClass:"screenfull-svg",attrs:{t:"1508738709248",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2069","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"32",height:"32"},on:{click:this.click}},[t("path",{attrs:{d:"M333.493443 428.647617 428.322206 333.832158 262.572184 168.045297 366.707916 64.444754 64.09683 64.444754 63.853283 366.570793 167.283957 262.460644Z","p-id":"2070"}}),this._v(" "),t("path",{attrs:{d:"M854.845439 760.133334 688.61037 593.95864 593.805144 688.764889 759.554142 854.56096 655.44604 958.161503 958.055079 958.161503 958.274066 656.035464Z","p-id":"2071"}}),this._v(" "),t("path",{attrs:{d:"M688.535669 428.550403 854.31025 262.801405 957.935352 366.921787 957.935352 64.34754 655.809313 64.081481 759.919463 167.535691 593.70793 333.731874Z","p-id":"2072"}}),this._v(" "),t("path",{attrs:{d:"M333.590658 594.033341 167.8171 759.804852 64.218604 655.67219 64.218604 958.270996 366.342596 958.502263 262.234493 855.071589 428.421466 688.86108Z","p-id":"2073"}})])])},staticRenderFns:[]};var $=a("/Xao")(M,R,!1,function(e){a("njEs")},"data-v-2edb937e",null).exports,z=a("3pkD").version,E={data:function(){return{chalk:"",theme:"#409EFF"}},watch:{theme:function(e,t){var a=this;if("string"==typeof e){var s,r,i=this.getThemeCluster(e.replace("#","")),o=this.getThemeCluster(t.replace("#","")),n=(s="chalk",r="chalk-style",function(){var e=a.getThemeCluster("#409EFF".replace("#","")),t=a.updateStyle(a[s],e,i),o=document.getElementById(r);o||((o=document.createElement("style")).setAttribute("id",r),document.head.appendChild(o)),o.innerText=t});if(this.chalk)n();else{var l="https://unpkg.com/element-ui@"+z+"/lib/theme-chalk/index.css";this.getCSSString(l,n,"chalk")}[].slice.call(document.querySelectorAll("style")).filter(function(e){var a=e.innerText;return new RegExp(t,"i").test(a)&&!/Chalk Variables/.test(a)}).forEach(function(e){var t=e.innerText;"string"==typeof t&&(e.innerText=a.updateStyle(t,o,i))}),this.$message({message:"换肤成功",type:"success"})}}},methods:{updateStyle:function(e,t,a){var s=e;return t.forEach(function(e,t){s=s.replace(new RegExp(e,"ig"),a[t])}),s},getCSSString:function(e,t,a){var s=this,r=new XMLHttpRequest;r.onreadystatechange=function(){4===r.readyState&&200===r.status&&(s[a]=r.responseText.replace(/@font-face{[^}]+}/,""),t())},r.open("GET",e),r.send()},getThemeCluster:function(e){for(var t,a,s,r,i,o=[e],n=0;n<=9;n++)o.push((t=e,a=Number((n/10).toFixed(2)),s=void 0,r=void 0,i=void 0,s=parseInt(t.slice(0,2),16),r=parseInt(t.slice(2,4),16),i=parseInt(t.slice(4,6),16),0===a?[s,r,i].join(","):(s+=Math.round(a*(255-s)),r+=Math.round(a*(255-r)),i+=Math.round(a*(255-i)),"#"+(s=s.toString(16))+(r=r.toString(16))+(i=i.toString(16)))));return o.push(function(e,t){var a=parseInt(e.slice(0,2),16),s=parseInt(e.slice(2,4),16),r=parseInt(e.slice(4,6),16);return a=Math.round((1-t)*a),s=Math.round((1-t)*s),r=Math.round((1-t)*r),"#"+(a=a.toString(16))+(s=s.toString(16))+(r=r.toString(16))}(e,.1)),o}}},P={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-color-picker",{staticClass:"theme-picker",attrs:{"popper-class":"theme-picker-dropdown"},model:{value:e.theme,callback:function(t){e.theme=t},expression:"theme"}})},staticRenderFns:[]};var j={components:{"screen-full":$,"theme-picker":a("/Xao")(E,P,!1,function(e){a("T+lk")},null,null).exports},data:function(){return{type:"close",index:"1",logOut:I.a}},methods:{Open:function(e,t){this.type="open"},Close:function(e,t){this.type="close"},active:function(e,t){this.index=e.toString().slice(0,1),e.toString().indexOf("-")>=0&&(this.type="close"),this.$store.commit("SET_ACTIVEINDEX",e)},logout:function(){var e=this,t=this;this.$store.dispatch("LogOut").then(function(t){e.$router.replace("/login")}).catch(function(e){t.$message.error(e.message)})}},mounted:function(){},computed:m()({},Object(S.b)(["activeIndex"]))},V={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":e.activeIndex,collapse:!0}},[e.$store.getters.userRole<4?a("el-submenu",{attrs:{index:"1"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-plus"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("创建")])]),e._v(" "),a("el-menu-item-group",[a("span",{attrs:{slot:"title"},slot:"title"},[e._v("创建")]),e._v(" "),a("el-menu-item",{attrs:{index:"1-1"}},[a("router-link",{attrs:{to:"/tb/folder"}},[e._v("文件夹")])],1),e._v(" "),a("el-menu-item",{attrs:{index:"1-2"}},[a("router-link",{attrs:{to:"/spc/task"}},[e._v("项目-批次分析")])],1),e._v(" "),a("el-menu-item",{attrs:{index:"1-4"}},[a("router-link",{attrs:{to:"/piping/gateway/cep/program"}},[e._v("项目-实时分析")])],1)],1)],2):e._e(),e._v(" "),a("el-submenu",{attrs:{index:"2"}},[a("template",{slot:"title"},[a("router-link",{attrs:{to:"/tb/user/folder"}},[a("i",{staticClass:"el-icon-menu"})])],1)],2),e._v(" "),2==e.$store.getters.userRole?a("el-submenu",{attrs:{index:"3"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-setting"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("配置")])]),e._v(" "),a("el-menu-item-group",[a("span",{attrs:{slot:"title"},slot:"title"},[e._v("配置创建")]),e._v(" "),a("el-menu-item",{attrs:{index:"3-1"}},[a("router-link",{attrs:{to:"/config/datasource"}},[e._v("数据源配置")])],1),e._v(" "),a("el-menu-item",{attrs:{index:"3-2"}},[a("router-link",{attrs:{to:"/config/dataanalysis"}},[e._v("SPC数据配置")])],1),e._v(" "),a("el-menu-item",{attrs:{index:"3-5"}},[a("router-link",{attrs:{to:"/config/gateway"}},[e._v("网关")])],1)],1),e._v(" "),a("el-menu-item-group",[a("span",{attrs:{slot:"title"},slot:"title"},[e._v("系统")]),e._v(" "),a("el-menu-item",{attrs:{index:"3-4"}},[a("router-link",{attrs:{to:"/config/user"}},[e._v("用户")])],1),e._v(" "),a("el-menu-item",{attrs:{index:"3-9"}},[a("router-link",{attrs:{to:"/config/department"}},[e._v("组织管理")])],1),e._v(" "),a("el-menu-item",{attrs:{index:"3-6"}},[a("router-link",{attrs:{to:"/log"}},[e._v("日志")])],1),e._v(" "),a("el-menu-item",{attrs:{index:"3-7"}},[a("router-link",{attrs:{to:"/overview"}},[e._v("分析监控")])],1),e._v(" "),a("el-menu-item",{attrs:{index:"3-8"}},[a("router-link",{attrs:{to:"/email"}},[e._v("邮件")])],1)],1)],2):e._e()],1),e._v(" "),a("el-menu",{staticClass:"text-center",staticStyle:{position:"fixed",bottom:"0px"}},[a("el-menu-item",{attrs:{index:"4-1-1"}},[a("el-tooltip",{staticStyle:{position:"relative",cursor:"pointer"},attrs:{effect:"dark",content:"全屏",placement:"right"}},[a("screen-full",{staticStyle:{position:"relative",top:"20px"}})],1)],1),e._v(" "),a("el-menu-item",{attrs:{index:"4-1-3"}},[a("el-tooltip",{staticStyle:{position:"relative",cursor:"pointer"},attrs:{effect:"dark",content:"主题",placement:"right"}},[a("theme-picker",{staticStyle:{width:"22px",position:"relative",left:"-8px"}})],1)],1),e._v(" "),a("el-menu-item",{attrs:{index:"4-1-2"}},[a("el-tooltip",{staticStyle:{position:"relative",cursor:"pointer"},attrs:{effect:"dark",content:"退出",placement:"right"}},[a("img",{attrs:{src:e.logOut},on:{click:e.logout}})])],1)],1)],1)},staticRenderFns:[]};var O={name:"scrollBar",data:function(){return{top:0}},methods:{handleScroll:function(e){var t=e.wheelDelta||3*-e.deltaY,a=this.$refs.scrollContainer.offsetHeight,s=this.$refs.scrollWrapper.offsetHeight;t>0?this.top=Math.min(0,this.top+t):a-15<s?this.top<-(s-a+15)?this.top=this.top:this.top=Math.max(this.top+t,a-s-15):this.top=0}}},q={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"scrollContainer",staticClass:"scroll-container",on:{wheel:function(t){t.preventDefault(),e.handleScroll(t)}}},[a("div",{ref:"scrollWrapper",staticClass:"scroll-wrapper",style:{top:e.top+"px"}},[e._t("default")],2)])},staticRenderFns:[]};var B={components:{SidebarItem:a("/Xao")(j,V,!1,function(e){a("kP9C")},"data-v-78cbabd2",null).exports,ScrollBar:a("/Xao")(O,q,!1,function(e){a("j08p")},"data-v-9c7a0226",null).exports},computed:m()({},Object(S.b)(["permission_routers","sidebar"]),{isCollapse:function(){return!this.sidebar.opened}})},U={render:function(){var e=this.$createElement,t=this._self._c||e;return t("scroll-bar",[t("el-menu",{attrs:{mode:"vertical","default-active":this.$route.path,collapse:this.isCollapse,"background-color":"rgb(48,65,86)","text-color":"#bfcbd9","active-text-color":"#409EFF"}},[t("sidebar-item",{attrs:{routes:this.permission_routers}})],1)],1)},staticRenderFns:[]},H={name:"AppMain",computed:{key:function(){return"Configuration"!==this.$route.name?this.$route.name+ +new Date:""}}},G={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"min-height":"100%"}},[t("router-view",{key:this.key})],1)},staticRenderFns:[]},X={name:"layout",components:{Navbar:C,Sidebar:a("/Xao")(B,U,!1,null,null,null).exports,AppMain:a("/Xao")(H,G,!1,null,null,null).exports},computed:{sidebar:function(){return this.$store.state.app.sidebar}}},W={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"app-wrapper"},[t("sidebar",{staticClass:"sidebar-container"}),this._v(" "),t("div",{staticClass:"main-container"},[t("app-main",{staticStyle:{"min-height":"100%"}})],1)],1)},staticRenderFns:[]};var J=a("/Xao")(X,W,!1,function(e){a("xL6i")},"data-v-75ac9619",null).exports,Y=a("aA9S"),Z=a.n(Y),Q=a("rVsN"),K=a.n(Q),ee=a("2sCs"),te=a.n(ee),ae=a("hRKE"),se=a.n(ae),re={state:{sidebar:{opened:!0},language:f.a.get("language")||"zh",page:1,page_size:10,showDeleteDialog:!1,loadingDeleteDialog:!1,project_id:0,activeIndex:"2-1",pdfConfig:"",pdfVariable:"",pdfbar:"",showFolderTask:!1},mutations:{SET_TASK:function(e,t){e.showFolderTask=t},T_PAGE:function(e,t){e.page=t},SET_PAGESIZE:function(e,t){e.page_size=t},SET_ACTIVEINDEX:function(e,t){e.activeIndex=t},SET_PROJECTID:function(e,t){e.project_id=t},TOGGLE_SIDEBAR:function(e){e.sidebar.opened?f.a.set("sidebarStatus",1):f.a.set("sidebarStatus",0),e.sidebar.opened=!e.sidebar.opened},SET_LANGUAGE:function(e,t){e.language=t,f.a.set("language",t)},setDeleteDialog:function(e,t){e.showDeleteDialog=t},setLoadingDelete:function(e,t){e.loadingDeleteDialog=t},SET_PDF:function(e,t){t.pdfConfig&&(e.pdfConfig=t.pdfConfig),t.pdfVariable&&(e.pdfVariable=t.pdfVariable),t.pdfbar&&(e.pdfbar=t.pdfbar)}},actions:{toggleSideBar:function(e){(0,e.commit)("TOGGLE_SIDEBAR")},setLanguage:function(e,t){(0,e.commit)("SET_LANGUAGE",t)}}};var ie={state:{routers:hn,addRouters:[]},mutations:{SET_ROUTERS:function(e,t){e.addRouters=t,e.routers=hn.concat(t)}},actions:{GenerateRoutes:function(e,t){var a=e.commit;return new K.a(function(e){var s=t.roles,r=void 0;r=s.indexOf("admin")>=0?gn:function e(t,a){return t.filter(function(t){return!!function(e,t){return!t.meta||!t.meta.roles||e.some(function(e){return t.meta.roles.indexOf(e)>=0})}(a,t)&&(t.children&&t.children.length&&(t.children=e(t.children,a)),!0)})}(gn,s),a("SET_ROUTERS",r),e()})}}};function oe(e){return pe({url:"tb/user/editor/list",method:"post",params:e})}var ne={state:{nickname:"",userId:"",userRole:4},mutations:{SET_USER:function(e,t){e.nickname=t.nickname,e.userId=t.userId,e.userRole=t.userRole},RESET_USER:function(e){e.nickname="",e.userId="",e.userRole=""},SET_USER_ROLE:function(e,t){e.userRole=t||4}},actions:{LoginByUsername:function(e,t){var a=e.commit;return new K.a(function(e,s){var r;(r=t,pe({url:"tb/user/viewer/login",method:"post",params:r})).then(function(t){var s,r,i,o;200==t.code&&(x(t.data.accessToken),o=t.data.userId,f.a.set(v,o,{expires:1}),i=t.data.userRole,f.a.set(b,i,{expires:1}),r=t.data.username,f.a.set(y,r),s=function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1,s=e.getDate(),r=e.getHours(),i=e.getMinutes(),o=e.getSeconds();function n(e){return e<10?"0"+e:e}return t+":"+n(a)+":"+n(s)+"-"+n(r)+":"+n(i)+":"+n(o)}(),f.a.set(_,s),a("SET_USER_ROLE",t.data.userRole)),e(t)}).catch(function(e){s(e)})})},GetUserInfo:function(e){var t=e.commit;e.state;return new K.a(function(e,a){var s;pe({url:"auth/getInfo",method:"post",data:s}).then(function(a){t("SET_USER",a.data),x(),e(a.data)}).catch(function(e){a(e)})})},LogOut:function(e){var t=e.commit;e.state;return new K.a(function(e,a){pe({url:"tb/user/viewer/logout",method:"post"}).then(function(s){200==s.code?(w(),t("RESET_USER"),e(s)):a(s)}).catch(function(e){a(e)})})},FedLogOut:function(e){var t=e.commit;return new K.a(function(e){t("SET_SESSION",""),w(),e()})},ChangeRoles:function(e,t){var a=e.commit;return new K.a(function(e){a("SET_TOKEN",t),getUserInfo(t).then(function(t){var s=t.data;a("SET_ROLES",s.roles),a("SET_NAME",s.name),a("SET_AVATAR",s.avatar),a("SET_INTRODUCTION",s.introduction),e()})})}}},le={sidebar:function(e){return e.app.sidebar},language:function(e){return e.app.language},addRouters:function(e){return e.permission.addRouters},project_id:function(e){return e.app.project_id},activeIndex:function(e){return e.app.activeIndex},nickname:function(e){return e.user.nickname},userId:function(e){return e.user.userId},userRole:function(e){return e.user.userRole},showFolderTask:function(e){return e.app.showFolderTask}},ce={state:{gatewayData:[],deviceData:[],topicData:[],projectKey:"",type:"",typeName:"",projectDetail:{}},mutations:{setGatewayData:function(e,t){e.gatewayData=t},setDeviceData:function(e,t){e.deviceData=t},setTopicData:function(e,t){e.topicData=t},setProjectkey:function(e,t){e.projectKey=t},setProjectDetail:function(e,t){e.projectDetail=t},setType:function(e,t){e.type=t},setTypeName:function(e,t){e.typeName=t}}};o.default.use(S.a);var ue=new S.a.Store({modules:{app:re,permission:ie,user:ne,management:ce},getters:le}),de=(te.a.CancelToken.source(),te.a.create({baseURL:"/api",timeout:36e5,widthCredentials:!1}));de.interceptors.request.use(function(e){return e.headers.accessToken=f.a.get(g),e},function(e){K.a.reject(e)}),de.interceptors.response.use(function(e){var t=e.data;return 401==t.code?(fn.push("/login"),location.reload(),K.a.reject(t)):t},function(e){return K.a.reject(e)});var pe=de;function me(e){return pe({url:"config/datasource/admin/list",method:"post",params:e})}var he={props:["activename"],data:function(){return{type:"",createLoading:!1,showAdd:!1,searchDatabase:"",databaseType:[{id:1,name:"oracle"},{id:2,name:"sql_server"},{id:3,name:"mysql"}],database:{configDatasourceName:"",databaseType:"",address:"",port:"",username:"",password:"",databaseName:"",comment:"",createTime:""},databaseRules:{configDatasourceName:[{required:!0,message:"请填写数据源名称",trigger:"change,blur"}],databaseType:[{required:!0,message:"请选择数据库类型",trigger:"change,blur"}],address:[{required:!0,message:"请填写数据库地址",trigger:"change,blur"}],port:[{required:!0,message:"请填写数据库端口号",trigger:"change,blur"}],username:[{required:!0,message:"请填写数据库账号",trigger:"change,blur"}],password:[{required:!0,message:"请填写数据库密码",trigger:"change,blur"}],databaseName:[{required:!0,message:"请填写数据库",trigger:"change,blur"}]},filterDatabaseList:[],databaseList:[]}},methods:{deleteDatabase:function(e,t){var a=this;this.$confirm("确定删除数据库"+e.configDatasourceName+"?","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning"}).then(function(){var s;(s={configDatasourceId:e.configDatasourceId},pe({url:"config/datasource/admin/delete",method:"post",params:s})).then(function(e){200==e.code?(a.$message.success("删除数据库成功"),a.databaseList.splice(t,1),a.filterDatabaseList.splice(t,1)):a.$message.error(e.message)})}).catch(function(){})},back:function(){this.database={configDatasourceName:"",databaseType:"",address:"",port:"",username:"",password:"",databaseName:"",comment:"",createTime:""},this.createLoading=!1,this.showAdd=!1},createDatabase:function(){var e=this;this.$refs.databaseForm.validate(function(t){var a;t&&(e.createLoading=!0,"create"==e.type&&(a=e.database,pe({url:"config/datasource/admin/add",method:"post",data:a})).then(function(t){e.createLoading=!1,200==t.code?(e.$message.success("创建数据库成功"),e.getDblist(),e.back()):e.$message.error(t.message)}),"update"==e.type&&function(e){return pe({url:"config/datasource/admin/update",method:"post",data:e})}(e.database).then(function(t){e.createLoading=!1,200==t.code?(e.back(),e.$message.success("修改数据库成功"),e.getDblist()):e.$message.error(t.message)}))})},getDblist:function(){var e=this;me().then(function(t){200==t.code?(e.databaseList=t.data.list.slice(),e.filterDatabaseList=t.data.list.slice()):e.$message.error(t.message)})},filterDatabase:function(){if(this.searchDatabase)if(this.databaseList.length>0){var e=new RegExp(this.searchDatabase,"i");this.filterDatabaseList=this.databaseList.filter(function(t){return e.test(t.configDatasourceName)})}else this.filterDatabaseList=this.databaseList.slice();else this.filterDatabaseList=this.databaseList.slice()},showUpdate:function(e,t){this.database=Z()({},e),this.showAdd=!0,this.type="update"}},created:function(){var e=this;this.getDblist(),this.$on("init",function(){e.showAdd=!1,e.searchDatabase="",e.filterDatabase()})}},fe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{directives:[{name:"show",rawName:"v-show",value:!e.showAdd,expression:"!showAdd"}]},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{placeholder:"使用数据源名称搜索","prefix-icon":"el-icon-search"},on:{input:e.filterDatabase},model:{value:e.searchDatabase,callback:function(t){e.searchDatabase=t},expression:"searchDatabase"}})],1),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:12}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.showAdd=!0,e.type="create"}}},[a("i",{staticClass:"el-icon-plus m-r-5"}),e._v("创建\n            ")])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("div",{staticClass:"m-t-10 CardList"},[a("el-row",{staticClass:"m-t ConfigListTitle"},[a("el-col",{staticStyle:{"padding-left":"26px"},attrs:{span:7}},[e._v("数据源名称")]),e._v(" "),a("el-col",{attrs:{span:6}},[e._v("数据源类型")]),e._v(" "),a("el-col",{attrs:{span:7}},[e._v("创建时间")]),e._v(" "),a("el-col",{staticClass:"text-right",staticStyle:{"padding-right":"20px"},attrs:{span:4}},[e._v("操作")])],1),e._v(" "),e._l(e.filterDatabaseList,function(t,s){return a("el-card",{key:t.configDatasourceId+"_db_",staticClass:"box-card m-t-5",attrs:{"body-style":{padding:"6px"}}},[a("el-row",[a("el-col",{staticStyle:{"line-height":"28px","padding-left":"20px"},attrs:{span:7}},[e._v("\n                                     \n                                        "),a("span",[e._v(e._s(t.configDatasourceName))])]),e._v(" "),a("el-col",{staticStyle:{"line-height":"28px"},attrs:{span:6}},[e._v("\n                                      \n                                         "),a("span",[e._v(e._s(["orcal","sql_server","mysql"][t.databaseType-1]))])]),e._v(" "),a("el-col",{staticStyle:{"line-height":"28px"},attrs:{span:7}},[e._v("\n                                      \n                                         "),a("span",[e._v(e._s(e._f("unixTime")(t.createTime)))])]),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:4}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){e.showUpdate(t,s)}}},[a("i",{staticClass:"el-icon-edit"})]),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){e.deleteDatabase(t,s)}}},[a("i",{staticClass:"el-icon-close"})])],1)],1)],1)}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.filterDatabaseList.length,expression:"filterDatabaseList.length==0"}],staticClass:"Empty text-center"},[e._v("\n                                    没有查询到数据源数据\n                             ")])],2)])],1),e._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showAdd,expression:"showAdd"}],ref:"databaseForm",staticClass:"small-space Form setting-form FormError",attrs:{size:"mini",model:e.database,rules:e.databaseRules,"label-position":"right","label-width":"120px"}},[a("el-form-item",{attrs:{label:"数据源名称 :",size:"mini",prop:"configDatasourceName"}},[a("el-col",{attrs:{span:22}},[a("el-input",{attrs:{type:"text"},model:{value:e.database.configDatasourceName,callback:function(t){e.$set(e.database,"configDatasourceName",t)},expression:"database.configDatasourceName"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"数据库地址 :",size:"mini",prop:"address"}},[a("el-col",{attrs:{span:22}},[a("el-input",{attrs:{type:"text"},model:{value:e.database.address,callback:function(t){e.$set(e.database,"address",t)},expression:"database.address"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"数据库端口号 :",size:"mini",prop:"port"}},[a("el-col",{attrs:{span:22}},[a("el-input",{attrs:{type:"text"},model:{value:e.database.port,callback:function(t){e.$set(e.database,"port",t)},expression:"database.port"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"数据库账号 :",size:"mini",prop:"username"}},[a("el-col",{attrs:{span:22}},[a("el-input",{attrs:{type:"text"},model:{value:e.database.username,callback:function(t){e.$set(e.database,"username",t)},expression:"database.username"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"数据库密码 :",size:"mini",prop:"password"}},[a("el-col",{attrs:{span:22}},[a("el-input",{attrs:{type:"password"},model:{value:e.database.password,callback:function(t){e.$set(e.database,"password",t)},expression:"database.password"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"数据库 :",size:"mini",prop:"databaseName"}},[a("el-col",{attrs:{span:22}},[a("el-input",{attrs:{type:"text"},model:{value:e.database.databaseName,callback:function(t){e.$set(e.database,"databaseName",t)},expression:"database.databaseName"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"数据库类型 :",size:"mini",prop:"databaseType"}},[a("el-col",{attrs:{span:22}},[a("el-select",{attrs:{placeholder:"请选择数据库类型"},model:{value:e.database.databaseType,callback:function(t){e.$set(e.database,"databaseType",t)},expression:"database.databaseType"}},e._l(e.databaseType,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"描述 :",size:"mini"}},[a("el-col",{attrs:{span:22}},[a("el-input",{attrs:{type:"text"},model:{value:e.database.comment,callback:function(t){e.$set(e.database,"comment",t)},expression:"database.comment"}})],1)],1),e._v(" "),a("el-form-item",{staticClass:"text-center"},[a("el-button",{attrs:{type:"success",size:"mini",laoding:e.createLoading},on:{click:e.createDatabase}},[e._v("保存")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:e.back}},[e._v("返回")])],1)],1)],1)},staticRenderFns:[]},ge=a("/Xao")(he,fe,!1,null,null,null).exports;function ve(e){return pe({url:"tb/department/list",method:"post",params:e})}var be=a("dPXb"),ye=a.n(be),_e={data:function(){return{clipboard:"",url:"http://localhost:9527/regist/",textarea:"",type:"",showUserAdd:!1,createLoading:!1,searchUser:"",updateUserPermission:"",permission:[{id:2,name:"Admin"},{id:3,name:"Edit"},{id:4,name:"View"}],tempUser:{username:"",password:"",nickname:"",userRole:"",emailAddress:"",enabled:2,tbDepartmentId:""},userRules:{username:[{required:!0,message:"请填写用户名",trigger:"change,blur"}],userRole:[{required:!0,message:"请选择角色",trigger:"change,blur"}]},filterUserlist:[],userList:[],tree:[]}},methods:{createUser:function(){var e=this;this.$refs.userForm.validate(function(t){var a;e.createLoading=!0,(a=e.tempUser,pe({url:"tb/user/admin/add",method:"post",data:a})).then(function(t){200==t.code?(e.$message.success(t.message),e.back(),e.getUserlist()):e.$message.error(t.message)})})},back:function(){this.tempUser={username:"",password:"",nickname:"",userRole:"",emailAddress:"",tbDepartmentId:"",enabled:2},this.$refs.userForm.resetFields(),this.createLoading=!1,this.showUserAdd=!1},deleteUser:function(e,t){var a=this;this.$confirm("确定删除用户"+e.username+"?","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning"}).then(function(){var s;(s={userId:e.userId},pe({url:"tb/user/admin/delete",method:"post",params:s})).then(function(e){200==e.code?(a.$message.success("删除用户成功"),a.userList.splice(t,1),a.filterUserlist.splice(t,1)):a.$message.error(e.message)})}).catch(function(){})},userUpdate:function(e,t){var a,s=this;(a=e,pe({url:"tb/user/admin/update",method:"post",data:a})).then(function(e){200==e.code?(s.$message.success("修改用户角色成功"),s.userList.splice(t,1,e.data)):s.$message.error(e.message)})},getUserlist:function(){var e=this;oe({}).then(function(t){200==t.code?(e.userList=t.data.list.slice(),e.filterUserlist=t.data.list.slice()):e.$message.error(t.message)})},filterUser:function(){if(this.searchUser)if(this.userList.length>0){var e=new RegExp(".*"+this.searchUser+".*","i");this.filterUserlist=this.userList.filter(function(t){if(e.test(t.username))return t})}else this.filterUserlist=this.userList.slice();else this.filterUserlist=this.userList.slice()},showUpdate:function(e,t){this.tempUser=Z()(e),this.showUserAdd=!0},copy:function(){var e=this;this.clipboard.on("success",function(){e.$message.success("复制成功"),e.clipboard=null,e.clipboard=new ye.a(".copy")}),this.clipboard.on("error",function(){e.$message.error("复制失败")})},refreshUserKey:function(e){var t,a=this;(t={userId:e.userId},pe({url:"tb/user/admin/refresh",method:"post",data:t})).then(function(e){200==e.code?a.$message.success(e.message):a.$message.error(e.message)})},getDepartmentList:function(){var e=this;ve().then(function(t){200==t.code?e.getTreeArr()(t.data.tree):e.$message.error(t.message)})},getTreeArr:function(){var e=this.tree,t=0;return function a(s){s.length>0&&s.forEach(function(s){s.index=t,e.push(s),s.childrenList||(t=0),s.childrenList&&(t++,a(s.childrenList))})}}},computed:{},created:function(){var e=this;this.clipboard=new ye.a(".copy"),this.getUserlist(),this.getDepartmentList(),this.$on("init",function(){e.showUserAdd=!1,e.searchUser="",e.filterUser()})},mounted:function(){},beforeDestroy:function(){this.clipboard=null}},xe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{directives:[{name:"show",rawName:"v-show",value:!e.showUserAdd,expression:"!showUserAdd"}]},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{placeholder:"使用用户名搜索","prefix-icon":"el-icon-search"},on:{input:e.filterUser},model:{value:e.searchUser,callback:function(t){e.searchUser=t},expression:"searchUser"}})],1),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:12}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.showUserAdd=!0,e.type="create"}}},[a("i",{staticClass:"el-icon-plus m-r-5"}),e._v("创建\n            ")])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("div",{staticClass:"m-t-10  CardList"},[a("el-row",{staticClass:"m-t ConfigListTitle"},[a("el-col",{staticStyle:{"padding-left":"26px"},attrs:{span:6}},[e._v("用户")]),e._v(" "),a("el-col",{attrs:{span:3}},[e._v("是否激活")]),e._v(" "),a("el-col",{attrs:{span:3}},[e._v("创建时间")]),e._v(" "),a("el-col",{attrs:{span:4}},[e._v("角色")]),e._v(" "),a("el-col",{attrs:{span:3}}),e._v(" "),a("el-col",{attrs:{span:3}})],1),e._v(" "),e._l(e.filterUserlist,function(t,s){return a("el-card",{directives:[{name:"show",rawName:"v-show",value:e.filterUserlist.length>0,expression:"filterUserlist.length>0"}],key:t.userId+"_user_",staticClass:"box-card m-t-5",attrs:{"body-style":{padding:"6px"}}},[a("el-row",[a("el-col",{staticStyle:{"line-height":"28px","padding-left":"20px"},attrs:{span:6}},[e._v("\n                             "),a("span",[e._v(e._s(t.username))])]),e._v(" "),a("el-col",{staticStyle:{"line-height":"28px"},attrs:{span:3}},[e._v("\n                             \n                             "),a("span",[e._v(e._s(t.password?"已激活":"未激活"))])]),e._v(" "),a("el-col",{staticStyle:{"line-height":"28px"},attrs:{span:3}},[e._v("\n                             "),a("span",[e._v(e._s(e._f("unixTime")(t.createTime)))])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{size:"mini"},on:{change:function(a){e.userUpdate(t,s)}},model:{value:t.userRole,callback:function(a){e.$set(t,"userRole",a)},expression:"per.userRole"}},e._l(e.permission,function(e){return a("el-option",{key:"@"+e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-col",{staticClass:"text-center",attrs:{span:3}},[e._v("\n                               "),a("el-button",{staticClass:"copy",attrs:{type:"primary",size:"mini",plain:"","data-clipboard-text":"http://localhost:9527/regist/"+t.userKey},on:{click:function(t){e.copy()}}},[e._v("复制链接")])],1),e._v(" "),a("el-col",{staticClass:"text-center",attrs:{span:3}},[e._v("\n                             \n                            "),a("el-button",{attrs:{size:"mini",type:"info",plain:""},on:{click:function(a){e.refreshUserKey(t)}}},[e._v("刷新")])],1),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:2}},[a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){e.deleteUser(t,s)}}},[a("i",{staticClass:"el-icon-close"})])],1)],1)],1)}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.filterUserlist.length,expression:"filterUserlist.length==0"}],staticClass:"Empty text-center"},[e._v("\n                        没有查询到用户数据\n                ")])],2)])],1),e._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showUserAdd,expression:"showUserAdd"}],ref:"userForm",staticClass:" Form ",attrs:{size:"medium",model:e.tempUser,rules:e.userRules,"label-position":"right","label-width":"100px"}},[a("el-col",{attrs:{span:22}},[a("el-form-item",{attrs:{label:"用户名 :",prop:"username"}},[a("el-input",{attrs:{type:"text"},model:{value:e.tempUser.username,callback:function(t){e.$set(e.tempUser,"username",t)},expression:"tempUser.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色 :",required:"",prop:"userRole"}},[a("el-select",{attrs:{placeholder:"请选择角色"},model:{value:e.tempUser.userRole,callback:function(t){e.$set(e.tempUser,"userRole",t)},expression:"tempUser.userRole"}},e._l(e.permission,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"部门 :"}},[a("el-select",{attrs:{placeholder:"请选择所属部门"},model:{value:e.tempUser.tbDepartmentId,callback:function(t){e.$set(e.tempUser,"tbDepartmentId",t)},expression:"tempUser.tbDepartmentId"}},e._l(e.tree,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}},[a("span",[e._v(e._s("----".repeat(t.index)+t.name))])])}))],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱 :"}},[a("el-input",{attrs:{type:"text"},model:{value:e.tempUser.emailAddress,callback:function(t){e.$set(e.tempUser,"emailAddress",t)},expression:"tempUser.emailAddress"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"昵称 :"}},[a("el-input",{attrs:{type:"text"},model:{value:e.tempUser.nickname,callback:function(t){e.$set(e.tempUser,"nickname",t)},expression:"tempUser.nickname"}})],1),e._v(" "),a("el-form-item",{staticClass:"text-center"},[a("el-button",{attrs:{type:"primary",size:"mini",laoding:e.createLoading},on:{click:e.createUser}},[e._v("保存")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:e.back}},[e._v("返回")])],1)],1)],1),e._v(" "),a("el-input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"input"},model:{value:e.textarea,callback:function(t){e.textarea=t},expression:"textarea"}})],1)},staticRenderFns:[]};var we=a("/Xao")(_e,xe,!1,function(e){a("Tdv8")},null,null).exports,ke={data:function(){return{type:"",createLoading:!1,showAdd:!1,searchDepartment:"",Department:{name:"",level:"",parentId:"",seq:""},DepartmentRules:{name:[{required:!0,message:"请填写部门名称",trigger:"change,blur"}]},filterDepartmentList:[],DepartmentList:[],tree:[],selectParams:{multiple:!1,clearable:!1,placeholder:"请选择父级"},defaultProps:{children:"childrenList",label:"name"},childrenIdArr:[]}},methods:{deleteDepartment:function(e,t){var a=this;this.$confirm("确定删除部门 - "+e.name+"?","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning"}).then(function(){var t;(t={id:e.id},pe({url:"tb/department/delete",method:"post",params:t})).then(function(e){200==e.code?(a.getDepartmentList(),a.$message.success(e.message)):a.$message.error(e.message)})}).catch(function(){})},back:function(){this.Department={DepartmentName:"",DepartmentComment:""},this.createLoading=!1,this.showAdd=!1},createDepartment:function(){var e=this;this.$refs.DepartmentForm.validate(function(t){var a;t&&(e.createLoading=!0,"create"==e.type&&(a=e.Department,pe({url:"tb/department/add",method:"post",data:a})).then(function(t){e.createLoading=!1,200==t.code?(e.$message.success(t.message),e.getDepartmentList(),e.back()):e.$message.error(t.message)}),"update"==e.type&&function(e){return pe({url:"tb/department/update",method:"post",data:e})}(e.Department).then(function(t){e.createLoading=!1,200==t.code?(e.back(),e.$message.success(t.message),e.getDepartmentList()):e.$message.error(t.message)}))})},getDepartmentList:function(){var e=this;ve().then(function(t){200==t.code?(e.DepartmentList=t.data.list.slice(),e.filterDepartmentList=t.data.list.slice(),e.getTreeArr()(t.data.tree)):e.$message.error(t.message)})},filterDepartment:function(){if(this.searchDepartment)if(this.DepartmentList.length>0){var e=new RegExp(this.searchDepartment,"i");this.filterDepartmentList=this.DepartmentList.filter(function(t){return e.test(t.name)})}else this.filterDepartmentList=this.DepartmentList.slice();else this.filterDepartmentList=this.DepartmentList.slice()},showUpdate:function(e,t){var a,s=this;(a={id:e.id},pe({url:"tb/department/getChildren",method:"post",params:a})).then(function(e){200==e.code?s.childrenIdArr=e.data:s.$message.error(e.message)}),this.Department=Z()({},e),this.showAdd=!0,this.type="update"},showCreate:function(){var e=this;this.showAdd=!0,this.type="create",this.$nextTick(function(){e.$refs.DepartmentForm.resetFields()})},getTreeArr:function(){var e=this.tree,t=0;return function a(s){s.length>0&&s.forEach(function(s){s.index=t,e.push(s),s.childrenList||(t=0),s.childrenList&&(t++,a(s.childrenList))})}}},created:function(){var e=this;this.getDepartmentList(),this.$on("init",function(){e.showAdd=!1,e.searchDepartment="",e.filterDepartment()})}},Te={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{directives:[{name:"show",rawName:"v-show",value:!e.showAdd,expression:"!showAdd"}]},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{placeholder:"使用网关名称搜索","prefix-icon":"el-icon-search"},on:{input:e.filterDepartment},model:{value:e.searchDepartment,callback:function(t){e.searchDepartment=t},expression:"searchDepartment"}})],1),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:12}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.showCreate}},[a("i",{staticClass:"el-icon-plus m-r-5"}),e._v("创建\n            ")])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("div",{staticClass:"m-t-10 CardList"},[a("el-row",{staticClass:"m-t ConfigListTitle"},[a("el-col",{staticStyle:{"padding-left":"26px"},attrs:{span:4}},[e._v("部门名称")]),e._v(" "),a("el-col",{attrs:{span:4}},[e._v("部门级别")]),e._v(" "),a("el-col",{attrs:{span:4}},[e._v("父级部门")]),e._v(" "),a("el-col",{attrs:{span:4}},[e._v("排序号")]),e._v(" "),a("el-col",{attrs:{span:4}},[e._v("创建时间")]),e._v(" "),a("el-col",{staticClass:"text-right",staticStyle:{"padding-right":"20px"},attrs:{span:4}},[e._v("操作")])],1),e._v(" "),e._l(e.filterDepartmentList,function(t,s){return a("el-card",{key:t.id+"_depart_"+s,staticClass:"box-card m-t-5",attrs:{"body-style":{padding:"6px"}}},[a("el-row",[a("el-col",{staticStyle:{"line-height":"28px","padding-left":"20px"},attrs:{span:4}},[e._v("\n                                     \n                                        "),a("span",[e._v(e._s(t.name))])]),e._v(" "),a("el-col",{staticStyle:{"line-height":"28px"},attrs:{span:4}},[e._v("\n                                       "),a("span",[e._v(e._s(t.level))])]),e._v(" "),a("el-col",{staticStyle:{"line-height":"28px"},attrs:{span:4}},[e._v("\n                                       "),a("span",[e._v(e._s(t.parentName.name==t.name?"无":t.parentName.name))])]),e._v(" "),a("el-col",{staticStyle:{"line-height":"28px"},attrs:{span:4}},[e._v("\n                                       "),a("span",[e._v(e._s(t.seq))])]),e._v(" "),a("el-col",{staticStyle:{"line-height":"28px"},attrs:{span:4}},[e._v("\n                                      \n                                         "),a("span",[e._v(e._s(e._f("unixTime")(t.createAt,!0)))])]),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:4}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){e.showUpdate(t,s)}}},[a("i",{staticClass:"el-icon-edit"})]),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){e.deleteDepartment(t,s)}}},[a("i",{staticClass:"el-icon-close"})])],1)],1)],1)}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.filterDepartmentList.length,expression:"filterDepartmentList.length==0"}],staticClass:"Empty text-center"},[e._v("\n                                    没有查询到组织管理数据\n                             ")])],2)])],1),e._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showAdd,expression:"showAdd"}],ref:"DepartmentForm",staticClass:"small-space Form setting-form FormError",attrs:{size:"mini",model:e.Department,rules:e.DepartmentRules,"label-position":"right","label-width":"120px"}},[a("el-form-item",{attrs:{label:"部门名称 :",size:"mini",prop:"name"}},[a("el-col",{attrs:{span:22}},[a("el-input",{attrs:{type:"text"},model:{value:e.Department.name,callback:function(t){e.$set(e.Department,"name",t)},expression:"Department.name"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"部门级别 :",size:"mini"}},[a("el-col",{attrs:{span:22}},[a("el-input",{attrs:{type:"text"},model:{value:e.Department.level,callback:function(t){e.$set(e.Department,"level",t)},expression:"Department.level"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"父级部门 :",size:"mini"}},[a("el-col",{directives:[{name:"show",rawName:"v-show",value:"create"==e.type,expression:"type=='create'"}],attrs:{span:22}},[a("el-select",{model:{value:e.Department.parentId,callback:function(t){e.$set(e.Department,"parentId",t)},expression:"Department.parentId"}},e._l(e.tree,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}},[a("span",[e._v(e._s("----".repeat(t.index)+t.name))])])}))],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:"update"==e.type,expression:"type=='update'"}],attrs:{span:22}},[a("el-select",{model:{value:e.Department.parentId,callback:function(t){e.$set(e.Department,"parentId",t)},expression:"Department.parentId"}},e._l(e.tree,function(t){return a("el-option",{directives:[{name:"show",rawName:"v-show",value:!e.childrenIdArr.includes(t.id),expression:"!childrenIdArr.includes(child.id)"}],key:t.id,attrs:{label:t.name,value:t.id}},[a("span",[e._v(e._s("----".repeat(t.index)+t.name))])])}))],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"排序号 :",size:"mini"}},[a("el-col",{attrs:{span:22}},[a("el-input",{attrs:{type:"text"},model:{value:e.Department.seq,callback:function(t){e.$set(e.Department,"seq",t)},expression:"Department.seq"}})],1)],1),e._v(" "),a("el-form-item",{staticClass:"text-center"},[a("el-button",{attrs:{type:"primary",size:"mini",laoding:e.createLoading},on:{click:e.createDepartment}},[e._v("保存")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:e.back}},[e._v("返回")])],1)],1)],1)},staticRenderFns:[]},Se=a("/Xao")(ke,Te,!1,null,null,null).exports,Le=a("IHPB"),Ne=a.n(Le);function Ce(e){return pe({url:"config/dataanalysis/admin/list",method:"post",params:e})}function De(e){return pe({url:"config/dataanalysis/msa/admin/list",method:"post",params:e})}function Ie(e){return pe({url:"config/dataanalysis/msa/admin/detail",method:"post",params:e})}function Ae(e){return pe({url:"config/dataanalysis/parameter/control/viewer/getControlParameterValues",method:"post",params:e})}var Fe=a("2RDZ"),Me=(a("U//3"),a("BO43"),a("yNHG"),a("LIbc")),Re={components:{codemirror:Fe.codemirror},data:function(){return{type:"",searchDatasource:"",showAdd:!1,createLoading:!1,mySqlOption:{tabSize:4,styleActiveLine:!0,lineNumbers:!0,line:!0,mode:"text/x-sql",lineWrapping:!0,theme:"rubyblue",autoRefresh:!0},calculationType:[{id:1,name:"计量管制"},{id:2,name:"计数管制"}],projectType:[{id:1,name:"抽样"},{id:2,name:"趋势"},{id:3,name:"在线预警"}],parameterValueType:[{id:1,name:"选项"},{id:5,name:"日期"},{id:2,name:"日期时间"},{id:3,name:"输入"},{id:4,name:"sql"}],Form:{configDataanalysis:{configDataanalysisName:"",configDatasourceId:"",calculationType:"",projectType:"",comment:"",selectSql:"",sqlDes:"",createTime:"",configDataanalysisMsaName:"",tableName:"",fieldComponent:"",fieldIndex:"",fieldStaff:"",fieldValue:"",cron:""},configDataanalysisParameterControl1:[[]],configDataanalysisParameterAdditional1:[[]],configDataanalysisParameterControl2:[[]],configDataanalysisParameterAdditional2:[[]],configDataanalysisParameterControl3:[[]],configDataanalysisParameterAdditional3:[[]],msaAdditional:[{parameterName:"测量部件选项",parameter:"controlComponents",parameterValueArr:[]},{parameterName:"测量人员选项",parameter:"controlStaff",parameterValueArr:[]},{parameterName:"测量序号选项",parameter:"controlIndex",parameterValueArr:[]}],sample:[{sql:""}],process:[{sql:"",sqlDes:""}],warning:[{sql:""}]},computed1:[[]],computed2:[[]],computed3:[[]],dsRules:{configDataanalysis:{configDataanalysisName:[{required:!0,message:"请填写数据分析名称",trigger:"change,blur"}],calculationType:[{required:!0,message:"请选择分析类型",trigger:"change,blur"}],projectType:[{required:!0,message:"请选择分析项类型",trigger:"change,blur"}],configDatasourceId:[{required:!0,message:"请选择数据源",trigger:"change,blur"}],cron:[{required:!0,message:"请填写定时设置",trigger:"change,blur"}]}},filterDsList:[],dsList:[],filterDsMsaList:[],dsMsaList:[],dbList:[],Booleananalysis:!0,repeatParameter:[],parameterCache1:[{}],parameterCache2:[{}],parameterCache3:[{}]}},methods:{deleteDatasource:function(e,t,a){var s=this,r="";e.configDataanalysisName&&(r=e.configDataanalysisName),e.configDataanalysisMsaName&&(r=e.configDataanalysisMsaName),this.$confirm("确定删除分析项"+r+"?","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning"}).then(function(){var r;"spc"==a&&(r={configDataanalysisId:e.configDataanalysisId},pe({url:"config/dataanalysis/admin/delete",method:"post",params:r})).then(function(e){200==e.code?(s.$message.success("删除数据分析成功"),s.dsList.splice(t,1),s.filterDsList.splice(t,1)):s.$message.error(e.message)}),"msa"==a&&function(e){return pe({url:"config/dataanalysis/msa/admin/delete",method:"post",params:e})}({configDataanalysisMsaId:e.configDataanalysisMsaId}).then(function(e){200==e.code?(s.$message.success("删除数据分析成功"),s.dsMsaList.splice(t,1),s.filterDsMsaList.splice(t,1)):s.$message.error(e.message)})}).catch(function(){})},back:function(){this["parameterCache"+this.Form.configDataanalysis.projectType]={},this.repeatParameter=[],this.Form={configDataanalysis:{configDataanalysisName:"",configDatasourceId:"",calculationType:"",comment:"",selectSql:"",sqlDes:"",createTime:"",configDataanalysisMsaId:"",tableName:"",fieldComponent:"",fieldIndex:"",fieldStaff:"",fieldValue:"",cron:""},configDataanalysisParameterControl1:[[]],configDataanalysisParameterAdditional1:[[]],configDataanalysisParameterControl2:[[]],configDataanalysisParameterAdditional2:[[]],configDataanalysisParameterControl3:[[]],configDataanalysisParameterAdditional3:[[]],msaAdditional:[{parameterName:"测量部件选项",parameter:"controlComponents",parameterValueArr:[]},{parameterName:"测量人员选项",parameter:"controlStaff",parameterValueArr:[]},{parameterName:"测量序号选项",parameter:"controlIndex",parameterValueArr:[]}],sample:[{sql:"",sqlDes:""}],process:[{sql:""}],warning:[{sql:""}]},this.computed1=[[]],this.computed2=[[]],this.computed3=[[]],this.parameterCache1=[{}],this.parameterCache2=[{}],this.parameterCache3=[{}],this.$refs.dsForm.resetFields(),this.createLoading=!1,this.showAdd=!1},analysis:function(e,t){var a=this;if(!this.Form.configDataanalysis.calculationType)return this.$message.warning("请先选择分析类型"),!1;if(!e||"number"==typeof e)return!1;var s=this.Form.configDataanalysis.projectType;/\s+delete\s+/i.test(e)&&this.$message.warning("SQL中不能包含关键字 delete"),/\s+insert\s+/i.test(e)&&this.$message.warning("SQL中不能包含关键字 insert"),/\s+update\s+/i.test(e)&&this.$message.warning("SQL中不能包含关键字 update"),/\s+\*\s+/i.test(e)&&this.$message.warning("SQL中不能包含关键字 *");var r=this,i=[],o={};if(this.Booleananalysis){this.Form["configDataanalysisParameterControl"+s][t]=[];var n=e.match(/\s+\w+\s*(>|<|>=|<=|=)\s*@\w+\s+/gi);if(n&&n instanceof Array&&n.length>0){var l=(n=this.replace(n)).map(function(e){return(e=e.trim()).split(" ")}),c={};l.forEach(function(e,t){c[e[0]]?c[e[0].trim()]+=1:c[e[0].trim()]=1}),l.length>0&&l.forEach(function(e,r){if(1==c[e[0].trim()]){i=[].concat(Ne()(i),Ne()(e.slice(-1)));var o={parameter:e[2].trim(),parameterValueType:3,parameterValue:"",parameterValueArr:[],comment:"",sectionStart:!1,sectionOff:!1,sectionValue:e[0].trim(),symbol:e[1].trim(),configDataanalysisId:null,sqlIndex:t,required:"1"};a["parameterCache"+s][t]&&a["parameterCache"+s][t][e[2].trim()]?a.Form["configDataanalysisParameterControl"+s][t].push(Z()({},a["parameterCache"+s][t][e[2]])):(a["parameterCache"+s][t][e[2].trim()]=o,a.Form["configDataanalysisParameterControl"+s][t].push(o))}})}var u=e.match(/\s+(\w+)\s*(>|<|>=|<=)\s*@\w+\s*and\s*\1\s*(>|<|>=|<=)\s*@\w+\s+/gi);if(u&&u instanceof Array&&u.length>0){var d=[];u.forEach(function(e){e=e.replace(/and/i,","),d=[].concat(Ne()(d),Ne()(e.split(",")))});var p=(u=this.replace(d)).map(function(e){return(e=e.trim()).split(" ")});p.length>0&&p.forEach(function(e,r){i=[].concat(Ne()(i),Ne()(e.slice(-1)));var o={parameter:e[2].trim(),parameterValueType:3,parameterValue:"",parameterValueArr:[],comment:"",sectionStart:e[1].indexOf(">")>=0,sectionOff:e[1].indexOf("<")>=0,sectionValue:e[0].trim(),symbol:e[1].trim(),sqlIndex:t,required:"1"};a["parameterCache"+s][t][e[2].trim()]?a.Form["configDataanalysisParameterControl"+s][t].push(Z()({},a["parameterCache"+s][t][e[2].trim()])):(a["parameterCache"+s][t][e[2].trim()]=o,a.Form["configDataanalysisParameterControl"+s][t].push(o))})}var m=e.match(/\s+\w+\s+between\s+@\w+\s+and\s+@\w+\s+/gi);if(m&&m instanceof Array&&m.length>0){var h=[];m.forEach(function(e){h.push(e.replace(/between/i,",").replace(/and/i,",").split(","))});var f=h;f.length>0&&f.forEach(function(e,r){i=[].concat(Ne()(i),Ne()(e.slice(1)));var o={parameter:e[1].trim(),parameterValueType:3,parameterValue:"",parameterValueArr:[],comment:"",sectionStart:!0,sectionOff:!1,sectionValue:e[0].trim(),symbol:"至",configDataanalysisId:null,sqlIndex:t,required:"1"};a["parameterCache"+s][t][e[1].trim()]?a.Form["configDataanalysisParameterControl"+s][t].push(Z()({},a["parameterCache"+s][t][e[1].trim()])):(a["parameterCache"+s][t][e[1].trim()]=o,a.Form["configDataanalysisParameterControl"+s][t].push(o));var n={parameter:e[2].trim(),parameterValueType:3,parameterValue:"",parameterValueArr:[],comment:"",sectionStart:!1,sectionOff:!0,sectionValue:e[0].trim(),symbol:"至",configDataanalysisId:null,sqlIndex:t,required:"1"};a["parameterCache"+s][t][e[2].trim()]?a.Form["configDataanalysisParameterControl"+s][t].push(Z()({},a["parameterCache"+s][t][e[2].trim()])):(a["parameterCache"+s][t][e[2].trim()]=n,a.Form["configDataanalysisParameterControl"+s][t].push(n))})}var g=e.match(/\s+@\w+\s*=?<\s*\w+\s*=?<\s*@\w+\s+/gi);if(g&&g instanceof Array&&g.length>0){var v=g.map(function(e){return(e=e.trim()).indexOf(">=")>=0?e=e.replace(/>=/g," >= "):e.indexOf(">")>=0&&(e=e.replace(/>/g," > ")),e.indexOf("<=")>=0?e=e.replace(/<=/g," <="):e.indexOf("<")>=0&&(e=e.replace(/</g," < ")),e.split(" ")});v.length>0&&v.forEach(function(e,r){i=[].concat(Ne()(i),Ne()(e.slice(0,1))),i=[].concat(Ne()(i),Ne()(e.slice(4)));var o={parameter:e[0].trim(),parameterValueType:3,parameterValue:"",parameterValueArr:[],comment:"",sectionStart:e[1].indexOf("<")>=0,sectionOff:!(e[1].indexOf("<")>=0),sectionValue:e[2].trim(),symbol:e[1].trim(),configDataanalysisId:null,sqlIndex:t,required:"1"};a["parameterCache"+s][t][e[0].trim()]?a.Form["configDataanalysisParameterControl"+s][t].push(Z()({},a["parameterCache"+s][t][e[0].trim()])):(a["parameterCache"+s][t][e[0].trim()]=o,a.Form["configDataanalysisParameterControl"+s][t].push(o));var n={parameter:e[4].trim(),parameterValueType:3,parameterValue:"",parameterValueArr:[],comment:"",sectionStart:!(e[1].indexOf("<")>=0),sectionOff:e[1].indexOf("<")>=0,sectionValue:e[2].trim(),symbol:e[3].trim(),configDataanalysisId:null,sqlIndex:t,required:"1"};a["parameterCache"+s][t][e[4].trim()]?a.Form["configDataanalysisParameterControl"+s][t].push(Z()({},a["parameterCache"+s][t][e[4].trim()])):(a["parameterCache"+s][t][e[4].trim()]=n,a.Form["configDataanalysisParameterControl"+s][t].push(n))})}}this["computed"+s][t]=[];var b=[];this.Form["configDataanalysisParameterAdditional"+s][t]=[];var y=e.match(/^\s*select\s*[\s\S]+?\s*from/gi);if(y&&y instanceof Array&&y.length>0){this.Booleananalysis&&(this.Form["configDataanalysisParameterAdditional"+s][t]=[]),y&&y instanceof Array&&y.length>0&&(b=y.map(function(e){return e.replace(/select/i,"").replace(/from/i,"").replace("，",",").trim().split(",")}));var _=[];if(b.forEach(function(e){_=[].concat(Ne()(_),Ne()(e))}),i=[].concat(Ne()(i),Ne()(_)),r.repeatParameter=[],o={},i.length>0&&i.forEach(function(e){o[e.trim()]?(o[e.trim()]+=1,r.repeatParameter.push(e.trim()),r.$message.warning("参数名称不能重复,"+e+"重复出现")):o[e.trim()]=1}),1==r.Form.configDataanalysis.calculationType)_.length>0?_.forEach(function(e,i){0==i?r["computed"+s][t].push({controlInfoName:e,controlLabel:"数值"}):e&&(a["parameterCache"+s][t][e]?r.Form["configDataanalysisParameterAdditional"+s][t].push({field:e,fieldComment:a["parameterCache"+s][t][e],sqlIndex:t}):(a["parameterCache"+s][t][e]="",r.Form["configDataanalysisParameterAdditional"+s][t].push({field:e,fieldComment:"",sqlIndex:t})))}):r["computed"+s][t].push({controlInfoName:"",controlLabel:"数值"});else if(2==r.Form.configDataanalysis.calculationType){var x=["不良原因","采样总数","不良总数"];_.length>=3?_.forEach(function(e,i){i<3?r["computed"+s][t].push({controlInfoName:e,controlLabel:x[i]}):e&&(a["parameterCache"+s][t][e]?r.Form["configDataanalysisParameterAdditional"+s][t].push({field:e,fieldComment:a["parameterCache"+s][t][e],sqlIndex:t}):(a["parameterCache"+s][t][e]="",r.Form["configDataanalysisParameterAdditional"+s][t].push({field:e,fieldComment:"",sqlIndex:t})))}):x.forEach(function(e,a){r["computed"+s][t].push({controlInfoName:_[a]?_[a]:"",controlLabel:e})})}}this.Booleananalysis=!0},replace:function(e){return e.map(function(e){return e.indexOf(">=")>=0?e=e.replace(">="," >= "):e.indexOf("<=")>=0?e=e.replace("<="," <="):e.indexOf("<")>=0?e=e.replace("<"," < "):e.indexOf(">")>=0?e=e.replace(">"," > "):e.indexOf("=")>=0&&(e=e.replace("="," = ")),e.trim()})},getDblist:function(){var e=this;me().then(function(t){200==t.code?e.dbList=t.data.list:e.$message.error(t.message)})},getDsList:function(){var e=this;Ce().then(function(t){200==t.code?(e.dsList=t.data.list,e.filterDsList=e.dsList.slice()):e.$message.error(t.message)})},addOption:function(e){var t=e.slice(-1);t.length>0&&t[0].indexOf(";")>=0&&(this.$message.warning("参数值 "+t+" 中不能包含 ;"),e.pop())},checkSql:function(e){if(0==this.Form[e].length)return this.$message.warning("请最少填写一条SQL"),!1;for(var t=/^\s*select\s*[\s\S]+?\s*from/gi,a=[],s=0;s<this.Form[e].length;s++){var r=this.Form[e][s].sql.match(t);if(r&&r instanceof Array&&r.length>0&&r&&r instanceof Array&&r.length>0&&(a=r.map(function(e){return e.replace(/select/i,"").replace(/from/i,"").replace("，",",").trim().split(",")})),a.length>=1&&a[0].length>1)return this.$message.warning(a[0].join(",")+"只能查询一个"),!1}var i="";this.Form[e].forEach(function(e){e.sql&&(i=i+"{"+e.sql+"}")}),i=i},submit:function(){var e=this;this.$refs.dsForm.validate(function(t){if(t){var a=e.Form.configDataanalysis.projectType,s=[];switch(a){case 1:s=e.Form.sample;break;case 2:s=e.Form.process;break;case 3:s=e.Form.warning}if(1==s.length&&!s[0].sql)return e.$message.warning("请填写SQL"),!1;var r=!0;if(s.length>0&&s.forEach(function(t,s){/\s+delete\s+/i.test(t.sql)&&(e.$message.warning("SQL中不能包含关键字 delete"),r=!1),/\s+insert\s+/i.test(t.sql)&&(e.$message.warning("SQL中不能包含关键字 insert"),r=!1),/\s+update\s+/i.test(t.sql)&&(e.$message.warning("SQL中不能包含关键字 update"),r=!1),/\s+\*\s+/i.test(t.sql)&&(e.$message.warning("SQL中不能包含关键字 *"),r=!1),e.Form["configDataanalysisParameterControl"+a][s]&&e.Form["configDataanalysisParameterControl"+a][s]instanceof Array&&e.Form["configDataanalysisParameterControl"+a][s].length>0&&e.Form["configDataanalysisParameterControl"+a][s].forEach(function(e){1==e.parameterValueType&&e.parameterValueArr instanceof Array&&e.parameterValueArr.length>0&&(e.parameterValue=e.parameterValueArr.join(";")),delete e.parameterValueArr}),"update"==e.type&&(e.Form["configDataanalysisParameterAdditional"+a][s]&&e.Form["configDataanalysisParameterAdditional"+a][s]instanceof Array&&e.Form["configDataanalysisParameterAdditional"+a][s].length>0&&e.Form["configDataanalysisParameterAdditional"+a][s].forEach(function(t){t.configDataanalysisId=e.Form.configDataanalysis.configDataanalysisId}),e.Form["configDataanalysisParameterControl"+a][s]&&e.Form["configDataanalysisParameterControl"+a][s]instanceof Array&&e.Form["configDataanalysisParameterControl"+a][s].length>0&&e.Form["configDataanalysisParameterControl"+a][s].forEach(function(t){t.configDataanalysisId=e.Form.configDataanalysis.configDataanalysisId,4==t.parameterValueType&&(t.parameterValue.trim().trim(";").trim(","),t.parameterValue=t.parameterValue+" ")})),r&&(e.Form.configDataanalysisParameterControl=[],e.Form["configDataanalysisParameterControl"+a].forEach(function(t){e.Form.configDataanalysisParameterControl=[].concat(Ne()(e.Form.configDataanalysisParameterControl),Ne()(t))}),e.Form.configDataanalysisParameterAdditional=[],e.Form["configDataanalysisParameterAdditional"+a].forEach(function(t){e.Form.configDataanalysisParameterAdditional=[].concat(Ne()(e.Form.configDataanalysisParameterAdditional),Ne()(t))}))}),!r)return!1;e.Form.configDataanalysis.selectSql="",e.Form.configDataanalysis.sqlDes="",2==a?s.forEach(function(t){t.sql&&(e.Form.configDataanalysis.selectSql+="{"+t.sql+"}",t.sqlDes?e.Form.configDataanalysis.sqlDes+="{"+t.sqlDes+"}":e.Form.configDataanalysis.sqlDes+="{}")}):e.Form.configDataanalysis.selectSql=s[0].sql;var i={configDataanalysisParameterAdditional:e.Form.configDataanalysisParameterAdditional,configDataanalysisParameterControl:e.Form.configDataanalysisParameterControl,configDataanalysis:e.Form.configDataanalysis};e.createLoading=!0,"create"==e.type&&(o=i,pe({url:"config/dataanalysis/admin/add",method:"post",data:o})).then(function(t){e.createLoading=!1,200==t.code?(e.getDsList(),e.back(),e.$message.success(t.message)):e.$message.error(t.message)}),"update"==e.type&&function(e){return pe({url:"config/dataanalysis/admin/update",method:"post",data:e})}(i).then(function(t){e.createLoading=!1,200==t.code?(e.getDsList(),e.back(),e.$message.success(t.message)):e.$message.error(t.message)})}var o})},sqlChange:function(e,t){if(this.Form.configDataanalysis.calculationType)if("false"!=t)this.analysis();else{/\s+delete\s+/i.test(e)&&this.$message.warning("SQL中不能包含关键字 delete"),/\s+insert\s+/i.test(e)&&this.$message.warning("SQL中不能包含关键字 insert"),/\s+update\s+/i.test(e)&&this.$message.warning("SQL中不能包含关键字 update"),/\s*\*\s*/i.test(e)&&this.$message.warning("SQL中不能包含关键字 *");var a=[],s=e.match(/^\s*select\s*.+?\s*from/gi);s&&s instanceof Array&&s.length>0&&s&&s instanceof Array&&s.length>0&&(a=s.map(function(e){return e.replace(/select/i,"").replace(/from/i,"").replace("，",",").trim().split(",")})),a.length>=1&&a[0].length>1&&this.$message.warning(a[0].join(",")+"只能查询一个")}else this.$message.warning("请选择分析类型")},filterDs:function(){if(this.searchDatasource){var e=new RegExp(this.searchDatasource,"i");this.dsList.length>0?this.filterDsList=this.dsList.filter(function(t){return e.test(t.configDataanalysisName)}):this.filterDsList=this.dsList.slice(),this.dsMsaList.length>0?this.filterDsMsaList=this.dsMsaList.filter(function(t){return e.test(t.configDataanalysisMsaName)}):this.filterDsMsaList=this.dsMsaList.slice()}else this.filterDsList=this.dsList.slice(),this.filterDsMsaList=this.dsMsaList.slice()},backSql:function(e,t,a){var s=this,r=/{.*?}/g,i=t.match(r),o=a.match(r);if(i&&i instanceof Array&&i.length>0){var n=[];i.forEach(function(e,t){n.push({sql:e.replace("{","").replace("}",""),sqlDes:o[t].replace("{","").replace("}","")})}),2==e&&(this.Form.process=n,n.forEach(function(e,t){s.Form.configDataanalysisParameterControl2.push([{}]),s.Form.configDataanalysisParameterAdditional2.push([{}]),s.parameterCache2.push({}),s.computed2.push([]),s.analysis(e.sql+" ",t)}))}},showUpdate:function(e,t,a){var s,r=this;this.type="update",this.Booleananalysis=!1,"spc"==a&&(s={configDataanalysisId:e.configDataanalysisId},pe({url:"config/dataanalysis/admin/detail",method:"post",params:s})).then(function(e){if(200==e.code){r.showAdd=!0;var t=e.data.configDataanalysis.projectType;r.Form.configDataanalysis=Z()({},r.Form.configDataanalysis,e.data.configDataanalysis),2==t?r.backSql(t,e.data.configDataanalysis.selectSql,e.data.configDataanalysis.sqlDes):(1==t&&(r.Form.sample=[{sql:e.data.configDataanalysis.selectSql}]),3==t&&(r.Form.warning=[{sql:e.data.configDataanalysis.selectSql}]),r.analysis(e.data.configDataanalysis.selectSql+" ",0)),e.data.configDataanalysisParameterAdditional instanceof Array&&e.data.configDataanalysisParameterAdditional.length>0&&(e.data.configDataanalysisParameterAdditional.sort(function(e){return e.sqlIndex}),r.Form["configDataanalysisParameterAdditional"+t]=[],r["parameterCache"+t]=[],e.data.configDataanalysisParameterAdditional.forEach(function(e){r["parameterCache"+t][e.sqlIndex]?r["parameterCache"+t][e.sqlIndex][e.field]=e.fieldComment:(r.$set(r["parameterCache"+t],e.sqlIndex,{}),r.$set(r["parameterCache"+t][e.sqlIndex],e.field,e.fieldComment)),r.Form["configDataanalysisParameterAdditional"+t][e.sqlIndex]?r.Form["configDataanalysisParameterAdditional"+t][e.sqlIndex].push({field:e.field,fieldComment:e.fieldComment,sqlIndex:e.sqlIndex}):(r.$set(r.Form["configDataanalysisParameterAdditional"+t],e.sqlIndex,[]),r.Form["configDataanalysisParameterAdditional"+t][e.sqlIndex].push({field:e.field,fieldComment:e.fieldComment,sqlIndex:e.sqlIndex}))})),e.data.configDataanalysisParameterControl instanceof Array&&e.data.configDataanalysisParameterControl.length>0&&(e.data.configDataanalysisParameterControl.sort(function(e){return e.sqlIndex}),r.Form["configDataanalysisParameterControl"+t]=[],e.data.configDataanalysisParameterControl.forEach(function(e){var a={parameter:e.parameter,parameterValueType:e.parameterValueType,parameterValue:e.parameterValue,parameterValueArr:[],comment:e.comment,sectionStart:e.sectionStart,sectionOff:e.sectionOff,sectionValue:e.sectionValue,symbol:e.symbol,sqlIndex:e.sqlIndex,required:e.required.toString()};1==e.parameterValueType&&(a.parameterValueArr=a.parameterValue.split(";")),r["parameterCache"+t][e.sqlIndex]?r.$set(r["parameterCache"+t][e.sqlIndex],e.parameter,a):(r.$set(r["parameterCache"+t],e.sqlIndex,{}),r.$set(r["parameterCache"+t][e.sqlIndex],e.parameter,a)),r.Form["configDataanalysisParameterControl"+t][e.sqlIndex]?r.Form["configDataanalysisParameterControl"+t][e.sqlIndex].push(a):(r.$set(r.Form["configDataanalysisParameterControl"+t],e.sqlIndex,[]),r.Form["configDataanalysisParameterControl"+t][e.sqlIndex].push(a))}))}else r.$message.error(e.message)}),"msa"==a&&Ie({configDataanalysisMsaId:e.configDataanalysisMsaId}).then(function(e){200==e.code?(r.showAdd=!0,r.Form.configDataanalysis=Z()({},r.Form.configDataanalysis,e.data),r.Form.configDataanalysis.configDataanalysisName=e.data.configDataanalysisMsaName,r.Form.configDataanalysis.calculationType=4,r.Form.msaAdditional.forEach(function(t){e.data[t.parameter]&&(t.parameterValueArr=e.data[t.parameter].split(";"))})):r.$message.error(e.message)})},getDsMsaList:function(){var e=this;De().then(function(t){200==t.code?(e.dsMsaList=t.data.list,e.filterDsMsaList=e.dsMsaList.slice()):e.$message.error(t.message)})},cache:function(e,t,a){var s=this.Form.configDataanalysis.projectType;"add"==e?this["parameterCache"+s][a][t.row.field]=t.row.fieldComment:"control"==e&&(this["parameterCache"+s][a][t.row.parameter]=Z()({},t.row))},addsql:function(e,t){var a=this,s=this.Form.configDataanalysis.projectType;"add"==t?("2"==s&&this.Form.process.push({sql:"",sqlDes:""}),this.Form["configDataanalysisParameterControl"+s].push([{}]),this.Form["configDataanalysisParameterAdditional"+s].push([{}]),this["parameterCache"+s].push({}),this["computed"+s].push([])):this.$confirm(e>0?"确定删除SQL"+e+"?":"确定删除SQL?","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning"}).then(function(){"2"==s&&a.Form.process.splice(e,1),"3"==s&&a.Form.warning.splice(e,1),a.Form["configDataanalysisParameterControl"+s].splice(e,1),a.Form["configDataanalysisParameterAdditional"+s].splice(e,1),a["parameterCache"+s].splice(e,1),a["computed"+s].splice(e,1)}).catch(function(){})}},watch:{}},$e={mixins:[Re],computed:{checkProjectType:function(){var e=this.Form.configDataanalysis.projectType;return 1==e?this.Form.sample:2==e?this.Form.process:3==e?this.Form.warning:[]}},methods:{checkComputed:function(e){var t=this.Form.configDataanalysis.projectType;return t?this["computed"+t][e]:[]},checkControl:function(e){var t=this.Form.configDataanalysis.projectType;return t?this.Form["configDataanalysisParameterControl"+t][e]:[]},checkAdditional:function(e){var t=this.Form.configDataanalysis.projectType;return t?this.Form["configDataanalysisParameterAdditional"+t][e]:[]},calculationTypeChange:function(){var e=this,t=[];switch(this.Form.configDataanalysis.projectType){case 1:t=this.Form.sample;break;case 2:t=this.Form.process;break;case 3:t=this.Form.warning}t.length>0&&t.forEach(function(t,a){e.analysis(t.sql,a)})},checkParameter:function(e){var t=this,a=e.row.parameterValue.match(/@.+?\s+/g);if(a&&Array.isArray(a)&&a.length>0){var s=this.Form.configDataanalysis.projectType;if(s){var r=this.Form["configDataanalysisParameterControl"+s][e.$index-1];Array.isArray(r)&&r.length>0&&a.forEach(function(e){for(var a=!1,s=0;s<r.length;s++)if(r[s].parameter==e.toString().trim())return a=!0,!0;a||t.$message.warning("参数"+e+"不存在")})}}}},created:function(){var e=this;this.getDblist(),this.getDsList(),this.$on("init",function(){e.showAdd=!1,e.searchDatasource="",e.filterDs()})}},ze={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{directives:[{name:"show",rawName:"v-show",value:!e.showAdd,expression:"!showAdd"}]},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{placeholder:"使用数据分析名称搜索","prefix-icon":"el-icon-search"},on:{input:e.filterDs},model:{value:e.searchDatasource,callback:function(t){e.searchDatasource=t},expression:"searchDatasource"}})],1),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:12}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.showAdd=!0,e.type="create"}}},[a("i",{staticClass:"el-icon-plus m-r-5"}),e._v("创建\n            ")])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("div",{staticClass:"m-t-10 CardList"},[a("el-row",{staticClass:"m-t ConfigListTitle"},[a("el-col",{staticStyle:{"padding-left":"26px"},attrs:{span:7}},[e._v("数据分析名称")]),e._v(" "),a("el-col",{attrs:{span:6}},[e._v("数据分析类型")]),e._v(" "),a("el-col",{attrs:{span:7}},[e._v("创建时间")]),e._v(" "),a("el-col",{staticClass:"text-right",staticStyle:{"padding-right":"20px"},attrs:{span:4}},[e._v("操作")])],1),e._v(" "),e._l(e.filterDsList,function(t,s){return a("el-card",{directives:[{name:"show",rawName:"v-show",value:e.filterDsList.length>0,expression:"filterDsList.length>0"}],key:t.configDataanalysisId+"ds",staticClass:"box-card m-t-5",attrs:{"body-style":{padding:"6px"}}},[a("el-row",[a("el-col",{staticStyle:{"line-height":"28px","padding-left":"20px"},attrs:{span:7}},[e._v("\n                            \n                             "),a("span",[e._v(e._s(t.configDataanalysisName))])]),e._v(" "),a("el-col",{staticStyle:{"line-height":"28px"},attrs:{span:6}},[e._v("\n                            \n                             "),a("span",[e._v(e._s(e.projectType[t.projectType-1].name)+" : "+e._s(["计量","计数"][t.calculationType-1]))])]),e._v(" "),a("el-col",{staticStyle:{"line-height":"28px"},attrs:{span:7}},[e._v("\n                            \n                             "),a("span",[e._v(e._s(e._f("unixTime")(t.createTime)))])]),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:4}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){e.showUpdate(t,s,"spc")}}},[a("i",{staticClass:"el-icon-edit"})]),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){e.deleteDatasource(t,s,"spc")}}},[a("i",{staticClass:"el-icon-close"})])],1)],1)],1)}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.filterDsList.length,expression:"filterDsList.length==0"}],staticClass:"Empty text-center"},[e._v("\n                        没有查询到数据分析项\n                ")])],2)])],1),e._v(" "),e.showAdd?a("div",[a("el-form",{ref:"dsForm",staticClass:"small-space Form setting-form FormError",attrs:{size:"mini",model:e.Form,rules:e.dsRules,"label-position":"right","label-width":"110px"}},[a("el-form-item",{attrs:{label:"名称 :",size:"mini",prop:"configDataanalysis.configDataanalysisName"}},[a("el-col",{attrs:{span:22}},[a("el-input",{attrs:{type:"text"},model:{value:e.Form.configDataanalysis.configDataanalysisName,callback:function(t){e.$set(e.Form.configDataanalysis,"configDataanalysisName",t)},expression:"Form.configDataanalysis.configDataanalysisName"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"数据源 :",size:"mini",prop:"configDataanalysis.configDatasourceId"}},[a("el-col",{attrs:{span:22}},[a("el-select",{attrs:{placeholder:"请选择数据源"},model:{value:e.Form.configDataanalysis.configDatasourceId,callback:function(t){e.$set(e.Form.configDataanalysis,"configDatasourceId",t)},expression:"Form.configDataanalysis.configDatasourceId"}},e._l(e.dbList,function(e){return a("el-option",{key:e.configDatasourceId,attrs:{label:e.configDatasourceName,value:e.configDatasourceId}})}))],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"描述 :",size:"mini"}},[a("el-col",{attrs:{span:22}},[a("el-input",{attrs:{type:"text"},model:{value:e.Form.configDataanalysis.comment,callback:function(t){e.$set(e.Form.configDataanalysis,"comment",t)},expression:"Form.configDataanalysis.comment"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"分析项类型 :",size:"mini",prop:"configDataanalysis.projectType"}},[a("el-col",{attrs:{span:22}},[a("el-select",{attrs:{placeholder:"请选择分析项类型"},model:{value:e.Form.configDataanalysis.projectType,callback:function(t){e.$set(e.Form.configDataanalysis,"projectType",t)},expression:"Form.configDataanalysis.projectType"}},e._l(e.projectType,function(e){return a("el-option",{key:"projectType"+e.id,attrs:{label:e.name,value:e.id}})}))],1)],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.Form.configDataanalysis.projectType,expression:"Form.configDataanalysis.projectType"}],attrs:{label:"分析类型 :",size:"mini",prop:"configDataanalysis.calculationType"}},[a("el-col",{attrs:{span:22}},[a("el-select",{attrs:{placeholder:"请选择分析类型"},on:{change:e.calculationTypeChange},model:{value:e.Form.configDataanalysis.calculationType,callback:function(t){e.$set(e.Form.configDataanalysis,"calculationType",t)},expression:"Form.configDataanalysis.calculationType"}},e._l(e.calculationType,function(e){return a("el-option",{key:"calculationType"+e.id,attrs:{label:e.name,value:e.id}})}))],1)],1),e._v(" "),e._l(e.checkProjectType,function(t,s){return a("div",{directives:[{name:"show",rawName:"v-show",value:e.Form.configDataanalysis.projectType>0,expression:"Form.configDataanalysis.projectType>0"}],key:"sample"+s},[a("el-form-item",{staticClass:"required",attrs:{label:s>0?"SQL"+s+" : ":"SQL : "}},[a("el-col",{staticClass:"CODEMIRROE CODEMIRROESource",staticStyle:{"margin-top":"10px",position:"relative"},attrs:{span:22}},[a("codemirror",{staticClass:"code",staticStyle:{"line-height":"20px"},attrs:{options:e.mySqlOption},on:{changes:function(a){e.analysis(t.sql+" ",s)}},model:{value:t.sql,callback:function(a){e.$set(t,"sql",a)},expression:"sql.sql"}})],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:2==e.Form.configDataanalysis.projectType,expression:"Form.configDataanalysis.projectType==2"}],staticClass:"text-right",attrs:{span:22}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:s==e.checkProjectType.length-1,expression:"index==checkProjectType.length-1"}],attrs:{size:"mini",type:"primary"},on:{click:function(t){e.addsql(s,"add")}}},[a("i",{staticClass:"el-icon-plus"})]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:1!=e.checkProjectType.length,expression:"checkProjectType.length!=1"}],attrs:{size:"mini",type:"primary",plain:""},on:{click:function(t){e.addsql(s,"del")}}},[a("i",{staticClass:"el-icon-delete"})])],1)],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2==e.Form.configDataanalysis.projectType,expression:"Form.configDataanalysis.projectType==2"}],attrs:{label:"描述 :"}},[a("el-col",{attrs:{span:22}},[a("el-input",{model:{value:t.sqlDes,callback:function(a){e.$set(t,"sqlDes",a)},expression:"sql.sqlDes"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"分析字段 : ",required:""}},[a("el-col",{attrs:{span:22}},[a("div",{staticClass:"Table SPC_Table levle_factor m-t-10"},[a("el-table",{attrs:{data:e.checkComputed(s),size:"small",border:""}},[a("el-table-column",{attrs:{prop:"controlInfoName",label:"字段",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{directives:[{name:"show",rawName:"v-show",value:e.repeatParameter.indexOf(t.row.controlInfoName)>=0,expression:"repeatParameter.indexOf(scope.row.controlInfoName)>=0"}],staticStyle:{color:"#f00"}},[e._v(" "+e._s(t.row.controlInfoName)+"\n                                    ")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:-1==e.repeatParameter.indexOf(t.row.controlInfoName),expression:"repeatParameter.indexOf(scope.row.controlInfoName)==-1"}]},[e._v(e._s(t.row.controlInfoName)+"\n                                    ")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.row.controlInfoName,expression:"!scope.row.controlInfoName"}],staticStyle:{color:"#f00"}},[e._v("缺失")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"controlLabel",label:"字段描述",align:"center"}})],1)],1)])],1),e._v(" "),a("el-form-item",{staticClass:"required",attrs:{label:"附加字段 :"}},[a("el-col",{attrs:{span:22}},[a("div",{staticClass:"Table SPC_Table levle_factor m-t-10 "},[a("el-table",{attrs:{data:e.checkAdditional(s),size:"mini",border:""}},[a("el-table-column",{attrs:{prop:"field",label:"字段",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{directives:[{name:"show",rawName:"v-show",value:e.repeatParameter.indexOf(t.row.field)>=0,expression:"repeatParameter.indexOf(scope.row.field)>=0"}],staticStyle:{color:"#f00"}},[e._v(" "+e._s(t.row.field)+" \n                                    ")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:-1==e.repeatParameter.indexOf(t.row.field),expression:"repeatParameter.indexOf(scope.row.field)==-1"}]},[e._v(" "+e._s(t.row.field)+" \n                                    ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"fieldComment",label:"字段描述",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{on:{change:function(a){e.cache("add",t,s)}},model:{value:t.row.fieldComment,callback:function(a){e.$set(t.row,"fieldComment",a)},expression:"scope.row.fieldComment"}})]}}])})],1)],1)])],1),e._v(" "),a("el-form-item",{attrs:{label:"参数配置 : ",required:""}},[a("el-col",{attrs:{span:22}},[a("div",{staticClass:"Table SPC_Table levle_factor m-t-10 Table_code_four"},[a("el-table",{attrs:{data:e.checkControl(s),size:"mini",border:""}},[a("el-table-column",{attrs:{prop:"parameter",label:"参数名称",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{directives:[{name:"show",rawName:"v-show",value:e.repeatParameter.indexOf(t.row.parameter)>=0,expression:"repeatParameter.indexOf(scope.row.parameter)>=0"}],staticStyle:{color:"#f00"}},[e._v(" "+e._s(t.row.parameter)+" \n                                    ")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:-1==e.repeatParameter.indexOf(t.row.parameter),expression:"repeatParameter.indexOf(scope.row.parameter)==-1"}]},[e._v(" "+e._s(t.row.parameter)+" \n                                    ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"required",label:"是否必填",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{model:{value:t.row.required,callback:function(a){e.$set(t.row,"required",a)},expression:"scope.row.required"}},[a("el-option",{attrs:{value:"1",label:"是"}}),e._v(" "),a("el-option",{attrs:{value:"0",label:"否"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"comment",label:"参数描述",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{on:{change:function(a){e.cache("control",t,s)}},model:{value:t.row.comment,callback:function(a){e.$set(t.row,"comment",a)},expression:"scope.row.comment"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"parameterValueType",label:"参数值类型",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{on:{change:function(a){t.row.parameterValue="",e.cache("add",t,s)}},model:{value:t.row.parameterValueType,callback:function(a){e.$set(t.row,"parameterValueType",a)},expression:"scope.row.parameterValueType"}},e._l(e.parameterValueType,function(e){return a("el-option",{key:e.name+"@"+e.id,attrs:{value:e.id,label:e.name}})}))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"parameterValue",label:"参数值",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.parameterValueType?a("el-select",{attrs:{multiple:"",filterable:"","allow-create":"",placeholder:"请输入参数值","no-data-text":"请输入参数值","collapse-tags":""},on:{change:function(a){e.addOption,e.cache("control",t,s)}},model:{value:t.row.parameterValueArr,callback:function(a){e.$set(t.row,"parameterValueArr",a)},expression:"scope.row.parameterValueArr"}},e._l(t.row.parameterValueArr,function(e,t){return a("el-option",{key:t+"@_"+e,attrs:{label:e,value:e}})})):e._e(),e._v(" "),2==t.row.parameterValueType?a("el-date-picker",{attrs:{type:"datetime"},on:{change:function(a){e.cache("control",t,s)}},model:{value:t.row.parameterValue,callback:function(a){e.$set(t.row,"parameterValue",a)},expression:"scope.row.parameterValue"}}):e._e(),e._v(" "),a("el-input",{directives:[{name:"show",rawName:"v-show",value:3==t.row.parameterValueType||""==t.row.parameterValueType,expression:"scope.row.parameterValueType==3 || scope.row.parameterValueType=='' "}],on:{change:function(a){e.cache("control",t,s)}},model:{value:t.row.parameterValue,callback:function(a){e.$set(t.row,"parameterValue",a)},expression:"scope.row.parameterValue"}}),e._v(" "),a("el-popover",{directives:[{name:"show",rawName:"v-show",value:4==t.row.parameterValueType,expression:"scope.row.parameterValueType==4"}],attrs:{placement:"left",width:"500",trigger:"click"}},[a("div",{attrs:{slot:"reference"},slot:"reference"},[e._v("创建sql")]),e._v(" "),a("div",{staticClass:"CODEMIRROE four"},[a("codemirror",{staticClass:"code",staticStyle:{"line-height":"20px"},attrs:{options:e.mySqlOption},on:{changes:function(a){e.checkParameter(t)}},model:{value:t.row.parameterValue,callback:function(a){e.$set(t.row,"parameterValue",a)},expression:"scope.row.parameterValue"}})],1)]),e._v(" "),5==t.row.parameterValueType?a("el-date-picker",{attrs:{type:"date"},on:{change:function(a){e.cache("control",t,s)}},model:{value:t.row.parameterValue,callback:function(a){e.$set(t.row,"parameterValue",a)},expression:"scope.row.parameterValue"}}):e._e()]}}])})],1)],1)])],1)],1)})],2),e._v(" "),a("div",{staticStyle:{"border-top":"1px solid #ebeef5","margin-top":"20px","text-align":"center","padding-top":"20px","margin-bottom":"20px"}},[a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"mini",loading:e.createLoading},on:{click:e.submit}},[e._v("保存")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:e.back}},[e._v("返回")])],1)])],1):e._e()],1)},staticRenderFns:[]};var Ee={mixins:[Re],data:function(){return{dsRules:{configDataanalysis:{configDataanalysisName:[{required:!0,message:"请填写名称",trigger:"change,blur"}],calculationType:[{required:!0,message:"请选择分析类型",trigger:"change,blur"}],projectType:[{required:!0,message:"请选择分析项类型",trigger:"change,blur"}],configDatasourceId:[{required:!0,message:"请选择数据源",trigger:"change,blur"}],tableName:[{required:!0,message:"请填写表名称",trigger:"change,blur"}],fieldComponent:[{required:!0,message:"请填写测量部件字段名",trigger:"change,blur"}],fieldIndex:[{required:!0,message:"请填写测量序号字段名",trigger:"change,blur"}],fieldStaff:[{required:!0,message:"请填写测量人员字段名",trigger:"change,blur"}],fieldValue:[{required:!0,message:"请填写测量值字段名",trigger:"change,blur"}]}}}},methods:{submit:function(){var e=this;this.$refs.dsForm.validate(function(t){if(t){var a={configDataanalysisMsaName:e.Form.configDataanalysis.configDataanalysisName,tableName:e.Form.configDataanalysis.tableName,fieldComponent:e.Form.configDataanalysis.fieldComponent,fieldIndex:e.Form.configDataanalysis.fieldIndex,fieldStaff:e.Form.configDataanalysis.fieldStaff,fieldValue:e.Form.configDataanalysis.fieldValue,configDatasourceId:e.Form.configDataanalysis.configDatasourceId,comment:e.Form.configDataanalysis.comment};e.Form.msaAdditional.forEach(function(e){e.parameterValueArr&&e.parameterValueArr.length>0?a[e.parameter]=e.parameterValueArr.join(";"):a[e.parameter]=""}),"create"==e.type&&function(e){return pe({url:"config/dataanalysis/msa/admin/add",method:"post",data:e})}(a).then(function(t){e.createLoading=!1,200==t.code?(e.back(),e.getDsMsaList(),e.$message.success(t.message)):e.$message.error(t.message)}),"update"==e.type&&(a.configDataanalysisMsaId=e.Form.configDataanalysis.configDataanalysisMsaId,e.createLoading=!1,function(e){return pe({url:"config/dataanalysis/msa/admin/update",method:"post",data:e})}(a).then(function(t){200==t.code?(e.back(),e.$message.success(t.message),e.getDsList()):e.$message.error(t.message)}))}})}},created:function(){var e=this;this.getDblist(),this.getDsMsaList(),this.$on("init",function(){e.showAdd=!1,e.searchDatasource="",e.filterDs()})}},Pe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{directives:[{name:"show",rawName:"v-show",value:!e.showAdd,expression:"!showAdd"}]},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{placeholder:"使用数据分析名称搜索","prefix-icon":"el-icon-search"},on:{input:e.filterDs},model:{value:e.searchDatasource,callback:function(t){e.searchDatasource=t},expression:"searchDatasource"}})],1),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:12}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.showAdd=!0,e.type="create"}}},[a("i",{staticClass:"el-icon-plus m-r-5"}),e._v("创建\n            ")])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("div",{staticClass:"m-t-10 CardList"},[a("el-row",{staticClass:"m-t ConfigListTitle"},[a("el-col",{staticStyle:{"padding-left":"26px"},attrs:{span:7}},[e._v("数据分析名称")]),e._v(" "),a("el-col",{attrs:{span:6}},[e._v("数据分析类型")]),e._v(" "),a("el-col",{attrs:{span:7}},[e._v("创建时间")]),e._v(" "),a("el-col",{staticClass:"text-right",staticStyle:{"padding-right":"20px"},attrs:{span:4}},[e._v("操作")])],1),e._v(" "),e._l(e.filterDsMsaList,function(t,s){return a("el-card",{directives:[{name:"show",rawName:"v-show",value:e.filterDsMsaList.length>0,expression:"filterDsMsaList.length>0"}],key:t.configDataanalysisMsaId+"msa",staticClass:"box-card m-t-5",attrs:{"body-style":{padding:"6px"}}},[a("el-row",[a("el-col",{staticStyle:{"line-height":"28px","padding-left":"20px"},attrs:{span:7}},[e._v("\n                                     \n                                        "),a("span",[e._v(e._s(t.configDataanalysisMsaName))])]),e._v(" "),a("el-col",{staticStyle:{"line-height":"28px"},attrs:{span:6}},[e._v("\n                                      \n                                         "),a("span",[e._v("MSA")])]),e._v(" "),a("el-col",{staticStyle:{"line-height":"28px"},attrs:{span:7}},[e._v("\n                                      \n                                         "),a("span",[e._v(e._s(e._f("unixTime")(t.createTime)))])]),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:4}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){e.showUpdate(t,s,"msa")}}},[a("i",{staticClass:"el-icon-edit"})]),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){e.deleteDatasource(t,s,"msa")}}},[a("i",{staticClass:"el-icon-close"})])],1)],1)],1)}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.filterDsMsaList.length,expression:"filterDsMsaList.length==0"}],staticClass:"Empty text-center"},[e._v("\n                                    没有查询到数据分析项\n                            ")])],2)])],1),e._v(" "),e.showAdd?a("div",[a("el-form",{ref:"dsForm",staticClass:"small-space Form setting-form FormError",attrs:{size:"mini",model:e.Form,rules:e.dsRules,"label-position":"right","label-width":"130px"}},[a("el-form-item",{attrs:{label:"名称 :",size:"mini",prop:"configDataanalysis.configDataanalysisName"}},[a("el-col",{attrs:{span:22}},[a("el-input",{attrs:{type:"text"},model:{value:e.Form.configDataanalysis.configDataanalysisName,callback:function(t){e.$set(e.Form.configDataanalysis,"configDataanalysisName",t)},expression:"Form.configDataanalysis.configDataanalysisName"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"数据源 :",size:"mini",prop:"configDataanalysis.configDatasourceId"}},[a("el-col",{attrs:{span:22}},[a("el-select",{attrs:{placeholder:"请选择数据源"},model:{value:e.Form.configDataanalysis.configDatasourceId,callback:function(t){e.$set(e.Form.configDataanalysis,"configDatasourceId",t)},expression:"Form.configDataanalysis.configDatasourceId"}},e._l(e.dbList,function(e){return a("el-option",{key:e.configDatasourceId,attrs:{label:e.configDatasourceName,value:e.configDatasourceId}})}))],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"描述 :",size:"mini"}},[a("el-col",{attrs:{span:22}},[a("el-input",{attrs:{type:"text"},model:{value:e.Form.configDataanalysis.comment,callback:function(t){e.$set(e.Form.configDataanalysis,"comment",t)},expression:"Form.configDataanalysis.comment"}})],1)],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"表名称 :",size:"mini",prop:"configDataanalysis.tableName"}},[a("el-col",{attrs:{span:22}},[a("el-input",{attrs:{type:"text"},model:{value:e.Form.configDataanalysis.tableName,callback:function(t){e.$set(e.Form.configDataanalysis,"tableName",t)},expression:"Form.configDataanalysis.tableName"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"测量部件字段名 :",size:"mini",prop:"configDataanalysis.fieldComponent"}},[a("el-col",{attrs:{span:22}},[a("el-input",{attrs:{type:"text"},model:{value:e.Form.configDataanalysis.fieldComponent,callback:function(t){e.$set(e.Form.configDataanalysis,"fieldComponent",t)},expression:"Form.configDataanalysis.fieldComponent"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"测量部序号字段名 :",size:"mini",prop:"configDataanalysis.fieldIndex"}},[a("el-col",{attrs:{span:22}},[a("el-input",{attrs:{type:"text"},model:{value:e.Form.configDataanalysis.fieldIndex,callback:function(t){e.$set(e.Form.configDataanalysis,"fieldIndex",t)},expression:"Form.configDataanalysis.fieldIndex"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"测量部人员字段名 :",size:"mini",prop:"configDataanalysis.fieldStaff"}},[a("el-col",{attrs:{span:22}},[a("el-input",{attrs:{type:"text"},model:{value:e.Form.configDataanalysis.fieldStaff,callback:function(t){e.$set(e.Form.configDataanalysis,"fieldStaff",t)},expression:"Form.configDataanalysis.fieldStaff"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"测量值字段名 :",size:"mini",prop:"configDataanalysis.fieldValue"}},[a("el-col",{attrs:{span:22}},[a("el-input",{attrs:{type:"text"},model:{value:e.Form.configDataanalysis.fieldValue,callback:function(t){e.$set(e.Form.configDataanalysis,"fieldValue",t)},expression:"Form.configDataanalysis.fieldValue"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"附加信息 : ",required:""}},[a("el-col",{attrs:{span:22}},[a("div",{staticClass:"Table SPC_Table levle_factor m-t-10"},[a("el-table",{attrs:{data:e.Form.msaAdditional,size:"mini",border:""}},[a("el-table-column",{attrs:{prop:"parameterName",label:"参数名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"parameterValue",label:"参数值",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{multiple:"",filterable:"","allow-create":"",placeholder:"请输入参数值","no-data-text":"请输入参数值","collapse-tags":""},on:{change:e.addOption},model:{value:t.row.parameterValueArr,callback:function(a){e.$set(t.row,"parameterValueArr",a)},expression:"scope.row.parameterValueArr"}},e._l(t.row.parameterValueArr,function(e,t){return a("el-option",{key:t+"@1_"+e,attrs:{label:e,value:e}})}))]}}])})],1)],1)])],1)],1)],1),e._v(" "),a("div",{staticStyle:{"border-top":"1px solid #ebeef5","margin-top":"20px","text-align":"center","padding-top":"20px","margin-bottom":"20px"}},[a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"mini",loading:e.createLoading},on:{click:e.submit}},[e._v("保存")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:e.back}},[e._v("返回")])],1)])],1):e._e()],1)},staticRenderFns:[]};function je(e){return pe({url:"piping/gateway/list",method:"post",params:e})}var Ve={data:function(){return{type:"",createLoading:!1,showAdd:!1,searchGateway:"",gateway:{gatewayName:"",gatewayComment:""},gatewayRules:{gatewayName:[{required:!0,message:"请填写网关名称",trigger:"change,blur"}]},filterGatewayList:[],gatewayList:[]}},methods:{deleteDatabase:function(e,t){var a=this;this.$confirm("确定删除网关"+e.gatewayName+"?","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning"}).then(function(){var s;(s={gatewayId:e.gatewayId},pe({url:"piping/gateway/delete",method:"post",params:s})).then(function(e){200==e.code?(a.$message.success("删除网关成功"),a.gatewayList.splice(t,1),a.filterGatewayList.splice(t,1)):a.$message.error(e.message)})}).catch(function(){})},back:function(){this.gateway={gatewayName:"",gatewayComment:""},this.createLoading=!1,this.showAdd=!1},createGateway:function(){var e=this;this.$refs.gatewayForm.validate(function(t){var a;t&&(e.createLoading=!0,"create"==e.type&&(e.gateway.createByUserId=k(),(a=e.gateway,pe({url:"piping/gateway/add",method:"post",data:a})).then(function(t){e.createLoading=!1,200==t.code?(e.$message.success("创建网关成功"),e.getGatewayList(),e.back()):e.$message.error(t.message)})),"update"==e.type&&function(e){return pe({url:"piping/gateway/update",method:"post",data:e})}(e.gateway).then(function(t){e.createLoading=!1,200==t.code?(e.back(),e.$message.success("修改网关成功"),e.getGatewayList()):e.$message.error(t.message)}))})},getGatewayList:function(){var e=this;je().then(function(t){200==t.code?(e.gatewayList=t.data.list.slice(),e.filterGatewayList=t.data.list.slice()):e.$message.error(t.message)})},filterGateway:function(){if(this.searchGateway)if(this.gatewayList.length>0){var e=new RegExp(this.searchGateway,"i");this.filterGatewayList=this.gatewayList.filter(function(t){return e.test(t.gatewayName)})}else this.filterGatewayList=this.gatewayList.slice();else this.filterGatewayList=this.gatewayList.slice()},showUpdate:function(e,t){this.gateway=Z()({},e),this.showAdd=!0,this.type="update"},showCreate:function(){var e=this;this.showAdd=!0,this.type="create",this.$nextTick(function(){e.$refs.gatewayForm.resetFields()})}},created:function(){var e=this;this.getGatewayList(),this.$on("init",function(){e.showAdd=!1,e.searchGateway="",e.filterGateway()})}},Oe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{directives:[{name:"show",rawName:"v-show",value:!e.showAdd,expression:"!showAdd"}]},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{placeholder:"使用网关名称搜索","prefix-icon":"el-icon-search"},on:{input:e.filterGateway},model:{value:e.searchGateway,callback:function(t){e.searchGateway=t},expression:"searchGateway"}})],1),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:12}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.showCreate}},[a("i",{staticClass:"el-icon-plus m-r-5"}),e._v("创建\n            ")])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("div",{staticClass:"m-t-10 CardList"},[a("el-row",{staticClass:"m-t ConfigListTitle"},[a("el-col",{staticStyle:{"padding-left":"26px"},attrs:{span:7}},[e._v("网关名称")]),e._v(" "),a("el-col",{attrs:{span:6}},[e._v("网关描述")]),e._v(" "),a("el-col",{attrs:{span:7}},[e._v("创建时间")]),e._v(" "),a("el-col",{staticClass:"text-right",staticStyle:{"padding-right":"20px"},attrs:{span:4}},[e._v("操作")])],1),e._v(" "),e._l(e.filterGatewayList,function(t,s){return a("el-card",{key:t.gatewayId,staticClass:"box-card m-t-5",attrs:{"body-style":{padding:"6px"}}},[a("el-row",[a("el-col",{staticStyle:{"line-height":"28px","padding-left":"20px"},attrs:{span:7}},[e._v("\n                                     \n                                        "),a("span",[e._v(e._s(t.gatewayName))])]),e._v(" "),a("el-col",{staticStyle:{"line-height":"28px"},attrs:{span:6}},[e._v("\n                                      \n                                         "),a("span",[e._v(e._s(t.gatewayComment))])]),e._v(" "),a("el-col",{staticStyle:{"line-height":"28px"},attrs:{span:7}},[e._v("\n                                      \n                                         "),a("span",[e._v(e._s(e._f("unixTime")(t.createTime)))])]),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:4}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){e.showUpdate(t,s)}}},[a("i",{staticClass:"el-icon-edit"})]),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){e.deleteDatabase(t,s)}}},[a("i",{staticClass:"el-icon-close"})])],1)],1)],1)}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.filterGatewayList.length,expression:"filterGatewayList.length==0"}],staticClass:"Empty text-center"},[e._v("\n                                    没有查询到网关数据\n                             ")])],2)])],1),e._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showAdd,expression:"showAdd"}],ref:"gatewayForm",staticClass:"small-space Form setting-form FormError",attrs:{size:"mini",model:e.gateway,rules:e.gatewayRules,"label-position":"right","label-width":"120px"}},[a("el-form-item",{attrs:{label:"网关名称 :",size:"mini",prop:"gatewayName"}},[a("el-col",{attrs:{span:22}},[a("el-input",{attrs:{type:"text"},model:{value:e.gateway.gatewayName,callback:function(t){e.$set(e.gateway,"gatewayName",t)},expression:"gateway.gatewayName"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"网关描述 :",size:"mini"}},[a("el-col",{attrs:{span:22}},[a("el-input",{attrs:{type:"text"},model:{value:e.gateway.gatewayComment,callback:function(t){e.$set(e.gateway,"gatewayComment",t)},expression:"gateway.gatewayComment"}})],1)],1),e._v(" "),a("el-form-item",{staticClass:"text-center"},[a("el-button",{attrs:{type:"primary",size:"mini",laoding:e.createLoading},on:{click:e.createGateway}},[e._v("保存")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:e.back}},[e._v("返回")])],1)],1)],1)},staticRenderFns:[]},qe={components:{"v-database":ge,"v-datasource":a("/Xao")($e,ze,!1,function(e){a("dWSs")},null,null).exports,"v-datasource-msa":a("/Xao")(Ee,Pe,!1,null,null,null).exports,"v-user":we,"v-gateway":a("/Xao")(Ve,Oe,!1,null,null,null).exports,"v-department":Se},data:function(){return{activeName:"datasource"}},methods:{tabClick:function(e,t){"user"==e.name&&this.$refs.user.$emit("init"),"datasource"==e.name&&this.$refs.database.$emit("init"),"dataanalysisMsa"==e.name&&this.$refs.datasourceMsa.$emit("init"),"dataanalysis"==e.name&&this.$refs.datasource.$emit("init"),"gateway"==e.name&&this.$refs.gateway.$emit("init"),"department"==e.name&&this.$refs.department.$emit("init"),this.$router.push("/config/"+e.name)}},created:function(){this.activeName=this.$route.params.type?this.$route.params.type:"datasource"},watch:{$route:function(){this.activeName=this.$route.params.type}}},Be={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",[a("el-col",{attrs:{xs:{span:20,offset:2},sm:{span:18,offset:3},md:{span:16,offset:4},lg:{span:16,offset:4},xl:{span:16,offset:4}}},[a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":e.tabClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{name:"datasource"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-menu m-r-5"}),e._v("数据源")]),e._v(" "),a("v-database",{ref:"database",staticClass:"m-t",attrs:{activename:e.activeName}})],1),e._v(" "),a("el-tab-pane",{attrs:{name:"dataanalysis"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("svg-icon",{attrs:{"icon-class":"chart"}}),e._v("\n                          SPC数据配置")],1),e._v(" "),a("v-datasource",{ref:"datasource",staticClass:"m-t",attrs:{activename:e.activeName}})],1),e._v(" "),a("el-tab-pane",{attrs:{name:"gateway"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("svg-icon",{attrs:{"icon-class":"gateway"}}),e._v("\n                          网关")],1),e._v(" "),a("v-gateway",{ref:"gateway",staticClass:"m-t",attrs:{activename:e.activeName}})],1),e._v(" "),a("el-tab-pane",{attrs:{name:"department"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("svg-icon",{attrs:{"icon-class":"user"}}),e._v("\n                          组织管理")],1),e._v(" "),a("v-department",{ref:"department",staticClass:"m-t"})],1),e._v(" "),a("el-tab-pane",{attrs:{name:"user"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("svg-icon",{attrs:{"icon-class":"user"}}),e._v("\n                          用户")],1),e._v(" "),a("v-user",{ref:"user",staticClass:"m-t",attrs:{activename:e.activeName}})],1)],1)],1)],1)],1)},staticRenderFns:[]};var Ue=a("/Xao")(qe,Be,!1,function(e){a("HjEe")},null,null).exports;function He(e){return pe({url:"tb/folder/editor/update",method:"post",data:e})}function Ge(e){return pe({url:"tb/folder/viewer/list",method:"post",params:e})}function Xe(e){return pe({url:"tb/folder/viewer/tasks",method:"post",params:e})}function We(e){return pe({url:"spc/task/editor/update",method:"post",data:e})}function Je(e){return pe({url:"spc/task/viewer/detail",method:"post",params:e})}function Ye(e){return pe({url:"spc/task/abnormal/rules/viewer/list",method:"post",params:e})}function Ze(e){return pe({url:"spc/task/abnormal/rules/editor/update",method:"post",data:e})}function Qe(e){return pe({url:"spc/task/viewer/sampleView",method:"post",data:e})}function Ke(e){return pe({url:"config/dataanalysis/parameter/control/viewer/list",method:"post",params:e})}var et={data:function(){return{activeName:"1",loadingSave:!1,Form:{folderId:"",spcTaskName:"",controlGraph:"",analysisMethod:"1",calculationType:"1"},rules:{folderId:[{required:!0,message:"请选择文件夹",trigger:"change,blur"}],spcTaskName:[{required:!0,message:"请填写任务名称",trigger:"change,blur"}],controlGraph:[{required:!0,message:"请选择管制图形",trigger:"change,blur"}]},graphType:[{label:"X-R",value:1},{label:"X-S",value:2},{label:"me-R",value:3},{label:"X-MR",value:4},{label:"P",value:5},{label:"np",value:6},{label:"c",value:7},{label:"u",value:8}],folderList:[]}},methods:{getFolderList:function(){var e=this;Ge().then(function(t){200==t.code?e.folderList=t.data.list:e.$message.error(t.message)})},submit:function(){var e=this;this.$refs.spc.validate(function(t){if(t){var a=k();a?(e.loadingSave=!0,(s=Z()({},e.Form,{createbyUserId:Number(a)}),pe({url:"spc/task/editor/add",method:"post",data:s})).then(function(t){e.loadingSave=!1,200==t.code?(1==t.data.analysisMethod?e.$router.push("/spc/detail/"+t.data.spcTaskId):2==t.data.analysisMethod?e.$router.push("/spc/process/detail/"+t.data.spcTaskId):e.getSpcDetail(t.data.spcTaskId),e.$message.success("创建SPC任务成功")):e.$message.error(t.message)})):(w(),e.$router.replace("/login"),e.$message.error("用户信息获取失败，请重新登录"))}var s})},tabClick:function(e,t){this.$refs.spc.resetFields()},getSpcDetail:function(e){var t=this;Je({spcTaskId:e}).then(function(e){200==e.code&&e.data.spcTaskId&&e.data.spcTaskOnline&&e.data.spcTaskOnline.spcTaskOnlineId?t.$router.push("/spc/warning/"+e.data.spcTaskId+"_"+e.data.spcTaskOnline.spcTaskOnlineId):t.$router.push("/tb/user/folder")})}},computed:{filterGraphType:function(){return 1==this.Form.calculationType?this.graphType.slice(0,4):2==this.Form.calculationType?this.graphType.slice(4):[]}},created:function(){this.getFolderList()}},tt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticStyle:{"border-bottom":"1px solid #dcdfe6",padding:"5px 20px"}},[a("el-col",{staticClass:"text-right",attrs:{span:24}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e.$router.go(-1)}}},[a("svg-icon",{staticStyle:{"font-size":"20px"},attrs:{"icon-class":"back"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"app-container "},[a("el-row",[a("el-col",{attrs:{xs:{span:20,offset:2},sm:{span:18,offset:3},md:{span:16,offset:4},lg:{span:16,offset:4},xl:{span:16,offset:4}}},[a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":e.tabClick},model:{value:e.Form.analysisMethod,callback:function(t){e.$set(e.Form,"analysisMethod",t)},expression:"Form.analysisMethod"}},[a("el-tab-pane",{attrs:{label:"抽样分析",name:"1"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"趋势分析",name:"2"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"在线预警",name:"3"}}),e._v(" "),a("div",{staticClass:"m-t"},[a("el-form",{ref:"spc",staticClass:"Form",attrs:{"label-position":"right","label-width":"120px",model:e.Form,rules:e.rules,size:"mini"}},[a("el-row",{staticStyle:{overflow:"hidden"}},[a("div",[a("el-col",{staticClass:"setting",attrs:{span:22}},[a("el-form-item",{attrs:{label:"文件夹名称 :",prop:"folderId"}},[a("el-select",{model:{value:e.Form.folderId,callback:function(t){e.$set(e.Form,"folderId",t)},expression:"Form.folderId"}},e._l(e.folderList,function(e){return a("el-option",{key:e.folderId+"_"+e.folderName,attrs:{label:e.folderName,value:e.folderId}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"任务名称 :",prop:"spcTaskName"}},[a("el-input",{model:{value:e.Form.spcTaskName,callback:function(t){e.$set(e.Form,"spcTaskName",t)},expression:"Form.spcTaskName"}})],1),e._v(" "),a("el-form-item",[a("el-radio",{attrs:{label:"1"},on:{change:function(t){e.Form.controlGraph=""}},model:{value:e.Form.calculationType,callback:function(t){e.$set(e.Form,"calculationType",t)},expression:"Form.calculationType"}},[e._v("计量型")]),e._v(" "),a("el-radio",{attrs:{label:"2"},on:{change:function(t){e.Form.controlGraph=""}},model:{value:e.Form.calculationType,callback:function(t){e.$set(e.Form,"calculationType",t)},expression:"Form.calculationType"}},[e._v("计数型")])],1),e._v(" "),a("el-form-item",{attrs:{label:"管制图形 :",prop:"controlGraph"}},[a("el-select",{model:{value:e.Form.controlGraph,callback:function(t){e.$set(e.Form,"controlGraph",t)},expression:"Form.controlGraph"}},e._l(e.filterGraphType,function(e){return a("el-option",{key:e.label+"_"+e.value,attrs:{label:e.label,value:e.value}})}))],1)],1)],1)])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticStyle:{"border-top":"1px solid #ebeef5","margin-top":"20px","text-align":"center","padding-top":"20px","margin-bottom":"10px"}},[a("el-button",{attrs:{type:"primary",size:"mini",loading:e.loadingSave},on:{click:e.submit}},[e._v("保存")])],1)])],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]},at=a("/Xao")(et,tt,!1,null,null,null).exports,st=a("2Zm2"),rt=a.n(st);function it(e){return pe({url:"tb/user/collection/viewer/add",method:"post",data:e})}function ot(e){return pe({url:"tb/user/collection/viewer/delete",method:"post",params:e})}function nt(e){return pe({url:"spc/task/online/alert/process/list",method:"post",params:e})}function lt(e){return pe({url:"spc/task/online/alerting/update",method:"post",data:e})}function ct(e){return pe({url:"spc/task/online/alerting/list",method:"post",params:e})}function ut(e){return pe({url:"spc/task/online/alerting/upload",method:"post",data:e})}var dt={data:function(){return{HEIGHT:"",search:"",showCollection:!0,activeName:"recent",filterFolderList:[],folderList:[],LOADING:{lock:!0,text:"数据处理中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.6)"},fullLoading:null}},methods:{rowClick:function(e,t,a){},headerSetting:function(e){this.$router.push("/setting/"+e)},getFolderList:function(){var e=this;Ge().then(function(t){200==t.code?t.data.list.length>0&&(e.folderList=t.data.list.map(function(e){return e.spc=[],e.msa=[],e.piping=[],e}),e.filterFolderList=e.folderList.slice(),e.folderList.length>0&&e.folderList.forEach(function(t,a){e.getFolderTasks(t.folderId,a)})):e.$message.error(t.message)})},getFolderTasks:function(e,t){var a=this;Xe({folderId:e}).then(function(e){200==e.code&&(a.folderList[t].msa=e.data.msa,a.folderList[t].spc=e.data.spc,a.folderList[t].piping=e.data.piping)})},filterFolder:function(){var e=this;if(this.search)if(this.folderList.length>0){var t=new RegExp(this.search,"i");this.filterFolderList=[],this.folderList.forEach(function(a){var s=Z()({},a,{spc:[],msa:[],piping:[]});s.msa=a.msa.filter(function(e){return t.test(e.msaTaskName)}),s.spc=a.spc.filter(function(e){return t.test(e.spcTaskName)}),s.piping=a.piping.filter(function(e){return t.test(e.programName)}),(s.msa.length>0||s.spc.length>0||s.piping.length>0)&&e.filterFolderList.push(s)})}else this.filterFolderList=this.folderList.slice();else this.filterFolderList=this.folderList.slice()},toDetail:function(e,t){"spc"==e?2==t.analysisMethod?this.$router.push("/spc/process/detail/"+t.spcTaskId):1==t.analysisMethod?this.$router.push("/spc/detail/"+t.spcTaskId):3==t.analysisMethod&&this.$router.push("/spc/warning/"+t.spcTaskId+"_"+t.spcTaskOnline.spcTaskOnlineId):"msa"==e?this.$router.push("/msa/detail/"+t.msaTaskId):"piping"==e&&this.$router.push("/piping/gateway/cep/program/"+t.cepProgramId),this.$store.commit("SET_TASK",!1)},collectionAction:function(e,t){var a=this;if(t.tbUserCollection&&t.tbUserCollection.userCollectionId>0)ot({userCollectionId:t.tbUserCollection.userCollectionId}).then(function(e){200==e.code?(a.$set(t.tbUserCollection,"userCollectionId",""),a.$message.success(e.message)):a.$message.error(e.message)});else{var s={userId:k(),collectionResourcesId:"",collectionResourcesType:0,collectionTitle:""};"spc"==e&&(s.collectionResourcesId=t.spcTaskId,s.collectionResourcesType=1,s.collectionTitle=t.spcTaskName),"msa"==e&&(s.collectionResourcesId=t.msaTaskId,s.collectionResourcesType=2,s.collectionTitle=t.msaTaskName),"piping"==e&&(s.collectionResourcesId=t.cepProgramId,s.collectionResourcesType=3,s.collectionTitle=t.programName),it(s).then(function(e){200==e.code?(a.$set(t,"tbUserCollection",{}),a.$set(t.tbUserCollection,"userCollectionId",e.data.userCollectionId),a.$message.success(e.message)):a.$message.error(e.message)})}},getHeight:function(){var e=void 0;window.innerHeight?e=window.innerHeight:document.body&&document.body.clientHeight&&(e=document.body.clientHeight),this.HEIGHT=e-57+"px"},hideFolderTask:function(){this.search="",this.$store.commit("SET_TASK",!1)},warningConfig:function(e){this.$router.push("/spc/warning/config/"+e.spcTaskId+"_"+e.spcTaskOnline.spcTaskOnlineId)},warningUpdate:function(e){var t,a=this;Z()({},e.spcTaskOnline);this.fullLoading=this.$loading(this.LOADING),!e.spcTaskOnline||0!=e.spcTaskOnline.runningState&&-1!=e.spcTaskOnline.runningState?e.spcTaskOnline&&1==e.spcTaskOnline.runningState&&function(e){return pe({url:"spc/task/editor/warningStop",method:"post",params:e})}({spcTaskId:e.spcTaskId}).then(function(t){a.fullLoading.close(),200==t.code?(e.spcTaskOnline.runningState=0,a.$message.success(t.message)):a.$message.error(t.message)}):(t={spcTaskId:e.spcTaskId},pe({url:"spc/task/editor/warningStart",method:"post",params:t})).then(function(t){a.fullLoading.close(),200==t.code?(e.spcTaskOnline.runningState=1,a.$message.success(t.message)):a.$message.error(t.message)})}},created:function(){this.getHeight(),this.getFolderList()},beforeDestroy:function(){this.fullLoading&&this.fullLoading.close()}},pt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"taskList"},[a("el-row",{staticStyle:{"border-bottom":"1px solid #dcdfe6",padding:"10px 0","padding-left":"20px","z-index":"1000"}},[a("el-col",{attrs:{span:10}},[a("div",[a("el-input",{attrs:{size:"small",placeholder:"使用名称搜索","prefix-icon":"el-icon-search"},on:{input:e.filterFolder},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)])],1),e._v(" "),a("div",{staticClass:"app-container Folder",staticStyle:{overflow:"auto"},style:{height:e.HEIGHT}},[a("el-row",{staticStyle:{"min-height":"100%"},nativeOn:{click:function(t){if(t.target!==t.currentTarget)return null;e.hideFolderTask(t)}}},[a("el-col",{staticClass:"HOME",attrs:{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:12,offset:0},xl:{span:12,offset:0}}},[a("div",{staticStyle:{"min-height":"100%"}},[a("el-card",[e._l(e.filterFolderList,function(t,s){return a("el-collapse",{key:t.folderId+"folder"+s,staticStyle:{position:"relative"},attrs:{accordion:""}},[a("el-collapse-item",[a("template",{slot:"title"},[e._v("\r\n                                       "+e._s(t.folderName)+" "),e.$store.getters.userRole<4?a("div",{staticClass:"HOME_SETTING",on:{click:function(a){a.stopPropagation(),e.headerSetting(t.folderId)}}},[a("i",{staticClass:"el-icon-setting"})]):e._e()]),e._v(" "),a("div",{staticClass:"m-t CardList"},[e._l(t.spc,function(s){return a("el-card",{directives:[{name:"show",rawName:"v-show",value:t.spc.length>0,expression:"folder.spc.length>0"}],key:s.spcTaskId+"spc",staticClass:"box-card m-t-5",attrs:{"body-style":{padding:"6px"}}},[a("el-row",{directives:[{name:"show",rawName:"v-show",value:s.analysisMethod<3,expression:"spc.analysisMethod<3"}],staticStyle:{"line-height":"28px","padding-left":"15px","padding-right":"20px"}},[a("el-col",{attrs:{span:20}},[a("div",{staticClass:"TaskCollection",on:{click:function(t){t.stopPropagation(),e.toDetail("spc",s)}}},[a("span",[e._v(e._s(s.spcTaskName))]),e._v(" "),a("span",{staticStyle:{color:"#ddd","padding-left":"10px"}},[e._v("(spc : "+e._s(["抽样","趋势","在线预警"][s.analysisMethod-1])+")")])])]),e._v(" "),e.$store.getters.userRole<4?a("el-col",{attrs:{span:4}},[a("div",{staticStyle:{position:"relative"}},[a("span",{staticClass:"IconCollection",on:{click:function(t){e.collectionAction("spc",s)}}},[a("svg-icon",{attrs:{"icon-class":s.tbUserCollection&&s.tbUserCollection.userCollectionId?"star":"collection"}})],1)])]):e._e()],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:3==s.analysisMethod,expression:"spc.analysisMethod==3"}],staticStyle:{"line-height":"28px","padding-left":"15px","padding-right":"20px"}},[a("el-col",{attrs:{span:10}},[a("div",{staticClass:"TaskCollection",on:{click:function(t){t.stopPropagation(),e.toDetail("spc",s)}}},[a("span",[e._v(e._s(s.spcTaskName))]),e._v(" "),a("span",{staticStyle:{color:"#ddd","padding-left":"10px"}},[e._v("(spc : "+e._s(["抽样","趋势","在线预警"][s.analysisMethod-1])+")")])])]),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:12}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:s.spcTaskOnline&&0==s.spcTaskOnline.runningState,expression:"spc.spcTaskOnline && spc.spcTaskOnline.runningState==0"}],attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(t){e.warningUpdate(s)}}},[e._v("启动")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:s.spcTaskOnline&&1==s.spcTaskOnline.runningState,expression:"spc.spcTaskOnline && spc.spcTaskOnline.runningState==1"}],attrs:{type:"warning",plain:"",size:"mini"},on:{click:function(t){e.warningUpdate(s)}}},[e._v("停止")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:s.spcTaskOnline&&-1==s.spcTaskOnline.runningState,expression:"spc.spcTaskOnline && spc.spcTaskOnline.runningState==-1"}],attrs:{type:"warning",plain:"",size:"mini"},on:{click:function(t){e.warningUpdate(s)}}},[e._v("重启(运行异常)")]),e._v(" "),a("el-button",{attrs:{type:"info",plain:"",size:"mini"},on:{click:function(t){e.warningConfig(s)}}},[e._v("配置")])],1),e._v(" "),e.$store.getters.userRole<4?a("el-col",{attrs:{span:2}},[a("div",{staticStyle:{position:"relative"}},[a("span",{staticClass:"IconCollection",on:{click:function(t){e.collectionAction("spc",s)}}},[a("svg-icon",{attrs:{"icon-class":s.tbUserCollection&&s.tbUserCollection.userCollectionId?"star":"collection"}})],1)])]):e._e()],1),e._v(" "),a("div",{staticStyle:{"text-align":"right",color:"#ccc","font-size":"12px","line-height":"12px","margin-top":"5px"}},[a("span",[e._v(e._s(e._f("unixTime")(s.createTime,!0)))])])],1)}),e._v(" "),e._l(t.msa,function(s){return a("el-card",{directives:[{name:"show",rawName:"v-show",value:t.msa.length>0,expression:"folder.msa.length>0"}],key:s.msaTaskId+"msa",staticClass:"box-card m-t-5",attrs:{"body-style":{padding:"6px"}}},[a("el-row",{staticStyle:{"line-height":"28px","padding-left":"15px","padding-right":"20px"}},[a("el-col",{attrs:{span:20}},[a("div",{staticClass:"TaskCollection",on:{click:function(t){t.stopPropagation(),e.toDetail("msa",s)}}},[a("span",[e._v(e._s(s.msaTaskName))]),e._v(" "),a("span",{staticStyle:{color:"#ddd","padding-left":"10px"}},[e._v("(msa)")])])]),e._v(" "),e.$store.getters.userRole<4?a("el-col",{attrs:{span:4}},[a("div",{staticStyle:{position:"relative"}},[a("span",{staticClass:"IconCollection",on:{click:function(t){e.collectionAction("msa",s)}}},[a("svg-icon",{attrs:{"icon-class":s.tbUserCollection&&s.tbUserCollection.userCollectionId?"star":"collection"}})],1)])]):e._e()],1),e._v(" "),a("div",{staticStyle:{"text-align":"right",color:"#ccc","font-size":"12px","line-height":"12px","margin-top":"5px"}},[a("span",[e._v(e._s(e._f("unixTime")(s.createTime,!0)))])])],1)}),e._v(" "),e._l(t.piping,function(s){return a("el-card",{directives:[{name:"show",rawName:"v-show",value:t.piping.length>0,expression:"folder.piping.length>0"}],key:s.cepProgramId+"piping",staticClass:"box-card m-t-5",attrs:{"body-style":{padding:"6px"}}},[a("el-row",{staticStyle:{"line-height":"28px","padding-left":"15px","padding-right":"20px"}},[a("el-col",{attrs:{span:16}},[a("div",{staticClass:"TaskCollection",on:{click:function(t){t.stopPropagation(),e.toDetail("piping",s)}}},[a("span",[e._v(e._s(s.programName))]),e._v(" "),a("span",{staticStyle:{color:"#ddd","padding-left":"10px"}},[e._v("(piping)")])])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{directives:[{name:"show",rawName:"v-show",value:0==s.runningStatus,expression:"piping.runningStatus==0"}],staticClass:"text-right",staticStyle:{color:"#E6A23C"}},[a("span",[a("i",{staticClass:"el-icon-info",staticStyle:{"margin-right":"2px"}})]),e._v(" "),a("span",[e._v("已关闭")])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1==s.runningStatus,expression:"piping.runningStatus==1"}],staticClass:"text-right",staticStyle:{color:"#67C23A"}},[a("span",[a("i",{staticClass:"el-icon-info",staticStyle:{"margin-right":"2px"}})]),e._v(" "),a("span",[e._v("运行中")])])]),e._v(" "),e.$store.getters.userRole<4?a("el-col",{attrs:{span:4}},[a("div",{staticStyle:{position:"relative"}},[a("span",{staticClass:"IconCollection",on:{click:function(t){e.collectionAction("piping",s)}}},[a("svg-icon",{attrs:{"icon-class":s.tbUserCollection&&s.tbUserCollection.userCollectionId?"star":"collection"}})],1)])]):e._e()],1),e._v(" "),a("div",{staticStyle:{"text-align":"right",color:"#ccc","font-size":"12px","line-height":"12px","margin-top":"5px"}},[a("span",[e._v(e._s(e._f("unixTime")(s.createTime,!0)))])])],1)}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.spc.length&&0==t.msa.length&&0==t.piping.length,expression:"folder.spc.length==0 && folder.msa.length==0 && folder.piping.length==0"}],staticClass:"Empty text-center"},[e._v("\r\n                                    该文件夹还没有添加数据\r\n                                    ")])],2)],2)],1)}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.filterFolderList.length,expression:"filterFolderList.length==0"}],staticClass:"text-center",staticStyle:{"font-size":"14px",color:"#909399"}},[e._v("\r\n                                    没有查询到文件夹相关信息\r\n                        ")])],2)],1)])],1)],1)],1)},staticRenderFns:[]};var mt=a("/Xao")(dt,pt,!1,function(e){a("DwmN")},null,null).exports,ht={props:["ruleNumber","content","n","m"],data:function(){return{width:"100%",height:"400px",data:[],myChart:"",color:["#c23531","#4575b4","#74add1","#abd9e9","#e0f3f8","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"]}},methods:{drawLine:function(){var e=this;e.myChart.setOption({grid:{left:40,right:20,bottom:60,top:50},xAxis:{min:0,type:"category",boundaryGap:!1,axisLine:{show:!1,lineStyle:{color:"#999",width:2}},axisTick:{show:!1},axisLabel:{show:!1}},yAxis:{type:"value",min:-5,max:5,axisLine:{show:!0,lineStyle:{color:"#999",width:2}},splitLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1}},series:[{type:"line",data:e.data,silent:!0,symbolSize:[8,8],lineStyle:{color:"rgb(27,233,191)"},itemStyle:{color:"rgb(27,233,191)"},markLine:{symbol:"none",lineStyle:{type:"solid",color:"#333"},data:[{name:"ucl",yAxis:3,label:{normal:{position:"start",formatter:function(e){return"UCL"}}},lineStyle:{type:"dashed",color:"#333"}},{name:"lcl",yAxis:-3,label:{normal:{position:"start",formatter:function(e){return"LCL"}}},lineStyle:{type:"dashed",color:"#333"}},{name:"X",yAxis:0,label:{normal:{position:"start",formatter:function(e){return"X"}}}}]},markArea:{label:{show:!0,position:"left",offset:[25,-8],color:"#333",fontWeight:500},itemStyle:{normal:{borderColor:"#888",borderWidth:1.2,borderType:"solid"}},data:[[{yAxis:"1"},{yAxis:"1",name:"C",label:{show:!0,position:"left",offset:[25,8],color:"#333"}}],[{yAxis:"-1"},{yAxis:"-1",name:"C"}],[{yAxis:"2"},{yAxis:"2",name:"B",label:{show:!0,position:"left",offset:[25,8],color:"#333"}}],[{yAxis:"-2"},{yAxis:"-2",name:"B"}],[{yAxis:"3"},{yAxis:"3",name:"A",label:{show:!0,position:"left",offset:[25,8],color:"#333"}}],[{yAxis:"-3"},{yAxis:"-3",name:"A"}]]},markPoint:{label:{color:"#fff",formatter:e.pointFormatter,padding:[5,50]},symbolSize:function(t,a){return[20*e.pointFormatter.length,80]},symbolOffset:[-120,0],itemStyle:{color:"#f00"},data:[{type:"max"}]}}]},!0)},setPoint:function(){var e=[];if(1==this.ruleNumber){e=[[1,1],[2,2]];for(var t=Number(this.n)+2,a=3;a<=t;a++)e.push([a,4])}else if(2==this.ruleNumber){this.n;for(var s=1;s<this.n+1;s++){var r=3*Math.random();e.push([s,r])}}else if(3==this.ruleNumber){var i=[];if(Math.random()<=.5)for(var o=0;o<this.n;o++)i.push(3*Math.random());else for(var n=0;n<this.n;n++)i.push(-3*Math.random());i.sort(Object(Me.firstBy)(function(e){return e}));for(var l=1;l<this.n+1;l++)e.push([l,i[l-1]])}else if(4==this.ruleNumber)for(var c=0;c<this.n;c++)c%2==0?e.push([c,3*Math.random()]):e.push([c,-3*Math.random()]);else if(5==this.ruleNumber){for(var u=[],d=0;d<this.m;d++)u.push(Math.random()-3);for(var p=0;p<this.n-this.m;p++)u.push(4*Math.random()-1);u.sort(function(e,t){return Math.random()>.5?-1:1});for(var m=0;m<this.n;m++)e.push([m,u[m]])}else if(6==this.ruleNumber){for(var h=[],f=0;f<this.m;f++)h.push(2*Math.random()-3);for(var g=0;g<this.n-this.m;g++)h.push(3*Math.random());h.sort(function(e,t){return Math.random()>.5?-1:1});for(var v=0;v<this.n;v++)e.push([v,h[v]])}else if(7==this.ruleNumber)for(var b=0;b<this.n;b++)e.push([b,(2*Math.random()).toFixed(3)-1]);else if(8==this.ruleNumber)for(var y=0;y<this.n;y++)y%2==0?e.push([y,Number(2*Math.random())+1]):e.push([y,2*Math.random()-3]);this.data=e}},computed:{pointFormatter:function(){return this.content}},watch:{content:function(){this.drawLine()},ruleNumber:function(){this.setPoint(),this.drawLine()},n:function(){this.setPoint(),this.drawLine()},m:function(){this.setPoint(),this.drawLine()}},mounted:function(){this.myChart=this.$echarts.init(this.$refs.step,"shine"),this.drawLine()},beforeDestroy:function(){this.myChart.clear()}},ft={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{ref:"step",style:{height:this.height,width:this.width}})])},staticRenderFns:[]},gt=a("/Xao")(ht,ft,!1,null,null,null).exports,vt={components:{"v-folder":mt,"v-ruleline":gt},data:function(){return{ruleNumber:"",content:"",n:"",m:"",activeName:"first",ruleLoading:!1,updateLoading:!1,updatePyLoading:!1,showChangePy:!1,selectedPy:{},changePyForm:{n:"",m:"",k:""},selectedPyIndex:"",spcTaskId:"",allRecentGroups:!1,graphType:"",graphTypes:[{label:"X-R",value:1,type:1},{label:"X-S",value:2,type:1},{label:"me-R",value:3,type:1},{label:"X-MR",value:4,type:1},{label:"P",value:5,type:2},{label:"np",value:6,type:2},{label:"c",value:7,type:2},{label:"u",value:8,type:2}],Form:{spcTaskId:"",configDataanalysisId:"",spcTaskName:"",controlGraph:"",decimalDigits:"",recentGroups:"",usl:"",lsl:"",targetValue:"",groupNum:"",moveRange:"",comment:""},rules:{spcTaskName:[{required:!0,message:"请填写项目名称",trigger:"change,blur"}],controlGraph:[{required:!0,message:"请选择管制图形",trigger:"change,blur"}],configDataanalysisId:[{required:!0,message:"请选择数据源",trigger:"change"}],usl:[{validator:this.uslValidator,trigger:"change,blur"}],lsl:[{validator:this.lslValidator,trigger:"change,blur"}],targetValue:[{validator:this.targetValidator,trigger:"change,blur"}],moveRange:[{required:!0,message:"请填写移动距离",trigger:"change,blur"},{type:"number",min:2,max:3,message:"移动距离必须为数字2或3",trigger:"change,blur"}],groupNum:[{required:!0,message:"请填写子组容量",trigger:"change,blur"},{type:"number",min:2,max:25,message:"子组容量必须为数字",trigger:"change,blur"}]},dsList:[],pyNum:[{ruleNumber:1,n:"1"},{ruleNumber:2,n:"9"},{ruleNumber:3,n:"6"},{ruleNumber:4,n:"14"},{ruleNumber:5,n:"3",m:"2"},{ruleNumber:6,n:"5",m:"4"},{ruleNumber:7,n:"15"},{ruleNumber:8,n:"8"}],multipleSelection:[],ruleList:[],filterRuleList:[],LOADING:{lock:!0,text:"修改中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.6)"},fullLoading:null}},methods:{getDsList:function(){var e=this;Ce().then(function(t){200==t.code?e.dsList=t.data.list:e.$message.error(t.message)})},selectRules:function(e,t){var a=this,s=Z()({},this.filterRuleList[t.ruleNumber-1]);s.enable=-s.enable,this.fullLoading=this.$loading(this.LOADING),Ze(s).then(function(e){a.fullLoading.close(),200==e.code&&(a.filterRuleList[t.ruleNumber-1].enable=-a.filterRuleList[t.ruleNumber-1].enable)})},selectAllRules:function(e){var t=[];e.length>0?this.filterRuleList.forEach(function(e){var a=Z()({},e);a.enable=Math.abs(a.enable),t.push(a)}):0==e.length&&this.filterRuleList.forEach(function(e){var a=Z()({},e);a.enable=-Math.abs(a.enable),t.push(a)});var a=[];t.forEach(function(e){a.push(Ze(e))})},rowDbclick:function(e){this.showChangePy=!0;var t=this.pyNum[e.$index];for(var a in t)"ruleNumber"!=a&&(t[a]=e.row[a]);this.selectedPy=Z()({},t),this.selectedPyIndex=e.$index},cancelChangePy:function(){this.showChangePy=!1},changePy:function(){var e=this,t=this.filterRuleList[this.selectedPyIndex],a=Z()({},t,this.selectedPy);this.fullLoading=this.$loading(this.LOADING),Ze(a).then(function(t){e.fullLoading.close(),200==t.code?(e.showChangePy=!1,e.filterRuleList.splice(e.selectedPyIndex,1,a),e.$message.success(t.message),e.n=a.n,e.m=a.m,e.content=a.content.replace("n",a.n).replace("m",a.m),e.ruleNumber=a.ruleNumber):e.$message.error(t.message)})},setGraphType:function(e){this.Form.controlGraph="";var t=void 0;this.$refs.graph.clearValidate(),e&&(t=this.dsList.filter(function(t){return t.configDataanalysisId==e}),this.graphType=t[0].calculationType)},submit:function(){var e=this;this.Form.decimalDigits=2,this.$refs.general.validate(function(t){t?e.$refs.graph.validate(function(t){if(t)if(1==e.graphType){if(!e.Form.usl&&!e.Form.lsl)return e.$message.warning("规格上限和规格下线必须填写一个"),!1;e.updateLoading=!0,We(e.Form).then(function(t){e.updateLoading=!1,200==t.code?e.$message.success(t.message):e.$message.error(t.message)})}else e.updateLoading=!0,We(e.Form).then(function(t){e.updateLoading=!1,200==t.code?e.$message.success(t.message):e.$message.error(t.message)});else e.$message.warning("请检查控制图参数填写是否完整")}):e.$message.warning("请检查基本信息填写是否完整")})},pySubmit:function(){var e=void 0;1==this.graphType?(e=Z()({},this.pyNum)).spcTaskId=this.spcTaskId:2==this.graphType&&((e=Z()({},this.pyNum1)).spcTaskId=this.spcTaskId),spcRulesCreate(e).then(function(e){})},recentGroupslValidator:function(e,t,a){if(t){var s=/^[1-9]+[0-9]*$/;s.test(t)?a():a(new Error("最近组数只能是>0的整数"))}else a()},decimalDigitslValidator:function(e,t,a){if(t){/^[0-6]$/.test(t)?a():a(new Error("小数位数只能0-6的整数"))}else a()},uslValidator:function(e,t,a){if(t){var s=/^(?!(0[0-9]{0,}$))[0-9]{1,}[.]{0,}[0-9]{0,}$/;s.test(t)&&"number"==typeof t&&t>0?this.Form.lsl&&t<=this.Form.lsl?a(new Error("规格上限必须大于规格下限")):this.Form.targetValue&&t<=this.Form.targetValue?a(new Error("规格上限必须大于目标值")):a():a(new Error("规格上限只能是>0的数字"))}else a()},lslValidator:function(e,t,a){if(t){/^(?!(0[0-9]{0,}$))[0-9]{1,}[.]{0,}[0-9]{0,}$/.test(t)&&t>0?this.Form.usl&&t>=this.Form.usl?a(new Error("规格下限必须小于规格上限")):this.Form.targetValue&&t>=this.Form.targetValue?a(new Error("规格下限必须小于目标值")):a():a(new Error("规格下限只能是>0的数字"))}else a()},targetValidator:function(e,t,a){if(t){/^(?!(0[0-9]{0,}$))[0-9]{1,}[.]{0,}[0-9]{0,}$/.test(t)&&t>0?this.Form.usl&&t>=this.Form.usl?a(new Error("目标值必须小于规格上限")):this.Form.lsl&&t<=this.Form.lsl?a(new Error("目标值必须大于规格下限")):a():a(new Error("目标值只能是>0的数字"))}else a()},getSpctaskDetail:function(){var e=this;Je({spcTaskId:this.spcTaskId}).then(function(t){200==t.code?(t.data.controlGraph&&(t.data.controlGraph>0&&t.data.controlGraph<5?e.graphType=1:t.data.controlGraph>4&&t.data.controlGraph<9&&(e.graphType=2)),e.Form=Z()({},e.Form,t.data),e.$refs.general.clearValidate(),e.getRuleList()):e.$message.error(t.message)})},getRuleList:function(){var e=this;Ye({spcTaskId:this.spcTaskId}).then(function(t){200==t.code?(e.ruleList=t.data,e.filterRules(Number(e.Form.controlGraph))):e.$message.error(t.message)})},filterRules:function(e){var t=this;[5,6,7,8].indexOf(e,0)>=0?this.filterRuleList=this.ruleList.slice(0,4):[1,2,3,4].indexOf(e,0)>=0&&(this.filterRuleList=this.ruleList.slice()),this.filterRuleList.length>0&&this.filterRuleList.forEach(function(e){1==e.enable&&t.$refs.multipleTable.toggleRowSelection(e,!0)})},back:function(){this.$router.push("/spc/detail/"+this.spcTaskId)},allGrouop:function(){this.allRecentGroups?this.Form.recentGroups=1e5:1e5==this.Form.recentGroups&&(this.Form.recentGroups=1)},chartDes:function(e){this.n=e.n,this.m=e.m,this.content=e.content.replace("n",e.n).replace("m",e.m),this.ruleNumber=e.ruleNumber}},computed:{jljs:function(){return[5,6,7,8].indexOf(this.Form.controlGraph,0)>=0?"js":[1,2,3,4].indexOf(this.Form.controlGraph,0)>=0?"jl":void 0},LABEL:function(){return["不良率上限","不良率上限","缺陷率上限","缺陷率上限"][Number(this.Form.controlGraph)-5]},filterPyData:function(){var e=[];return[5,6,7,8].indexOf(this.Form.controlGraph,0)>=0?e=this.ruleList.slice(0,4):[1,2,3,4].indexOf(this.Form.controlGraph,0)>=0&&(e=this.ruleList.slice()),e.length,e},judgeSelect:function(){var e=[];return this.filterRuleList.length>0&&this.filterRuleList.forEach(function(t){1==t.enable&&e.push(t.ruleNumber)}),e},filterDsList:function(){var e=this;return this.dsList.length>0?this.dsList.filter(function(t){return t.calculationType==e.Form.calculationType&&t.projectType==e.Form.analysisMethod}):[]}},watch:{"Form.controlGraph":function(){this.rules.groupNum=[{required:1==this.graphType,message:"请填写子组容量",trigger:"change,blur"},{validator:function(e,t,a){if(t){for(var s=[],r=2;r<=25;r++)s.push(r);-1==s.indexOf(t)&&a(new Error("子组容量是2-25的整数")),a()}else a()},trigger:"change,blur"}],1==this.graphType&&this.rules.groupNum.push({type:"number",min:1,max:25,message:"子组容量必须为1-25的整数",trigger:"change,blur"}),1==this.graphType?(this.rules.usl=[{validator:this.uslValidator,trigger:"change,blur"}],this.rules.lsl.push({validator:this.lslValidator,trigger:"change,blur"}),this.rules.targetValue.push({validator:this.targetValidator,trigger:"change,blur"}),4==this.Form.controlGraph?this.rules.moveRange=[{required:!0,message:"请填写移动距离",trigger:"change,blur"},{type:"number",min:2,max:3,message:"移动距离必须为数字2或3",trigger:"change,blur"}]:this.rules.moveRange=[]):(this.rules.usl=[{required:!0,message:"请填写"+["不良率上限","不良率上限","缺陷率上限","缺陷率上限"][Number(this.Form.controlGraph)-5],trigger:"change,blur"},{type:"number",message:["不良率上限","不良率上限","缺陷率上限","缺陷率上限"][Number(this.Form.controlGraph)-5]+"必须为数字",trigger:"change,blur"}],this.rules.lsl=[],this.rules.targetValue=[],this.rules.moveRange=[])},"Form.recentGroups":function(){1e5==this.Form.recentGroups?this.allRecentGroups=!0:this.allRecentGroups=!1}},created:function(){this.spcTaskId=this.$route.params.spc_id,this.getSpctaskDetail(),this.getDsList()}},bt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{directives:[{name:"show",rawName:"v-show",value:!e.$store.getters.showFolderTask,expression:"!$store.getters.showFolderTask"}],staticStyle:{"border-bottom":"1px solid #dcdfe6",padding:"5px 20px",position:"fixed",top:"0",left:"66px",right:"0px","z-index":"999",background:"#fff"}},[a("el-col",{staticStyle:{"font-size":"20px"},attrs:{span:10}},[e._v("\r\n                 \r\n                "),a("el-button",{attrs:{type:"text"},on:{click:function(t){e.$store.commit("SET_TASK",!0)}}},[a("i",{staticClass:"el-icon-menu el-icon--left"}),e._v(e._s(e.Form.spcTaskName)),a("i",{staticClass:"el-icon-caret-bottom el-icon--right"})])],1),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:14}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.back}},[a("svg-icon",{staticStyle:{"font-size":"20px"},attrs:{"icon-class":"back"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"app-container"},[a("el-row",{staticClass:"vertical-tabs"},[a("el-col",{staticStyle:{position:"relative"},attrs:{xs:{span:20,offset:2},sm:{span:18,offset:3},md:{span:16,offset:4},lg:{span:16,offset:4},xl:{span:16,offset:4}}},[a("el-button",{staticStyle:{position:"absolute",left:"20px",top:"260px","z-index":"99"},attrs:{type:"success",size:"small",loading:e.updateLoading},on:{click:e.submit}},[e._v("保存")]),e._v(" "),a("el-tabs",{staticStyle:{"margin-top":"50px"},style:{"min-height":e.$Height()-100+"px"},attrs:{type:"border-card","tab-position":"left"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"first"}},[a("el-form",{ref:"general",staticClass:"Form m-t",attrs:{"label-position":"right","label-width":"120px",model:e.Form,rules:e.rules,size:"mini"}},[a("el-col",{attrs:{span:22}},[a("el-form-item",{attrs:{label:"项目名称 :",prop:"spcTaskName"}},[a("el-input",{model:{value:e.Form.spcTaskName,callback:function(t){e.$set(e.Form,"spcTaskName",t)},expression:"Form.spcTaskName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据源 :",prop:"configDataanalysisId"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择数据分析"},model:{value:e.Form.configDataanalysisId,callback:function(t){e.$set(e.Form,"configDataanalysisId",t)},expression:"Form.configDataanalysisId"}},e._l(e.filterDsList,function(t){return a("el-option",{key:t.configDataanalysisId,attrs:{label:t.configDataanalysisName,value:t.configDataanalysisId}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.configDataanalysisName))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#999","font-size":"12px"}},[e._v(e._s(["计量","计数","MSA"][t.calculationType-1]))])])}))],1),e._v(" "),a("el-form-item",{attrs:{label:"项目描述 :"}},[a("el-input",{model:{value:e.Form.comment,callback:function(t){e.$set(e.Form,"comment",t)},expression:"Form.comment"}})],1)],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"规格配置",name:"second"}},[a("el-form",{ref:"graph",staticClass:"Form m-t",attrs:{"label-position":"right","label-width":"120px",model:e.Form,rules:e.rules,size:"mini"}},[a("el-row",{staticStyle:{overflow:"hidden"}},[a("div",[a("el-col",{staticClass:"setting",attrs:{span:22}},[a("el-form-item",{attrs:{label:"管制图形 :",prop:"controlGraph"}},[a("el-select",{attrs:{clearable:""},on:{change:e.filterRules},model:{value:e.Form.controlGraph,callback:function(t){e.$set(e.Form,"controlGraph",t)},expression:"Form.controlGraph"}},e._l(e.graphTypes,function(t){return a("el-option",{key:t.label+"_"+t.value,attrs:{label:t.label,value:t.value,disabled:!(t.type==e.graphType)}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!(t.type==e.graphType),expression:"!(graph.type==graphType)"}],staticStyle:{float:"right",color:"#999","font-size":"12px"}},[a("i",{staticClass:"el-icon-close"})])])}))],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.Form.controlGraph,expression:"Form.controlGraph"}],attrs:{label:1==e.graphType?"规格上限":e.LABEL+":",prop:"usl"}},[a("el-input",{model:{value:e.Form.usl,callback:function(t){e.$set(e.Form,"usl",e._n(t))},expression:"Form.usl"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"jl"==e.jljs,expression:"jljs=='jl'"}],attrs:{label:"规格下限 :",prop:"lsl"}},[a("el-input",{model:{value:e.Form.lsl,callback:function(t){e.$set(e.Form,"lsl",e._n(t))},expression:"Form.lsl"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"jl"==e.jljs,expression:"jljs=='jl'"}],attrs:{label:"目标值 :",prop:"targetValue"}},[a("el-input",{model:{value:e.Form.targetValue,callback:function(t){e.$set(e.Form,"targetValue",e._n(t))},expression:"Form.targetValue"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"jl"==e.jljs,expression:"jljs=='jl'"}],attrs:{label:"子组容量 :",prop:"groupNum"}},[a("el-input",{attrs:{placeholder:"请填写2-25的整数"},model:{value:e.Form.groupNum,callback:function(t){e.$set(e.Form,"groupNum",e._n(t))},expression:"Form.groupNum"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"jl"==e.jljs&&4==e.Form.controlGraph,expression:"jljs=='jl' && Form.controlGraph==4"}],attrs:{label:"移动距离 :",prop:"moveRange"}},[a("el-input",{attrs:{placeholder:"只能填写 2 或 3"},model:{value:e.Form.moveRange,callback:function(t){e.$set(e.Form,"moveRange",e._n(t))},expression:"Form.moveRange"}})],1)],1)],1)])],1),e._v(" "),a("el-form",{staticClass:"Form",attrs:{"label-position":"right","label-width":"120px"}},[a("el-row",[a("el-col",{attrs:{span:22}},[a("el-form-item",{attrs:{label:"判异配置 :"}},[a("div",{staticClass:"Table SPC_Table",staticStyle:{position:"relative"}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%",overflow:"hidden"},attrs:{data:e.filterRuleList,"tooltip-effect":"dark",border:"",size:"mini","row-key":"ruleNumber","empty-text":"请先选择管制图形"},on:{select:e.selectRules,"select-all":e.selectAllRules}},[a("el-table-column",{attrs:{type:"selection","reserve-selection":!0,align:"center",width:"30px"}}),e._v(" "),a("el-table-column",{attrs:{label:"编号",prop:"ruleNumber",align:"center",width:"50px"}}),e._v(" "),a("el-table-column",{attrs:{label:"现行规则","min-width":"10px","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n                                                    "+e._s(t.row.content.replace("n",t.row.n).replace("m",t.row.m))+"\r\n                                                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"content",label:"规则依据","min-width":"10px","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150px",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:-1==e.judgeSelect.indexOf(t.row.ruleNumber)?"info":"primary",disabled:-1==e.judgeSelect.indexOf(t.row.ruleNumber)},on:{click:function(a){e.rowDbclick(t)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:e.ruleNumber==t.row.ruleNumber?"success":"info",plain:""},on:{click:function(a){e.chartDes(t.row)}}},[a("svg-icon",{attrs:{"icon-class":"line-chart"}})],1)]}}])})],1),e._v(" "),a("div",{staticStyle:{"z-index":"10",position:"absolute",width:"25px",height:"25px",top:"10px",left:"4px","text-align":"center",background:"rgb(245,246,250)"}},[e._v("\r\n                                                    #\r\n                                                ")])],1)]),e._v(" "),a("el-form-item",["second"==e.activeName?a("v-ruleline",{attrs:{ruleNumber:e.ruleNumber,content:e.content,n:e.n,m:e.m}}):e._e()],1)],1)],1)],1)],1)],1)],1)],1)],1),e._v(" "),a("el-dialog",{staticClass:"dialog setting-form",attrs:{"close-on-click-modal":!1,visible:e.showChangePy,"show-close":!1,width:"300px"},on:{"update:visible":function(t){e.showChangePy=t}}},[a("el-form",{staticClass:"Form",attrs:{"label-position":"right","label-width":"40px",size:"mini"}},e._l(e.selectedPy,function(t,s,r){return"ruleNumber"!==s?a("el-form-item",{key:r+"_"+e.graphType+"_",attrs:{label:"["+s+"] ="}},[a("el-input",{model:{value:e.selectedPy[s],callback:function(t){e.$set(e.selectedPy,s,t)},expression:"selectedPy[k]"}})],1):e._e()})),e._v(" "),a("div",{staticStyle:{"border-top":"1px solid #ebeef5","margin-top":"20px","text-align":"center","padding-top":"20px","margin-bottom":"-10px"}},[a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"mini",loading:e.ruleLoading},on:{click:e.changePy}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:e.cancelChangePy}},[e._v("取消")])],1)])],1),e._v(" "),a("v-folder",{directives:[{name:"show",rawName:"v-show",value:e.$store.getters.showFolderTask,expression:"$store.getters.showFolderTask"}]})],1)},staticRenderFns:[]},yt=a("/Xao")(vt,bt,!1,null,null,null).exports,_t=a("Uj7C"),xt=a.n(_t),wt=(a("Brf1"),new o.default,{data:function(){return{selRule:[],color:["#1BE9BF","#63C2FF","#FF7993","#FFCB8C","#0071B6","#D7C6FA","#61a0a8","#FF00FF"]}},methods:{clickNode:function(){},aboutColor:function(e){return this.selRule.indexOf(e)>=0?this.color[e-1]:"#ddd"},selectRule:function(e){if(0==this.selRule.length)this.selRule.push(e);else{var t=-1;this.selRule.forEach(function(a,s){a==e&&(t=s)}),t>=0?this.selRule.splice(t,1):this.selRule.push(e)}}},computed:{datas:function(){var e=this;if(0==this.selRule.length)return this.chartData;var t={columns:this.chartData.columns,rows:[]};return this.chartData.rows.forEach(function(a){if(a.improper.length>0){var s=!1;e.selRule.forEach(function(e){a.ruleNumber.forEach(function(t){e==t&&(s=!0)})}),s&&t.rows.push(Z()({},a))}}),t}}}),kt={mixins:[wt],props:["chartData","MAX","MIN","WX","HX","selectedXrules","show"],data:function(){var e=this;return this.chartSettings={metrics:["avg"],dimension:["groupNum"]},this.dataZoom=[{type:"slider",startValue:0,endValue:50,show:e.show}],this.chartEvents={click:function(t){e.$emit("clickNode",t)}},this.markLine={data:[]},this.markArea={silent:!0,label:{show:!0,position:"right",fontWeight:500},data:[[{yAxis:this.chartData.rows[0].usl},{yAxis:this.chartData.rows[0].usl,name:"usl="+this.chartData.rows[0].usl,label:{show:!0,position:"right",offset:[-100,-10],color:"#f00"},itemStyle:{borderColor:"#f00",borderWidth:.5,borderType:"dashed"}}],[{yAxis:this.chartData.rows[0].lsl},{yAxis:this.chartData.rows[0].lsl,name:"lsl="+this.chartData.rows[0].lsl,label:{show:!0,position:"right",offset:[-100,10],color:"#f00"},itemStyle:{borderColor:"#f00",borderWidth:.5,borderType:"dashed"}}],[{yAxis:this.chartData.rows[0].ucl},{yAxis:this.chartData.rows[0].ucl,name:"ucl="+this.chartData.rows[0].ucl,label:{show:!0,position:"right",offset:[-200,-10],color:"#00f"},itemStyle:{borderColor:"#00f",borderWidth:.5,borderType:"dashed"}}],[{yAxis:this.chartData.rows[0].lcl},{yAxis:this.chartData.rows[0].lcl,name:"lcl="+this.chartData.rows[0].lcl,label:{show:!0,position:"right",offset:[-200,10],color:"#00f"},itemStyle:{borderColor:"#00f",borderWidth:.5,borderType:"dashed"}}],[{yAxis:this.chartData.rows[0].cl},{yAxis:this.chartData.rows[0].cl,name:"c l="+this.chartData.rows[0].cl,label:{show:!0,position:"right",offset:[-100,-10],color:"rgb(254, 201, 0)"},itemStyle:{borderColor:"rgb(254, 201, 0)",borderWidth:.5,borderType:"dashed"}}]]},this.extend={series:{type:"line",smooth:!1,showAllSymbol:!0,symbolSize:[5,5],lineStyle:{normal:{color:"rgb(25,212,174)"}},itemStyle:{normal:{borderWidth:1,color:function(t){return e.datas.rows[t.dataIndex].improper.length>0?"#f00":"rgb(25,212,174)"}}}},tooltip:{formatter:function(t){var a=e.datas.rows[t[0].dataIndex];return a.improper.length>0?"groupNum : "+a.groupNum+"<br/>avg : "+a.avg+"<br/>error : "+a.improper.join("<br/>"):"groupNum : "+a.groupNum+"<br/>avg : "+a.avg}},xAxis:{axisLabel:{interval:"auto"},axisLine:{show:!0,lineStyle:{color:"rgb(102,102,102)"}},axisTick:{show:!0,lineStyle:{color:"rgb(102,102,102)"}}},yAxis:{max:function(t){var a=e.MAX.toString().indexOf(".");return a>0?Number(e.MAX.toString().slice(0,a+3)):e.MAX},min:function(t){var a=e.MIN.toString().indexOf(".");return a>0?Number(e.MIN.toString().slice(0,a+3)):e.MIN},splitLine:{show:!1},axisLine:{show:!0,lineStyle:{color:"rgb(102,102,102)"}},axisTick:{show:!0,lineStyle:{color:"rgb(102,102,102)"}}}},{backgroundColor:"rgb(243,243,243)",yAxis:{},grid:{right:20,top:5}}},computed:{height:function(){return this.HX-80+"px"},width:function(){return this.WX}},watch:{HX:function(){this.$refs.lineX.echarts.resize()},WX:function(){this.$refs.lineX.echarts.resize()}},mounted:function(){this.$refs.lineX.echarts.resize()},beforeDestroy:function(){this.$refs.lineX.echarts.clear()}},Tt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{position:"relative"}},[a("ve-line",{ref:"lineX",attrs:{data:e.datas,"legend-visible":!1,height:e.height,"mark-area":e.markArea,grid:e.grid,yAxis:e.yAxis,extend:e.extend,"data-zoom":e.dataZoom,settings:e.chartSettings,events:e.chartEvents}}),e._v(" "),e.selectedXrules.length>0&&e.show?a("el-popover",{attrs:{placement:"left",width:"210",trigger:"click"}},[a("span",{staticStyle:{"text-align":"center",display:"inline-block",cursor:"pointer",width:"20px","line-height":"20px",background:"#c93756","border-radius":"10px",color:"#fff"},attrs:{slot:"reference"},slot:"reference"},[e._v("R")]),e._v(" "),a("div",{staticClass:"checkTools"},[a("ul",e._l(e.selectedXrules,function(t,s){return a("li",{key:t,staticStyle:{"font-size":"14px","margin-top":"10px",float:"left"}},[a("span",{staticStyle:{display:"inline-block",width:"30px","padding-right":"10px","text-align":"right",color:"#666","line-height":"20px"}},[e._v(e._s(t))]),e._v(" "),a("span",{staticStyle:{display:"inline-block",width:"40px",height:"20px","border-radius":"5px",cursor:"pointer","vertical-align":"top"},style:{backgroundColor:e.aboutColor(t)},on:{click:function(a){e.selectRule(t)}}})])}))])]):e._e()],1)},staticRenderFns:[]};var St=a("/Xao")(kt,Tt,!1,function(e){a("Zjaa")},null,null).exports,Lt={mixins:[wt],props:["chartData","min","max","selectedRrules","HR","WR","show"],data:function(){var e=this;return this.dataZoom=[{type:"slider",startValue:0,endValue:50,show:e.show}],this.chartEvents={click:function(t){e.$emit("clickNode",t)}},this.markArea={silent:!0,label:{show:!0,position:"right",fontWeight:500},data:[[{yAxis:this.chartData.rows[0].ucl},{yAxis:this.chartData.rows[0].ucl,name:"ucl="+this.chartData.rows[0].ucl,label:{show:!0,position:"right",offset:[-100,-10],color:"#00f"},itemStyle:{borderColor:"#00f",borderWidth:.5,borderType:"dashed"}}],[{yAxis:this.chartData.rows[0].lcl},{yAxis:this.chartData.rows[0].lcl,name:"lcl="+this.chartData.rows[0].lcl,label:{show:!0,position:"right",offset:[-100,10],color:"#00f"},itemStyle:{borderColor:"#00f",borderWidth:.5,borderType:"dashed"}}],[{yAxis:this.chartData.rows[0].cl},{yAxis:this.chartData.rows[0].cl,name:"c l="+this.chartData.rows[0].cl,label:{show:!0,position:"right",offset:[-100,-10],color:"rgb(254, 201, 0)"},itemStyle:{borderColor:"rgb(254, 201, 0)",borderWidth:.5,borderType:"dashed"}}]]},this.visualMap=[{right:0,top:30,pieces:[{gt:this.chartData.rows[0].lcl,lte:this.chartData.rows[0].cl,color:"#096"},{gt:this.chartData.rows[0].cl,lte:this.chartData.rows[0].ucl,color:"#ffde33"}]}],this.extend={series:{type:"line",smooth:!1,showAllSymbol:!0,symbolSize:[5,5],lineStyle:{normal:{color:"rgb(25,212,174)"}},itemStyle:{normal:{borderWidth:1,color:function(t){return e.datas.rows[t.dataIndex].improper.length>0?"#f00":"rgb(25,212,174)"}}}},tooltip:{formatter:function(t){var a=e.datas.rows[t[0].dataIndex];return a.improper.length>0?"groupNum : "+a.groupNum+"<br/>range : "+a.range+"<br/>error : "+a.improper.join("<br/>"):"groupNum : "+a.groupNum+"<br/>range : "+a.range}},xAxis:{axisLabel:{interval:"auto"},axisLine:{show:!0,lineStyle:{}},axisTick:{show:!0,lineStyle:{color:"rgb(102,102,102)"}}}},{yAxis:{max:function(t){var a=e.max.toString().indexOf(".");return a>0?Number(e.max.toString().slice(0,a+3)):e.max},min:e.min,axisLine:{show:!0,lineStyle:{color:"rgb(102,102,102)"}},splitLine:{show:!1}},grid:{right:40,top:10,bottom:50}}},computed:{height:function(){return this.HR-80+"px"},width:function(){return this.WR}},mounted:function(){this.$refs.lineR.echarts.resize()},beforeDestroy:function(){this.$refs.lineR.echarts.clear()}},Nt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{position:"relative"}},[a("ve-line",{ref:"lineR",attrs:{data:e.datas,height:e.height,width:e.width,"mark-area":e.markArea,"legend-visible":!1,grid:e.grid,yAxis:e.yAxis,"data-zoom":e.dataZoom,extend:e.extend,events:e.chartEvents}}),e._v(" "),e.selectedRrules.length>0&&e.show?a("el-popover",{attrs:{placement:"left",width:"210",trigger:"click"}},[a("span",{staticStyle:{"text-align":"center",display:"inline-block",cursor:"pointer",width:"20px","line-height":"20px",background:"#c93756","border-radius":"10px",color:"#fff"},attrs:{slot:"reference"},slot:"reference"},[e._v("R")]),e._v(" "),a("div",{staticClass:"checkTools"},[a("ul",e._l(e.selectedRrules,function(t,s){return a("li",{key:t,staticStyle:{"font-size":"14px","margin-top":"10px",float:"left"}},[a("span",{staticStyle:{display:"inline-block",width:"30px","padding-right":"10px","text-align":"right",color:"#666","line-height":"20px"}},[e._v(e._s(t))]),e._v(" "),a("span",{staticStyle:{display:"inline-block",width:"40px",height:"20px","border-radius":"5px",cursor:"pointer","vertical-align":"top"},style:{backgroundColor:e.aboutColor(t)},on:{click:function(a){e.selectRule(t)}}})])}))])]):e._e()],1)},staticRenderFns:[]},Ct=a("/Xao")(Lt,Nt,!1,null,null,null).exports,Dt=a("a3Yh"),It=a.n(Dt),At={props:["count","distData","MIN","MAX","sigma","usl","lsl","sigma1","sigma2","sigma3","sigma_1","sigma_2","sigma_3","HZ","WZ"],computed:{height:function(){return this.HZ-50+"px"},width:function(){return this.WZ}},watch:{HZ:function(){this.myChart.resize(),this.drawLine()},WZ:function(){this.myChart.resize(),this.drawLine()},sigma_3:function(){this.myChart.resize(),this.drawLine()}},data:function(){return{myChart:"",label:{normal:{show:!0,formatter:function(e){return 0==e.data[1]?"":e.data[0]},color:"#f00",fontWight:"bolder"}},itemStyle:{normal:{color:function(e){return 0==e.data[1]?"#fff":"#f00"}}},itemStyleSigma:{normal:{color:function(e){return 0==e.data[1]?"#fff":"#00f"}}},colorSigma:"#00f",lineStyleSigma:{normal:{color:"#00f",width:1}},colors:["#5793f3","#d14a61","#675bba"],splitLine:{show:!1},axisLabel:{show:!1}}},methods:{renderItem:function(e,t){var a=t.value(2),s=t.coord([t.value(0),a]),r=t.size([t.value(1)-t.value(0),a]),i=t.style();return{type:"rect",shape:{x:s[0]+1,y:s[1],width:r[0]-2,height:r[1]},style:i}},drawLine:function(){this.myChart.setOption({color:this.colors,tooltip:{show:!0,axisPointer:"none"},grid:{left:70,right:40,top:10},xAxis:[{type:"value",min:this.MIN,max:this.MAX,interval:15,boundaryGap:!1,splitLine:this.splitLine,axisLabel:{show:!1},axisTick:{show:!1}},It()({type:"value",min:this.distData[0][0],interval:100,triggerEvent:!1,splitLine:this.splitLine,axisTick:{alignWithLabel:!0},axisLine:{show:!1},axisLabel:{show:!1}},"axisTick",{show:!1}),{type:"value"},{type:"value"},{type:"value"},{type:"value"},{type:"value"},{type:"value"},{type:"value"},{type:"value"},{type:"value"}],yAxis:[{type:"value"}],series:[{name:"直方图",type:"custom",tooltip:{show:!0,formatter:function(e){return"x : ["+e.value[0]+","+e.value[1]+"]<br/>y : "+e.value[2]}},renderItem:this.renderItem,label:{normal:{show:!0,position:"top"}},encode:{x:[0,1],y:2,tooltip:2,label:2},data:this.count,itemStyle:{normal:{color:function(e){return["#C1232B","#B5C334","#FCCE10","#E87C25","#27727B","#FE8463","#9BCA63","#FAD860","#F3A43B","#60C0DD","#D7504B","#C6E579","#F4E001","#F0805A","#26C0C0"][e.dataIndex]}}}},{name:"正态分布",type:"line",xAxisIndex:1,smooth:!0,data:this.distData,tooltip:{show:!1},itemStyle:{normal:{opacity:0}}},{data:this.lsl,type:"line",symbol:"arrow",hoverAnimation:!1,symbolSize:[10,10],label:this.label,lineStyle:{normal:{color:"#f00",width:3}},itemStyle:this.itemStyle},{data:this.usl,type:"line",symbol:"arrow",hoverAnimation:!1,symbolSize:[10,10],label:this.label,lineStyle:{normal:{color:"#f00",width:3}},itemStyle:this.itemStyle},{data:this.sigma,type:"line",symbol:"arrow",hoverAnimation:!1,symbolSize:[10,10],label:this.label,lineStyle:{normal:{color:"#0f0",width:3}},itemStyle:{normal:{color:function(e){return 0==e.data[1]?"#fff":"#0f0"}}}},{data:this.sigma1,type:"line",hoverAnimation:!1,symbolSize:1,label:{normal:{show:!0,formatter:function(e){return e.data[1]>0?"":"+1σ"},color:this.colorSigma,fontWight:"bolder",position:"bottom"}},lineStyle:this.lineStyleSigma,itemStyle:this.itemStyleSigma},{data:this.sigma2,type:"line",hoverAnimation:!1,symbolSize:1,label:{normal:{show:!0,formatter:function(e){return e.data[1]>0?"":"+2σ"},color:this.colorSigma,fontWight:"bolder",position:"bottom"}},lineStyle:this.lineStyleSigma,itemStyle:this.itemStyleSigma},{data:this.sigma3,type:"line",hoverAnimation:!1,symbolSize:1,label:{normal:{show:!0,formatter:function(e){return e.data[1]>0?"":"+3σ"},color:this.colorSigma,fontWight:"bolder",position:"bottom"}},lineStyle:this.lineStyleSigma,itemStyle:this.itemStyleSigma},{data:this.sigma_1,type:"line",hoverAnimation:!1,symbolSize:1,label:{normal:{show:!0,formatter:function(e){return e.data[1]>0?"":"-1σ"},color:this.colorSigma,fontWight:"bolder",position:"bottom"}},lineStyle:this.lineStyleSigma,itemStyle:this.itemStyleSigma},{data:this.sigma_2,type:"line",hoverAnimation:!1,symbolSize:1,label:{normal:{show:!0,formatter:function(e){return e.data[1]>0?"":"-2σ"},color:this.colorSigma,fontWight:"bolder",position:"bottom"}},lineStyle:this.lineStyleSigma,itemStyle:this.itemStyleSigma},{data:this.sigma_3,type:"line",hoverAnimation:!1,symbolSize:1,label:{normal:{show:!0,formatter:function(e){return e.data[1]>0?"":"-3σ"},color:this.colorSigma,fontWight:"bolder",position:"bottom"}},lineStyle:this.lineStyleSigma,itemStyle:this.itemStyleSigma}]})}},mounted:function(){this.myChart=this.$echarts.init(this.$refs.myChart),this.myChart.resize(),this.drawLine()},beforeDestroy:function(){this.myChart.clear()}},Ft={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{ref:"myChart",style:{height:this.height,width:this.width}})])},staticRenderFns:[]};var Mt=a("/Xao")(At,Ft,!1,function(e){a("/GUI")},null,null).exports;function Rt(e,t){if(0===arguments.length)return null;var a=t||"{y}-{m}-{d} {h}:{i}:{s}",s=void 0;"object"===(void 0===e?"undefined":se()(e))?s=e:(10===(""+e).length&&(e=1e3*parseInt(e)),s=new Date(e));var r={y:s.getFullYear(),m:s.getMonth()+1,d:s.getDate(),h:s.getHours(),i:s.getMinutes(),s:s.getSeconds(),a:s.getDay()};return a.replace(/{(y|m|d|h|i|s|a)+}/g,function(e,t){var a=r[t];return"a"===t?["一","二","三","四","五","六","日"][a-1]:(e.length>0&&a<10&&(a="0"+a),a||0)})}var $t={props:["groupDatas","configData","XR","params","rules","errorDataExcel","errorDataExcel1"],data:function(){return{expendRow:[],getRowKeys:function(e){return e.groupNum},expands:[],page:1,pageSize:20}},methods:{cellClick:function(e,t,a,s){if(this.expendRow=e,this.expands[0]==e.groupNum?this.expands.pop():this.$set(this.expands,0,e.groupNum),t.label&&t.label.indexOf("样本")>=0){var r=t.label.trim().slice(-1);this.moreInfo=e.dataList[r-1].info}},handleSizeChange:function(e){this.pageSize=Number(e),this.page=1},handleCurrentChange:function(e){this.page=Number(e)},tableMoreInfo:function(e){var t=this,a=[];return this.params.forEach(function(e){a.push({type:e})}),e.forEach(function(e,s){e.info.forEach(function(e,r){t.$set(a[r],"eg"+s,e)})}),a},exportExcel:function(){var e=this;Promise.all([a.e(1),a.e(0)]).then(function(){var t=a("zWO4").export_json_to_excel,s=["组号","样本值"].concat(Ne()(e.params)),r=["组号","合计值","极差值","平均值","是否异常",e.XR[0]+"管制图异常原因",e.XR[1]+"管制图原因"],i=[],o=[],n=[],l=e.groupDatas;e.rules.forEach(function(e){n.push([Math.abs(e.ruleNumber),e.content])}),l.forEach(function(t){var a=[];t.dataList.forEach(function(e){a=[t.groupNum,e.value].concat(Ne()(e.info)),i.push(a)});var s=[t.groupNum,t.sum,t.secondParameter,t.firstParameter];e.errorDataExcel[t.groupNum]||e.errorDataExcel1[t.groupNum]?(s.push("是"),e.errorDataExcel[t.groupNum]?s.push(e.errorDataExcel[t.groupNum].join(",")):s.push(""),e.errorDataExcel1[t.groupNum]?s.push(e.errorDataExcel1[t.groupNum].join(",")):s.push("")):s.push("否","",""),o.push(s)}),t([s,r,["判异规则编号","判异规则"]],[i,o,n],["原始数据","组数据","判异规则"],e.configData.spcTaskName+"_"+Rt(new Date))}.bind(null,a)).catch(a.oe)}},computed:{filterGroupData:function(){var e=(this.page-1)*this.pageSize,t=e+this.pageSize;return this.groupDatas.slice(e,t)},total:function(){return this.groupDatas.length},loopNum:function(){return this.groupDatas.length>0&&this.groupDatas[0].dataList&&this.groupDatas[0].dataList instanceof Array?this.groupDatas[0].dataList.length:0}}},zt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Table SPC_Table "},[a("el-table",{ref:"tableScroll",staticStyle:{width:"100%"},attrs:{data:e.filterGroupData,size:"mini","max-height":"320","row-key":e.getRowKeys,"expand-row-keys":e.expands},on:{"cell-click":e.cellClick}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-col",{staticClass:"expand_Table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableMoreInfo(t.row.dataList),size:"mini",border:""}},[a("el-table-column",{attrs:{prop:"type",label:"类型",align:"center"}}),e._v(" "),e._l(e.loopNum,function(t,s){return a("el-table-column",{key:"ddff"+s,attrs:{label:"样本"+Number(Number(s)+1),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n                        "+e._s(t.row["eg"+s])+"\r\n                        ")]}}])})})],2)],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"groupNum",label:"组号",align:"center","min-width":"40px"}}),e._v(" "),a("el-table-column",{attrs:{label:"样本测定值",align:"center"}},e._l(e.loopNum,function(t,s){return a("el-table-column",{key:"ccc"+s,attrs:{label:"样本"+Number(Number(s)+1),align:"center","min-width":"35px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n                    "+e._s(t.row.dataList[s].value)+"\r\n                ")]}}])})})),e._v(" "),a("el-table-column",{attrs:{prop:"sum",label:"合计值",align:"center","min-width":"40px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n                    "+e._s(t.row.sum)+"\r\n                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"firstParameter",label:e.XR[2],align:"center","min-width":"40px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n                "+e._s(t.row.firstParameter)+"\r\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"secondParameter",label:e.XR[3],align:"center","min-width":"40px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n                "+e._s(t.row.secondParameter)+"\r\n            ")]}}])})],1),e._v(" "),a("div",{staticClass:"m-t text-center",staticStyle:{"border-top":"1px solid #ebeef5","margin-top":"0px","padding-top":"15px"}},[a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{"current-page":e.page,"page-size":e.pageSize,"page-sizes":[20,50,100,200],layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.page=t}}})],1)],1)},staticRenderFns:[]},Et=a("/Xao")($t,zt,!1,null,null,null).exports,Pt=a("Hqv8"),jt=a.n(Pt);a("0ec7");var Vt={props:["groupDatas","params","configData","rules","errorDataExcel","errorDataExcel1"],data:function(){return{page:1,pageSize:20,expendRow:[],getRowKeys:function(e){return e.groupNum},expands:[],moreInfo:""}},methods:{handleSizeChange:function(e){this.pageSize=Number(e),this.page=1},handleCurrentChange:function(e){this.page=Number(e)},exportExcel:function(){var e=this;Promise.all([a.e(1),a.e(0)]).then(function(){var t=a("zWO4").export_json_to_excel,s=["组号","抽样编号"].concat(Ne()(e.params)),r=[],i=[],o=[],n=e.groupDatas;e.rules.forEach(function(e){o.push([Math.abs(e.ruleNumber),e.content])}),n.forEach(function(t){var a;a=[t.groupNum,t.samplingNum].concat(Ne()(t.infoList)),r.push(a);var s=[t.groupNum,t.badName,t.badNum,t.badRate,t.lcl,t.ucl,t.samplingNum];e.errorDataExcel[t.groupNum]?(s.push("是"),s.push(e.errorDataExcel[t.groupNum].join(","))):s.push("否",""),i.push(s)}),t([s,["组号","错误类型","抽样编号","不良数","不良率","LCL","UCL","是否异常","异常原因"],["判异规则编号","判异规则"]],[r,i,o],["原始数据","组数据","判异规则"],e.configData.spcTaskName+"_"+Rt(new Date))}.bind(null,a)).catch(a.oe)},csv:function(){var e=jt.a.unparse({fields:["Column 1","Column 2"],data:[["foo","bar"],["abc","def"]]},{}),t=new Blob([e]),a=window.URL||window.webkitURL||window,s=a.createObjectURL(t),r=document.createElement("a");r.href=s,r.download=this.configData.spcTaskName+"_"+Rt(new Date),r.click(),a.revokeObjectURL(s)},tableMoreInfo:function(e){var t=[];return this.params.forEach(function(a,s){t.push({type:a,value:e[s]})}),t},cellClick:function(e,t,a,s){if(this.expendRow=e,this.expands[0]==e.groupNum?this.expands.pop():this.$set(this.expands,0,e.groupNum),t.label&&t.label.indexOf("样本")>=0){var r=t.label.trim().slice(-1);this.moreInfo=e.dataList[r-1].info}}},computed:{filterGroupData:function(){var e=(this.page-1)*this.pageSize,t=e+this.pageSize;return this.groupDatas.slice(e,t)},total:function(){return this.groupDatas.length}}},Ot={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Table SPC_Table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.filterGroupData,size:"mini",border:"","max-height":"360","row-key":e.getRowKeys,"expand-row-keys":e.expands},on:{"cell-click":e.cellClick}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-col",{staticClass:"expand_Table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableMoreInfo(t.row.infoList),size:"mini",border:""}},[a("el-table-column",{attrs:{prop:"type",label:"类型",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"value",label:"值",align:"center"}})],1)],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"groupNum",label:"组号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"badName",label:"错误类型",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"samplingNum",label:"抽样编号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"badNum",label:"不良数",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                                  "+e._s(t.row.badNum)+"\n                          ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"badRate",label:"不良率",align:"center","min-width":"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                                  "+e._s(t.row.badRate)+"\n                          ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"lcl",label:"LCL",align:"center","min-width":"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                                  "+e._s(t.row.lcl)+"\n                          ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"ucl",label:"UCL",align:"center","min-width":"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                                  "+e._s(t.row.ucl)+"\n                          ")]}}])})],1),e._v(" "),a("div",{staticClass:"m-t text-center",staticStyle:{"border-top":"1px solid #ebeef5","margin-top":"0px","padding-top":"15px"}},[a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{"current-page":e.page,"page-size":e.pageSize,"page-sizes":[20,50,100,200],layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.page=t}}})],1)],1)},staticRenderFns:[]},qt=a("/Xao")(Vt,Ot,!1,null,null,null).exports,Bt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"py",staticStyle:{"border-right":"1px solid rgb(159,159,159)","border-bottom":"1px solid rgb(159,159,159)"}},[a("p",{staticClass:"spcDetail"},[e._v("判异规则")]),e._v(" "),a("ul",[e._l(e.rules,function(t){return a("li",{key:t.msaTaskAbnormalRulesId},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-checkbox",{staticStyle:{"margin-right":"10px"},attrs:{checked:1==t.enable,disabled:""}}),e._v("\n                        "+e._s(t.content.replace("n",t.n).replace("m",t.m).replace("k",t.k))+"\n                     ")],1)],1)],1)}),e._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:0==e.rules.length,expression:"rules.length==0"}],staticStyle:{"text-align":"center"}},[e._v("没有配置判异规则")])],2)])])],1)],1)},staticRenderFns:[]},Ut=a("/Xao")({props:["rules"],data:function(){return{}}},Bt,!1,null,null,null).exports,Ht={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",[a("div",{staticClass:"stats_top",staticStyle:{"border-right":"1px solid rgb(159,159,159)","border-bottom":"1px solid rgb(159,159,159)"}},[a("div",[a("p",{staticClass:"spcDetail"},[e._v("合计")]),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("ul",[a("li",[e._v(e._s(e.XR[0])+" 平均值 = ")]),e._v(" "),a("li",[e._v(e._s(e.XR[1])+" 平均值 = ")])])]),e._v(" "),a("el-col",{attrs:{span:16}},[a("ul",{staticClass:"noBorder"},[a("li",[e._v(" "+e._s(e.variableStats.averageFirst))]),e._v(" "),a("li",[e._v(" "+e._s(e.variableStats.averageSecond))])])])],1)],1),e._v(" "),a("div",[a("p",{staticClass:"spcDetail"},[e._v("制程能力分析")]),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("p",{staticClass:"spcDetail spc-bg"},[e._v("短期")])]),e._v(" "),a("el-col",{attrs:{span:12}},[a("p",{staticClass:"spcDetail spc-bg"},[e._v("长期")])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("ul",[a("li",{staticClass:"spc-bg-content"},[e._v("stdDevShort")]),e._v(" "),a("li",{staticClass:"spc-bg-content"},[e._v("CP")]),e._v(" "),a("li",{staticClass:"spc-bg-content"},[e._v("CPK")]),e._v(" "),a("li",{staticClass:"spc-bg-content"},[e._v("CPM")]),e._v(" "),a("li",{staticClass:"spc-bg-content"},[e._v("CPMK")]),e._v(" "),a("li",{staticClass:"spc-bg-content"},[e._v("dpmoShort")]),e._v(" "),a("li",{staticClass:"spc-bg-content"},[e._v("zBenchShort")]),e._v(" "),a("li",{staticClass:"spc-bg-content"},[e._v("sigmaShort")])])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("ul",[a("li",[e._v(" "+e._s(e.variableStats.stdDevShort))]),e._v(" "),a("li",[e._v(" "+e._s(e.variableStats.cp))]),e._v(" "),a("li",[e._v(" "+e._s(e.variableStats.cpk))]),e._v(" "),a("li",[e._v(" "+e._s(e.variableStats.cpm))]),e._v(" "),a("li",[e._v(" "+e._s(e.variableStats.cpmk))]),e._v(" "),a("li",[e._v(" "+e._s(e.variableStats.dpmoShort))]),e._v(" "),a("li",[e._v(" "+e._s(e.variableStats.zBenchShort))]),e._v(" "),a("li",[e._v(" "+e._s(e.variableStats.sigmaShort))])])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("ul",[a("li",{staticClass:"spc-bg-content"},[e._v("stdDevLong")]),e._v(" "),a("li",{staticClass:"spc-bg-content"},[e._v("PP")]),e._v(" "),a("li",{staticClass:"spc-bg-content"},[e._v("PPK")]),e._v(" "),a("li",{staticClass:"spc-bg-content"},[e._v("PPM")]),e._v(" "),a("li",{staticClass:"spc-bg-content"},[e._v("PPMK")]),e._v(" "),a("li",{staticClass:"spc-bg-content"},[e._v("dpmoLong")]),e._v(" "),a("li",{staticClass:"spc-bg-content"},[e._v("zBenchLong")]),e._v(" "),a("li",{staticClass:"spc-bg-content"},[e._v("sigmaLong")])])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("ul",[a("li",[e._v(" "+e._s(e.variableStats.stdDevLong))]),e._v(" "),a("li",[e._v(" "+e._s(e.variableStats.pp))]),e._v(" "),a("li",[e._v(" "+e._s(e.variableStats.ppk))]),e._v(" "),a("li",[e._v(" "+e._s(e.variableStats.ppm))]),e._v(" "),a("li",[e._v(" "+e._s(e.variableStats.ppmk))]),e._v(" "),a("li",[e._v(" "+e._s(e.variableStats.dpmoLong))]),e._v(" "),a("li",[e._v(" "+e._s(e.variableStats.zBenchLong))]),e._v(" "),a("li",[e._v(" "+e._s(e.variableStats.sigmaLong))])])])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("ul",[a("li",{staticClass:"spc-bg-content"},[e._v("sigma")]),e._v(" "),a("li",{staticClass:"spc-bg-content"},[e._v("CA")])])]),e._v(" "),a("el-col",{attrs:{span:12}},[a("ul",[a("li",[e._v(" "+e._s(e.variableStats.sigma))]),e._v(" "),a("li",[e._v(" "+e._s(e.variableStats.ca))])])])],1)],1)])])],1)],1)},staticRenderFns:[]},Gt=a("/Xao")({props:["configData","variableStats","XR"],data:function(){return{}}},Ht,!1,null,null,null).exports,Xt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"stats_top",staticStyle:{"border-right":"1px solid rgb(159,159,159)","border-bottom":"1px solid rgb(159,159,159)"}},[a("div",[a("p",{staticClass:"spcDetail"},[e._v("平均")]),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("ul",[a("li",{staticClass:"spc-bg-content"},[e._v("每组平均抽样数")]),e._v(" "),a("li",{staticClass:"spc-bg-content"},[e._v("每组平均不良率")])])]),e._v(" "),a("el-col",{attrs:{span:12}},[a("ul",[a("li",[e._v(" "+e._s(e.xrStats.avgN))]),e._v(" "),a("li",[e._v(" "+e._s(e.xrStats.avgP))])])])],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"p"==e.TYPE||"np"==e.TYPE,expression:"(TYPE=='p' ||TYPE=='np' )"}]},[a("el-row",[a("el-col",{attrs:{span:12}},[a("p",{staticClass:"spcDetail spc-bg"},[e._v(" ")])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("p",{staticClass:"spcDetail spc-bg"},[e._v("期望下限")])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("p",{staticClass:"spcDetail spc-bg"},[e._v("期望上限")])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("ul",[a("li",{staticClass:"spc-bg-content"},[e._v("不良率(%)")]),e._v(" "),a("li",{staticClass:"spc-bg-content"},[e._v("百万件不良率")]),e._v(" "),a("li",{staticClass:"spc-bg-content"},[e._v("zBench")])])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("ul",[a("li",[e._v(" "+e._s(e.xrStats.percentDefective))]),e._v(" "),a("li",[e._v(" "+e._s(e.xrStats.dpmo))]),e._v(" "),a("li",[e._v(" "+e._s(e.xrStats.zBench))])])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("ul",[a("li",[e._v(" "+e._s(e.xrStats.defectiveLower))]),e._v(" "),a("li",[e._v(" "+e._s(e.xrStats.dpmoLower))]),e._v(" "),a("li",[e._v(" "+e._s(e.xrStats.zBenchLower))])])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("ul",[a("li",[e._v(" "+e._s(e.xrStats.defectiveUpper))]),e._v(" "),a("li",[e._v(" "+e._s(e.xrStats.dpmoUpper))]),e._v(" "),a("li",[e._v(" "+e._s(e.xrStats.zBenchUpper))])])])],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"c"==e.TYPE||"u"==e.TYPE,expression:"(TYPE=='c' ||TYPE=='u' )"}]},[a("el-row",[a("el-col",{attrs:{span:12}},[a("p",{staticClass:"spcDetail spc-bg"},[e._v(" ")])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("p",{staticClass:"spcDetail spc-bg"},[e._v("期望下限")])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("p",{staticClass:"spcDetail spc-bg"},[e._v("期望上限")])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("ul",[a("li",{staticClass:"spc-bg-content"},[e._v("DPU")]),e._v(" "),a("li",{staticClass:"spc-bg-content"},[e._v("zBench")])])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("ul",[a("li",[e._v(" "+e._s(e.xrStats.dpu))]),e._v(" "),a("li",[e._v(" "+e._s(e.xrStats.zBench))])])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("ul",[a("li",[e._v(" "+e._s(e.xrStats.dpuLower))]),e._v(" "),a("li",[e._v(" "+e._s(e.xrStats.zBenchLower))])])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("ul",[a("li",[e._v(" "+e._s(e.xrStats.dpuUpper))]),e._v(" "),a("li",[e._v(" "+e._s(e.xrStats.zBenchUpper))])])])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("ul",[a("li",{staticClass:"spc-bg-content"},[e._v("西格玛水平")])])]),e._v(" "),a("el-col",{attrs:{span:12}},[a("ul",[a("li",[e._v(" "+e._s(e.xrStats.sigmaLevel))])])])],1)],1)},staticRenderFns:[]},Wt=a("/Xao")({props:["xrStats","configData","TYPE"],data:function(){return{}}},Xt,!1,null,null,null).exports,Jt={props:["variableStats","configData","XR"],data:function(){return{loading:!1,newGroupNum:"",editGroupNum:!1}},methods:{changeGroupNum:function(){}},mounted:function(){}},Yt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"spc-header stats_top"},[a("el-row",[a("el-col",{attrs:{span:4}},[a("ul",[a("li",[e._v("抽样方法")])])]),e._v(" "),a("el-col",{attrs:{span:8}},[a("ul",{staticClass:"no-bg"},[a("li",[e._v(" "+e._s(e.XR[0])+"-"+e._s(e.XR[1]))])])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("ul",[a("li",[e._v("小数位数")])])]),e._v(" "),a("el-col",{attrs:{span:8}},[a("ul",{staticClass:"no-bg"},[a("li",[e._v(" "+e._s(e.configData.decimalDigits))])])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("ul",{staticClass:"spc-li-bg"},[a("li",[e._v("规格")]),e._v(" "),a("li",[e._v("上限USL")]),e._v(" "),a("li",[e._v("中心 CL")]),e._v(" "),a("li",[e._v("下限LSL")])])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("ul",[a("li",[e._v("标准")]),e._v(" "),a("li",[e._v(" "+e._s(e.configData.usl))]),e._v(" "),a("li",[e._v(" "+e._s(e.configData.targetValue))]),e._v(" "),a("li",[e._v(" "+e._s(e.configData.lsl))])])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("ul",[a("li",[e._v("子组容量")]),e._v(" "),a("li",[e._v(" "+e._s(e.configData.groupNum))]),e._v(" "),a("li",{staticClass:"spc-bg"},[e._v("总组数")]),e._v(" "),a("li",[e._v(" "+e._s(e.variableStats.numGroup))])])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("ul",{staticClass:"spc-li-bg"},[a("li",[e._v("管制")]),e._v(" "),a("li",[e._v("上限UCL")]),e._v(" "),a("li",[e._v("中心 CL")]),e._v(" "),a("li",[e._v("下限LCL")])])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("ul",[a("li",[e._v(e._s(e.XR[0])+"图")]),e._v(" "),a("li",[e._v(" "+e._s(e.variableStats.ucl_first))]),e._v(" "),a("li",[e._v(" "+e._s(e.variableStats.averageFirst))]),e._v(" "),a("li",[e._v(" "+e._s(e.variableStats.lcl_first))])])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("ul",[a("li",[e._v(e._s(e.XR[1])+"图")]),e._v(" "),a("li",[e._v(" "+e._s(e.variableStats.ucl_second))]),e._v(" "),a("li",[e._v(" "+e._s(e.variableStats.averageSecond))]),e._v(" "),a("li",[e._v(" "+e._s(e.variableStats.lcl_second))])])])],1)],1)])},staticRenderFns:[]},Zt=a("/Xao")(Jt,Yt,!1,null,null,null).exports,Qt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"spc-header stats_top "},[a("el-row",[a("el-col",{attrs:{span:4}},[a("ul",[a("li",{staticClass:"spc-li-bg"},[e._v("小数位数")]),e._v(" "),a("li",[e._v(" "+e._s(e.configData.decimalDigits))])])]),e._v(" "),a("el-col",{attrs:{span:5}},[a("ul",[a("li",{staticClass:"spc-li-bg"},[e._v("目标不良率")]),e._v(" "),a("li",[e._v(" "+e._s(e.xrStats.target))])])]),e._v(" "),a("el-col",{attrs:{span:5}},[a("ul",[a("li",{staticClass:"spc-li-bg"},[e._v("总组数")]),e._v(" "),a("li",[e._v(" "+e._s(e.xrStats.numGroup))])])]),e._v(" "),a("el-col",{attrs:{span:5}},[a("ul",[a("li",{staticClass:"spc-li-bg"},[e._v("抽样总数")]),e._v(" "),a("li",[e._v(" "+e._s(e.xrStats.numTotal))])])]),e._v(" "),a("el-col",{attrs:{span:5}},[a("ul",[a("li",{staticClass:"spc-li-bg"},[e._v("不良总数")]),e._v(" "),a("li",[e._v(" "+e._s(e.xrStats.numDefective))])])])],1)],1)])},staticRenderFns:[]},Kt=a("/Xao")({props:["configData","xrStats"],data:function(){return{}}},Qt,!1,null,null,null).exports,ea={props:["controlInfo","show","recentInfo","hasParameterForSql","controlLoading"],data:function(){return{recentGroupListBegin:[20,50,100],recentGroupListEnd:[20,50,100],digit:this.recentInfo?this.recentInfo.digit:4,sqlParamter:{}}},methods:{submit:function(){if(i()(this.controlInfo).length>0)for(var e in this.controlInfo){var t=this.controlInfo[e];if(i()(t).length>2){if(t.required&&!t.parameterValue){var a=t.comment?t.comment:t.parameter;return this.$message.warning(a+"是必填项"),!1}}else{if(t.start.required&&!t.start.parameterValue){var s=t.start.comment?t.start.comment:t.start.parameter;return this.$message.warning(s+"开始范围是必填项"),!1}if(t.off.required&&!t.off.parameterValue){var r=t.off.comment?t.off.comment:t.off.parameter;return this.$message.warning(r+"结束范围是必填项"),!1}}}var o={analysisParms:{}};if(this.digit&&(o.digit=this.digit),i()(this.controlInfo).length>0)for(var n in this.controlInfo)i()(this.controlInfo[n]).length>2?o.analysisParms[this.controlInfo[n].parameter]=this.controlInfo[n].parameterValue:(o.analysisParms[this.controlInfo[n].start.parameter]=this.controlInfo[n].start.parameterValue,o.analysisParms[this.controlInfo[n].off.parameter]=this.controlInfo[n].off.parameterValue);this.$emit("view",o)},cacheBegin:function(e){this.recentGroupListBegin.includes(e)||this.recentGroupListBegin.push(e)},cacheEnd:function(e){this.recentGroupListEnd.includes(e)||this.recentGroupListEnd.push(e)},checkSql:function(e){var t=this;if(i()(this.hasParameterForSql).length>0){var a=function(a){var s=t.hasParameterForSql[a];if(s.source.includes(e.parameter)&&(t.sqlParamter[e.parameter]=e.parameterValue,s.source.every(function(e){return t.sqlParamter[e]}))){var r=s.target.sql+"";s.source.forEach(function(e){r=r.replace(e,"'"+t.sqlParamter[e]+"'")}),t.$emit("Loading",!0),Ae({configDataanalysisId:e.configDataanalysisId,querySql:r}).then(function(e){t.$emit("Loading",!1),200==e.code?t.$emit("changevalue",{key:s.target.sectionValue,data:e.data}):t.$message.error(e.message)})}};for(var s in this.hasParameterForSql)a(s)}}}},ta={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.controlLoading,expression:"controlLoading"}]},[a("el-form",{ref:"dsForm",staticClass:"small-space Form setting-form FormError",attrs:{size:"mini","label-position":"right","label-width":"140px"}},[e._l(e.controlInfo,function(t,s){return Object.keys(t).length>2?[a("el-form-item",{key:s,class:{required:t.required},attrs:{label:t.comment?t.comment+t.symbol+" :":t.parameter+t.symbol+" :"}},[a("el-col",{attrs:{span:24}},[a("el-form",{staticClass:"small-space Form setting-form FormError",attrs:{size:"mini","label-position":"left"}},[a("el-form-item",[a("el-select",{directives:[{name:"show",rawName:"v-show",value:1==t.parameterValueType||4==t.parameterValueType,expression:"info.parameterValueType==1 || info.parameterValueType==4"}],attrs:{placeholder:"请选择参数值"},on:{change:function(a){e.checkSql(t)}},model:{value:t.parameterValue,callback:function(a){e.$set(t,"parameterValue",a)},expression:"info.parameterValue"}},e._l(t.parameterValueArr,function(e,t){return a("el-option",{key:e+"@"+t,attrs:{label:e,value:e}})})),e._v(" "),a("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:2==t.parameterValueType,expression:"info.parameterValueType==2"}],attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss"},on:{change:function(a){e.checkSql(t)}},model:{value:t.parameterValue,callback:function(a){e.$set(t,"parameterValue",a)},expression:"info.parameterValue"}}),e._v(" "),a("el-input",{directives:[{name:"show",rawName:"v-show",value:3==t.parameterValueType,expression:"info.parameterValueType==3"}],on:{blur:function(a){e.checkSql(t)}},model:{value:t.parameterValue,callback:function(a){e.$set(t,"parameterValue",a)},expression:"info.parameterValue"}}),e._v(" "),a("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:5==t.parameterValueType,expression:"info.parameterValueType==5"}],attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},on:{change:function(a){e.checkSql(t)}},model:{value:t.parameterValue,callback:function(a){e.$set(t,"parameterValue",a)},expression:"info.parameterValue"}})],1)],1)],1)],1)]:[a("div",{directives:[{name:"show",rawName:"v-show",value:"至"==t.start.symbol,expression:"info.start.symbol=='至'"}]},[a("el-form-item",{key:s,class:{required:t.start.required||t.end.required},attrs:{label:s+" :"}},[a("el-col",{attrs:{span:10}},[a("el-select",{directives:[{name:"show",rawName:"v-show",value:1==t.start.parameterValueType||4==t.start.parameterValueType,expression:"info.start.parameterValueType==1 || info.start.parameterValueType==4"}],attrs:{"allow-create":"",placeholder:"请选择参数值"},on:{change:function(a){e.checkSql(t.start)}},model:{value:t.start.parameterValue,callback:function(a){e.$set(t.start,"parameterValue",a)},expression:"info.start.parameterValue"}},e._l(t.start.parameterValueArr,function(e,t){return a("el-option",{key:t+"@1_"+e,attrs:{label:e,value:e}})})),e._v(" "),a("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:2==t.start.parameterValueType,expression:"info.start.parameterValueType==2"}],attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss"},on:{change:function(a){e.checkSql(t.start)}},model:{value:t.start.parameterValue,callback:function(a){e.$set(t.start,"parameterValue",a)},expression:"info.start.parameterValue"}}),e._v(" "),a("el-input",{directives:[{name:"show",rawName:"v-show",value:3==t.start.parameterValueType,expression:"info.start.parameterValueType==3"}],on:{blur:function(a){e.checkSql(t.start)}},model:{value:t.start.parameterValue,callback:function(a){e.$set(t.start,"parameterValue",a)},expression:"info.start.parameterValue"}}),e._v(" "),a("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:5==t.start.parameterValueType,expression:"info.start.parameterValueType==5"}],attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},on:{change:function(a){e.checkSql(t.start)}},model:{value:t.start.parameterValue,callback:function(a){e.$set(t.start,"parameterValue",a)},expression:"info.start.parameterValue"}})],1),e._v(" "),a("el-col",{staticClass:"text-center",attrs:{span:4}},[e._v("至")]),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-select",{directives:[{name:"show",rawName:"v-show",value:1==t.off.parameterValueType||4==t.off.parameterValueType,expression:"info.off.parameterValueType==1 || info.off.parameterValueType==4"}],attrs:{placeholder:"请输入参数值"},on:{change:function(a){e.checkSql(t.off)}},model:{value:t.off.parameterValue,callback:function(a){e.$set(t.off,"parameterValue",a)},expression:"info.off.parameterValue"}},e._l(t.off.parameterValueArr,function(e,t){return a("el-option",{key:t+"@2_"+e,attrs:{label:e,value:e}})})),e._v(" "),a("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:2==t.off.parameterValueType,expression:"info.off.parameterValueType==2"}],attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss"},on:{change:function(a){e.checkSql(t.off)}},model:{value:t.off.parameterValue,callback:function(a){e.$set(t.off,"parameterValue",a)},expression:"info.off.parameterValue"}}),e._v(" "),a("el-input",{directives:[{name:"show",rawName:"v-show",value:3==t.off.parameterValueType||""==t.off.parameterValueType,expression:"info.off.parameterValueType==3 || info.off.parameterValueType=='' "}],on:{blur:function(a){e.checkSql(t.off)}},model:{value:t.off.parameterValue,callback:function(a){e.$set(t.off,"parameterValue",a)},expression:"info.off.parameterValue"}}),e._v(" "),a("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:5==t.off.parameterValueType,expression:"info.off.parameterValueType==5"}],attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},on:{change:function(a){e.checkSql(t.off)}},model:{value:t.off.parameterValue,callback:function(a){e.$set(t.off,"parameterValue",a)},expression:"info.off.parameterValue"}})],1)],1)],1),e._v(" "),"至"!=t.start.symbol?a("div",[a("el-form-item",{class:{required:t.start.required||t.end.required},attrs:{label:s+" : "}},[a("el-col",{attrs:{span:9}},[a("el-select",{directives:[{name:"show",rawName:"v-show",value:1==t.start.parameterValueType||4==t.start.parameterValueType,expression:"info.start.parameterValueType==1 ||  info.start.parameterValueType==4"}],attrs:{placeholder:t.start.parameter},on:{blur:function(a){e.checkSql(t.start)}},model:{value:t.start.parameterValue,callback:function(a){e.$set(t.start,"parameterValue",a)},expression:"info.start.parameterValue"}},e._l(t.start.parameterValueArr,function(e,t){return a("el-option",{key:t+"@start_"+e,attrs:{label:e,value:e}})})),e._v(" "),a("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:2==t.start.parameterValueType,expression:"info.start.parameterValueType==2"}],attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss"},on:{change:function(a){e.checkSql(t.start)}},model:{value:t.start.parameterValue,callback:function(a){e.$set(t.start,"parameterValue",a)},expression:"info.start.parameterValue"}}),e._v(" "),a("el-input",{directives:[{name:"show",rawName:"v-show",value:3==t.start.parameterValueType||""==t.start.parameterValueType,expression:"info.start.parameterValueType==3 || info.start.parameterValueType=='' "}],attrs:{placeholder:t.start.parameter},on:{blur:function(a){e.checkSql(t.start)}},model:{value:t.start.parameterValue,callback:function(a){e.$set(t.start,"parameterValue",a)},expression:"info.start.parameterValue"}}),e._v(" "),a("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:5==t.start.parameterValueType,expression:"info.start.parameterValueType==5"}],attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},on:{change:function(a){e.checkSql(t.start)}},model:{value:t.start.parameterValue,callback:function(a){e.$set(t.start,"parameterValue",a)},expression:"info.start.parameterValue"}})],1),e._v(" "),a("el-col",{staticClass:"text-center",attrs:{span:2}},[e._v(e._s(t.start.symbol.indexOf("=")>=0?"=<":"<")+" ")]),e._v(" "),a("el-col",{staticClass:"text-center",attrs:{span:2}},[e._v(" "+e._s(s)+" ")]),e._v(" "),a("el-col",{staticClass:"text-center",attrs:{span:2}},[e._v(" "+e._s(t.off.symbol.indexOf("=")>=0?"=<":"<")+" ")]),e._v(" "),a("el-col",{attrs:{span:9}},[a("el-select",{directives:[{name:"show",rawName:"v-show",value:1==t.off.parameterValueType||4==t.off.parameterValueType,expression:"info.off.parameterValueType==1 || info.off.parameterValueType==4"}],attrs:{placeholder:t.off.parameter},on:{change:function(a){e.checkSql(t.off)}},model:{value:t.off.parameterValue,callback:function(a){e.$set(t.off,"parameterValue",a)},expression:"info.off.parameterValue"}},e._l(t.off.parameterValueArr,function(e,t){return a("el-option",{key:t+"@3_"+e,attrs:{label:e,value:e}})})),e._v(" "),a("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:2==t.off.parameterValueType,expression:"info.off.parameterValueType==2"}],attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss"},on:{change:function(a){e.checkSql(t.off)}},model:{value:t.off.parameterValue,callback:function(a){e.$set(t.off,"parameterValue",a)},expression:"info.off.parameterValue"}}),e._v(" "),a("el-input",{directives:[{name:"show",rawName:"v-show",value:3==t.off.parameterValueType||""==t.off.parameterValueType,expression:"info.off.parameterValueType==3 || info.off.parameterValueType=='' "}],attrs:{placeholder:t.off.parameter},on:{blur:function(a){e.checkSql(t.off)}},model:{value:t.off.parameterValue,callback:function(a){e.$set(t.off,"parameterValue",a)},expression:"info.off.parameterValue"}}),e._v(" "),a("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:5==t.off.parameterValueType,expression:"info.off.parameterValueType==5"}],attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},on:{change:function(a){e.checkSql(t.off)}},model:{value:t.off.parameterValue,callback:function(a){e.$set(t.off,"parameterValue",a)},expression:"info.off.parameterValue"}})],1)],1)],1):e._e()]}),e._v(" "),a("el-form-item",{attrs:{label:"小数位数= :"}},[a("el-form",{staticClass:"small-space Form setting-form FormError",attrs:{size:"mini","label-position":"left"}},[a("el-form-item",[a("el-col",{attrs:{span:24}},[a("el-select",{model:{value:e.digit,callback:function(t){e.digit=t},expression:"digit"}},e._l([4,5,6,7,8],function(e){return a("el-option",{key:"digit"+e,attrs:{label:e,value:e}})}))],1)],1)],1)],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}]},[a("el-col",{staticClass:"btnBlock"},[a("el-button",{attrs:{size:"large",type:"primary"},on:{click:e.submit}},[e._v("分析")])],1)],1)],2)],1)},staticRenderFns:[]},aa=a("/Xao")(ea,ta,!1,null,null,null).exports,sa={props:["dataX","ucl","lcl","badData","errorDatas","type","HX","WX","show"],data:function(){var e=this;return{myChart:"",option:{tooltip:{trigger:"axis",padding:[5,10],formatter:function(t){var a=t[0].dataIndex,s=e.ucl[a],r=e.lcl[a],i=e.badData[a],o=e.dataX[a],n=e.errorDatas[t[0].axisValue];if(n){if("np"==e.type||"c"==e.type)return"groupNumber : "+o+"<br/>"+t[0].marker+"ucl : "+s+"<br/>"+t[2].marker+"badNum :"+i+"<br/>"+t[1].marker+"lcl :"+r+"<br/><span style='display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:#f00);'></span>error: "+n.join(";");if("p"==e.type||"u"==e.type)return"groupNumber : "+o+"<br/>"+t[0].marker+"ucl : "+s+"<br/>"+t[2].marker+"badRate :"+i+"<br/>"+t[1].marker+"lcl :"+r+"<br/><span style='display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:#f00);'></span>error: "+n.join(";")}else{if("np"==e.type||"c"==e.type)return"groupNumber : "+o+"<br/>"+t[0].marker+"ucl : "+s+"<br/>"+t[2].marker+"badNum :"+i+"<br/>"+t[1].marker+"lcl :"+r+"<br/>";if("p"==e.type||"u"==e.type)return"groupNumber : "+o+"<br/>"+t[0].marker+"ucl : "+s+"<br/>"+t[2].marker+"badRate :"+i+"<br/>"+t[1].marker+"lcl :"+r+"<br/>"}}},grid:{top:10,left:50,bottom:80,right:30},xAxis:{type:"category",data:e.dataX,min:"dataMin",axisLabel:{height:50}},yAxis:{type:"value",axisLine:{show:!0,lineStyle:{color:"rgb(102,102,102)"}}},series:[{name:"ucl",type:"line",step:"middle",data:e.ucl,lineStyle:{normal:{color:"rgb(97,160,168)"}},itemStyle:{normal:{color:"rgb(97,160,168)"}},markPoint:{data:[{name:"ucl",type:"max",valueIndex:0,symbolSize:5,label:{normal:{offset:[-20,30],fontSize:16,show:!0,position:"top",formatter:function(e){return"ucl"}}}}]}},{name:"lcl",type:"line",step:"middle",data:e.lcl,lineStyle:{normal:{color:"#E87C25"}},itemStyle:{normal:{color:"#E87C25"}},markPoint:{data:[{name:"lcl",type:"max",valueIndex:0,symbolSize:5,label:{normal:{offset:[-20,-10],fontSize:16,show:!0,position:"top",formatter:function(e){return"lcl"}}}}]}},{name:"badData",type:"line",data:e.badData,smooth:!1,showAllSymbol:!0,symbolSize:[5,5],lineStyle:{normal:{color:"rgb(25,212,174)"}},itemStyle:{normal:{borderWidth:1,color:function(t){var a=e.dataX[t.dataIndex];return e.errorDatas[a]?"#f00":"rgb(25,212,174)"}}}}],dataZoom:[{type:"slider",startValue:0,endValue:50,show:e.show}]}}},methods:{drawLine:function(){var e=this;e.myChart=e.$echarts.init(e.$refs.step),e.myChart.on("click",function(t){e.$emit("clickNode",t)}),e.myChart.setOption(e.option)}},computed:{height:function(){return this.HX-80+"px"},width:function(){return this.WX}},watch:{HX:function(){this.myChart.resize()},WX:function(){this.myChart.resize()}},mounted:function(){this.drawLine(),this.myChart.resize()},beforeDestroy:function(){this.myChart.clear()}},ra={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{ref:"step",style:{height:this.height,width:this.width}})])},staticRenderFns:[]},ia=a("/Xao")(sa,ra,!1,null,null,null).exports,oa={props:["paretoData","HZ","WZ"],data:function(){return{myChart:""}},methods:{drawLine:function(){var e=this;e.myChart=e.$echarts.init(e.$refs.plato),e.myChart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10],formatter:function(t){var a=t[0].dataIndex;return e.paretoData.badName[a]+"<br/>"+t[0].marker+"badNum : "+e.paretoData.badNum[a]+"<br/>"+t[1].marker+"count :  "+e.paretoData.count[a]+"<br/>"+t[0].marker+"rate :  "+100*e.paretoData.rate[a]+"%"}},grid:{top:10,left:50,right:60,bottom:50},xAxis:[{type:"category",data:e.paretoData.badName}],yAxis:[{type:"value",max:e.paretoData.count.slice(-1)[0],axisLabel:{formatter:"{value}"},axisLine:{show:!0,lineStyle:{color:"rgb(102,102,102)"}}},{type:"value",min:0,max:100,axisLabel:{formatter:"{value} %"},axisLine:{show:!0,lineStyle:{color:"rgb(102,102,102)"}}}],series:[{name:"badNum",type:"bar",barCategoryGap:0,label:{show:!0,position:"top"},data:e.paretoData.badNum,itemStyle:{normal:{color:function(e){return["#C33531","#EFE42A","#64BD3D","#EE9201","#29AAE3","#B74AE5","#0AAF9F","#E89589","#16A085","#4A235A","#C39BD3 ","#F9E79F","#BA4A00","#ECF0F1","#616A6B","#EAF2F8","#4A235A","#3498DB"][e.dataIndex]}}}},{name:"count",type:"line",barCategoryGap:0,data:e.paretoData.count,symbolSize:[5,5],itemStyle:{normal:{borderWidth:1}}}]})}},computed:{height:function(){return this.HZ-50+"px"},width:function(){return this.WZ}},watch:{HZ:function(){this.myChart.resize()},WZ:function(){this.myChart.resize()}},mounted:function(){this.drawLine()},beforeDestroy:function(){this.myChart.clear()}},na={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{ref:"plato",style:{height:this.height,width:this.width}})])},staticRenderFns:[]},la=a("/Xao")(oa,na,!1,null,null,null).exports,ca={render:function(){var e=this.$createElement;return(this._self._c||e)("ve-line",{ref:"LINE",attrs:{data:this.chartData,height:this.height,"legend-visible":!1,grid:this.grid,yAxis:this.yAxis,"data-zoom":this.dataZoom,extend:this.extend}})},staticRenderFns:[]},ua=a("/Xao")({props:["chartData","HR","WR","show"],data:function(){var e=this;return this.dataZoom=[{type:"slider",startValue:0,endValue:50,show:e.show}],this.markLine={data:[{name:"ucl",yAxis:this.chartData.rows[0].ucl,lineStyle:{normal:{color:"#00f"}},label:{normal:{show:!0,position:"end",formatter:"ucl"}}},{name:"lcl",yAxis:this.chartData.rows[0].lcl,lineStyle:{normal:{color:"#00f"}},label:{normal:{show:!0,position:"end",formatter:"lcl"}}},{name:"cl",yAxis:this.chartData.rows[0].cl,lineStyle:{normal:{color:"rgb(254, 201, 0)"}},label:{normal:{show:!0,position:"end",formatter:"cl"}}}]},this.visualMap=[{right:0,top:30,pieces:[{gt:this.chartData.rows[0].lcl,lte:this.chartData.rows[0].cl,color:"#096"},{gt:this.chartData.rows[0].cl,lte:this.chartData.rows[0].ucl,color:"#ffde33"}]}],this.extend={series:{type:"line",smooth:!1,showAllSymbol:!0,symbolSize:[5,5],lineStyle:{normal:{color:"rgb(25,212,174)"}},itemStyle:{normal:{borderWidth:1,color:function(e){return"rgb(25,212,174)"}}}},tooltip:{formatter:function(t){var a=e.chartData.rows[t[0].dataIndex];return"groupNum : "+a.groupNum+"<br/>"+t[0].marker+"cumulativeRate : "+a.cumulativeRate}},xAxis:{axisLabel:{interval:"auto"},axisLine:{show:!0,lineStyle:{}},axisTick:{show:!0,lineStyle:{color:"rgb(102,102,102)"}}}},{yAxis:{axisLine:{show:!0,lineStyle:{color:"rgb(102,102,102)"}}},grid:{top:10,right:30}}},methods:{},computed:{height:function(){return this.HR-80+"px"},width:function(){return this.WR}},mounted:function(){this.$refs.LINE.echarts.resize()},beforeDestroy:function(){this.$refs.LINE.echarts.clear()}},ca,!1,null,null,null).exports,da={render:function(){var e=this.$createElement,t=this._self._c||e;return t("ve-line",{attrs:{data:this.chartData,settings:this.chartSettings,"legend-visible":!1,"tooltip-visible":!1,yAxis:this.yAxis,xAxis:this.xAxis,extend:this.extend,height:this.height}},[t("div",{staticClass:"data-empty"},[this._v("没有数据")])])},staticRenderFns:[]};var pa=a("/Xao")({data:function(){return this.extend={series:{itemStyle:{normal:{opacity:0}},lineStyle:{normal:{opacity:0}}}},this.chartSettings={},{chartData:{columns:["日期","下单率"],rows:[]},height:"100px",width:"100%",yAxis:{axisLine:{show:!1,lineStyle:{color:"#ccc"}},axisLabel:{show:!1}},xAxis:{axisLine:{show:!1,lineStyle:{color:"#ccc"}},axisLabel:{show:!1}},grid:{right:"20px",top:"10"}}}},da,!1,function(e){a("EbDZ")},null,null).exports,ma={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"stats_top",staticStyle:{"border-bottom":"1px solid #999","border-right":"1px solid #999"}},[a("el-row",[a("el-col",{attrs:{span:4}},[a("ul",{staticClass:"spc-li-bg"},[a("li",[e._v("制品名称")]),e._v(" "),a("li",[e._v("管制项目")]),e._v(" "),a("li",[e._v("测量单位")])])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("ul",[a("li",[a("el-input",{attrs:{placeholder:"请填写管制名称"}})],1),e._v(" "),a("li",[a("el-input")],1),e._v(" "),a("li",[a("el-input")],1)])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("ul",{staticClass:"spc-li-bg"},[a("li",[e._v("制造部门")]),e._v(" "),a("li",[e._v("级别")]),e._v(" "),a("li",[e._v("测定者")])])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("ul",[a("li",[a("el-input")],1),e._v(" "),a("li",[a("el-input")],1),e._v(" "),a("li",[a("el-input")],1)])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("ul",{staticClass:"spc-li-bg"},[a("li",[e._v("期")]),e._v(" "),a("li",[e._v("抽样方法")]),e._v(" "),a("li",[e._v("日期")])])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("ul",[a("li",[a("el-input")],1),e._v(" "),a("li",[a("el-input")],1),e._v(" "),a("li",[a("el-input")],1)])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("ul",{staticClass:"spc-li-bg"},[a("li",[e._v("辅助及原因追查")])])]),e._v(" "),a("el-col",{attrs:{span:16}},[a("ul",[a("li",[a("el-input")],1)])])],1)],1)])},staticRenderFns:[]},ha=a("/Xao")({data:function(){return{Form:{aa:""}}}},ma,!1,null,null,null).exports,fa={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Dialog"},[a("el-dialog",{attrs:{title:"辅助及原因追查",visible:e.dialogVisible,width:"700px","before-close":e.close},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"attach",staticClass:" Form setting-form FormError",attrs:{size:"small","label-position":"right","label-width":"80px"}},[a("el-form-item",{attrs:{label:"制造部门 :"}},[a("el-input",{model:{value:e.Form.aa,callback:function(t){e.$set(e.Form,"aa",t)},expression:"Form.aa"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"制造部门 :"}},[a("el-input",{model:{value:e.Form.aa,callback:function(t){e.$set(e.Form,"aa",t)},expression:"Form.aa"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer text-center",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:e.cancel}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.submit}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]},ga=a("/Xao")({props:["visible"],data:function(){return{Form:{aa:""}}},methods:{close:function(){this.$emit("close")},cancel:function(){this.$refs.attach.resetFields(),this.close()},submit:function(){this.close()}},computed:{dialogVisible:function(){return this.visible}},beforeDestroy:function(){this.$off()}},fa,!1,null,null,null).exports,va={props:["pdfInfo"],data:function(){return{J:[{key:"辅助及原因追查",value:""}]}},methods:{close:function(){this.$emit("close")},cancel:function(){this.close()},submit:function(){this.close()},showPdf:function(){this.$emit("show-pdf",this.Form)},addList:function(e){0==e?this.J.push({key:"",value:""}):this.J.splice(e,1)}},computed:{Form:function(){return{a:0==i()(this.pdfInfo).length?"":this.pdfInfo.a,b:0==i()(this.pdfInfo).length?"":this.pdfInfo.b,c:0==i()(this.pdfInfo).length?"":this.pdfInfo.c,d:0==i()(this.pdfInfo).length?"":this.pdfInfo.d,e:0==i()(this.pdfInfo).length?"":this.pdfInfo.e,f:0==i()(this.pdfInfo).length?"":this.pdfInfo.f,g:0==i()(this.pdfInfo).length?"":this.pdfInfo.g,h:0==i()(this.pdfInfo).length?"":this.pdfInfo.h,i:0==i()(this.pdfInfo).length?"":this.pdfInfo.i,J:0==i()(this.pdfInfo).length?this.J:this.pdfInfo.J}}},beforeDestroy:function(){this.$off()}},ba={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"stats_top",staticStyle:{"border-bottom":"1px solid #999","border-right":"1px solid #999"}},[a("el-row",[a("el-col",{attrs:{span:4}},[a("ul",{staticClass:"spc-li-bg"},[a("li",[e._v("制品名称")]),e._v(" "),a("li",[e._v("管制项目")]),e._v(" "),a("li",[e._v("测量单位")])])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("ul",[a("li",[a("el-input",{model:{value:e.Form.a,callback:function(t){e.$set(e.Form,"a",t)},expression:"Form['a']"}})],1),e._v(" "),a("li",[a("el-input",{model:{value:e.Form.b,callback:function(t){e.$set(e.Form,"b",t)},expression:"Form['b']"}})],1),e._v(" "),a("li",[a("el-input",{model:{value:e.Form.c,callback:function(t){e.$set(e.Form,"c",t)},expression:"Form['c']"}})],1)])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("ul",{staticClass:"spc-li-bg"},[a("li",[e._v("制造部门")]),e._v(" "),a("li",[e._v("级别")]),e._v(" "),a("li",[e._v("测定者")])])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("ul",[a("li",[a("el-input",{model:{value:e.Form.d,callback:function(t){e.$set(e.Form,"d",t)},expression:"Form.d"}})],1),e._v(" "),a("li",[a("el-input",{model:{value:e.Form.e,callback:function(t){e.$set(e.Form,"e",t)},expression:"Form.e"}})],1),e._v(" "),a("li",[a("el-input",{model:{value:e.Form.f,callback:function(t){e.$set(e.Form,"f",t)},expression:"Form.f"}})],1)])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("ul",{staticClass:"spc-li-bg"},[a("li",[e._v("期")]),e._v(" "),a("li",[e._v("抽样方法")]),e._v(" "),a("li",[e._v("日期")])])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("ul",[a("li",[a("el-input",{model:{value:e.Form.g,callback:function(t){e.$set(e.Form,"g",t)},expression:"Form.g"}})],1),e._v(" "),a("li",[a("el-input",{model:{value:e.Form.h,callback:function(t){e.$set(e.Form,"h",t)},expression:"Form.h"}})],1),e._v(" "),a("li",[a("el-input",{model:{value:e.Form.i,callback:function(t){e.$set(e.Form,"i",t)},expression:"Form.i"}})],1)])])],1),e._v(" "),e._l(e.Form.J,function(t,s){return a("el-row",{key:"ii"+s},[a("el-col",{attrs:{span:4}},[a("ul",{directives:[{name:"show",rawName:"v-show",value:0==s,expression:"index==0"}],staticClass:"spc-li-bg"},[a("li",[e._v(" "+e._s(t.key))])]),e._v(" "),a("ul",{directives:[{name:"show",rawName:"v-show",value:s>0,expression:"index>0"}]},[a("li",[a("el-input",{model:{value:t.key,callback:function(a){e.$set(t,"key",a)},expression:"j.key"}})],1)])]),e._v(" "),a("el-col",{staticStyle:{position:"relative"},attrs:{span:0==Object.keys(e.pdfInfo).length?18:20}},[a("ul",[a("li",[a("el-input",{model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"j.value"}})],1)])]),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:0==Object.keys(e.pdfInfo).length,expression:"Object.keys(pdfInfo).length==0"}],attrs:{span:2}},[a("ul",[a("li",{staticClass:"pdfInfo"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:0==s,expression:"index==0"}],attrs:{size:"mini",type:"primary"},on:{click:function(t){e.addList(s)}}},[a("i",{staticClass:"el-icon-plus"})]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:s>0,expression:"index>0"}],attrs:{size:"mini",type:"info",plain:""},on:{click:function(t){e.addList(s)}}},[a("i",{staticClass:"el-icon-delete"})])],1)])])],1)})],2),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==Object.keys(this.pdfInfo).length,expression:"Object.keys(this.pdfInfo).length==0"}],staticClass:"dialog-footer text-center m-t"},[a("el-button",{attrs:{size:"mini"},on:{click:e.cancel}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.showPdf}},[e._v("PDF预览")])],1)])},staticRenderFns:[]};var ya=a("/Xao")(va,ba,!1,function(e){a("vxjX")},null,null).exports,_a=a("uomD"),xa=a.n(_a),wa=(a("gSe/"),a("GClJ")),ka=a.n(wa),Ta={data:function(){return{fonts:{msyh:{normal:"msyh.ttf",bold:"msyh.ttf",italics:"msyh.ttf",bolditalics:"msyh.ttf"}}}},methods:{convertCanvasToImage:function(e,t,a){for(var s=this,r=this,i=[],o=0;o<e.length;o++)ka()(document.getElementById(e[o]),{allowTaint:!0,taintTest:!0,useCORS:!0,background:"#fff"}).then(function(e){var t=e.toDataURL();i.push(t),n()}).catch(function(e){s.$message.error("出现未知错误,请重新打印")});function n(){i.length==e.length&&r.PDF(i,t,a)}},PDF:function(e,t,a){var s=[];e.forEach(function(e){s.push({width:520,image:"data:img/png;base64,"+e,margin:[0,20,0,0]})}),this.CONTENT={pageSize:"A4",header:function(e,t,s){return[{text:a,alignment:"center"}]},footer:function(e,t){return{text:e.toString()+" / "+t,alignment:"center",color:"#ccc"}},content:s,defaultStyle:{font:"msyh"}},xa.a.fonts=this.fonts,"d"==t&&xa.a.createPdf(this.CONTENT).download(a+"_"+Rt(new Date)),"p"==t&&xa.a.createPdf(this.CONTENT).print()}},mounted:function(){}},Sa={mixins:[Ta],props:["showPdf","name","panel"],data:function(){return{}},methods:{close:function(){this.$emit("close")},cancel:function(){this.close()},submit:function(){this.close()},download:function(){this.convertCanvasToImage(this.selectPanel,"d",this.name)},print:function(){this.convertCanvasToImage(this.selectPanel,"p",this.name)}},computed:{dialogVisible:function(){return this.showPdf},selectPanel:function(){var e=[100];for(var t in this.panel)this.panel[t]&&e.push(t);return e}},beforeDestroy:function(){this.$off()}},La={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Dialog"},[a("el-dialog",{attrs:{title:e.name,visible:e.dialogVisible,width:"700px","before-close":e.close},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{attrs:{id:"PDF"}},[a("div",{staticClass:"m-t",attrs:{id:"100"}},[e._t("100")],2),e._v(" "),e._l(30,function(t){return a("div",{key:t,staticClass:"m-t",attrs:{id:t}},[e._t(t)],2)})],2),e._v(" "),a("div",{staticClass:"dialog-footer text-center "},[a("el-button",{attrs:{size:"mini"},on:{click:e.cancel}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.download}},[e._v("下载")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.print}},[e._v("打印")])],1)])],1)},staticRenderFns:[]},Na=a("/Xao")(Sa,La,!1,null,null,null).exports,Ca=a("lC5x"),Da=a.n(Ca),Ia=a("J0Oq"),Aa=a.n(Ia),Fa={data:function(){return{showPopover:!1,pdftemShow:!1,testGroup:[1,2,3,4],editGroupNum:!0,loading:!1,control_graph:"1",effectiveDigits:"3",spc_id:"",type:"",configData:{},groupDatas:[],XcharData:{columns:["groupNum","avg","improper"],rows:[]},RcharData:{columns:["groupNum","range","improper"],rows:[]},countDatas:[],distData:[],min:"",max:"",minZF:"",maxZF:"",zfMax:0,sigmay:"",usly:"",lsly:"",usl:[],lsl:[],sigma:[],sigma1:[],sigma2:[],sigma3:[],sigma_1:[],sigma_2:[],sigma_3:[],avg:"",avg_sigma:"",variableStats:{},fields_info:[],sql_info:[],fullLoading:null,LOADING:{lock:!0,text:"需要几秒钟,加载中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.6)"},minR:"",maxR:"",timeout:null,showTable:!1,imgBase64:{},errorDatax:[],errorDatar:[],moreInfo:[],params:[],expendRow:[],getRowKeys:function(e){return e.groupNum},expands:[],errorDataExcel:{},errorDataExcel1:{},fieldsOptionsList:{},sqlIndex:-1,sqlUpdateLoad:!1,scrollDom:"",rules:[],controlInfo:[],layout:[],TYPE:"",xrStats:"",dataX:[],ucl:[],lcl:[],errorDatas:{},badData:[],cumulativeRateData:{columns:["groupNum","cumulativeRate"],rows:[],improper:[]},paretoData:{badName:[],badNum:[],count:[],rate:[]},selectedXrules:[],selectedRrules:[]}},methods:{jlRes:function(e){var t=this;e.fieldsInfo&&(this.params=e.fieldsInfo),this.variableStats=e.variableStats,this.groupDatas=[],this.XcharData.rows=[],this.RcharData.rows=[];var a=e.groupValueList.slice().sort(Object(Me.firstBy)(function(e){return e.firstParameter})),s=this.configData.usl,r=this.variableStats.ucl_first,i=a.slice(-1)[0].firstParameter,o=this.configData.lsl,n=this.variableStats.lcl_first,l=a[0].firstParameter,c=Math.max(s,r,i),u=Math.min(o,n,l);this.max=c+(c-u)/4,this.min=u-(c-u)/4;var d=e.groupValueList.slice().sort(Object(Me.firstBy)(function(e){return e.secondParameter})),p=this.variableStats.ucl_second,m=d.slice(-1)[0].secondParameter,h=Math.max(p,m);if(this.minR=0,this.maxR=1.2*h,void 0==this.min||void 0==this.max){var f=this.configData.lsl,g=this.configData.vusl;f||(f=this.variableStats.lcl_first),g||(g=this.variableStats.ucl_first),this.min=(f-(g-f)/4).toFixed(2),this.max=(g+(g-f)/4).toFixed(2)}e.groupValueList.forEach(function(e){t.groupDatas.push(e);var a={groupNum:"",avg:"",usl:t.configData.usl,lsl:t.configData.lsl,ucl:t.variableStats.ucl_first,lcl:t.variableStats.lcl_first,cl:t.variableStats.averageFirst,improper:[]};a.groupNum=e.groupNum,a.avg=e.firstParameter,t.XcharData.rows.push(a);var s={groupNum:"",range:"",usl:t.configData.usl,lsl:t.configData.lsl,ucl:t.variableStats.ucl_second,lcl:t.variableStats.lcl_second,cl:t.variableStats.averageSecond,improper:[]};s.groupNum=e.groupNum,s.range=e.secondParameter,t.RcharData.rows.push(s)}),this.countDatas=[],this.minZF=e.processCapabilityData.allRateCount.min,this.maxZF=e.processCapabilityData.allRateCount.max;var v=0;e.processCapabilityData.allRateCount.rateCountList.forEach(function(e,a){if(Number(e.count)>Number(v)&&(v=e.count),-1==e.from_border||1==e.to_border);else{var s=[];s.push(e.from_border),s.push(e.to_border),s.push(e.count),t.countDatas.push(s)}}),this.zfMax=v,this.distData=[],e.processCapabilityData.normalDataList.forEach(function(e){var a=[];a.push(e.x),a.push(e.y),t.distData.push(a)});var b,y=e.processCapabilityData.normalDataList[Math.ceil(e.processCapabilityData.normalDataList.length/2)].y,_=e.processCapabilityData.normalDataList[Math.floor(e.processCapabilityData.normalDataList.length/2)].y;b=Math.max(y,_).toFixed(2);var x=this.variableStats.averageFirst,w=this.configData.usl,k=this.configData.lsl,T=Math.max(this.zfMax,b)+5;x=x.toString().split(".")[0]+"."+x.toString().split(".")[1].slice(0,2),this.sigmay=T,this.sigma=[[x,0],[x,T],[x,0]],this.usl=[[w,0],[w,T],[w,0]],this.lsl=[[k,0],[k,T],[k,0]];var S=.5*T,L=.7*T,N=x-this.variableStats.sigma,C=Number(x)+Number(this.variableStats.sigma),D=x-2*this.variableStats.sigma,I=Number(x)+2*Number(this.variableStats.sigma),A=x-3*this.variableStats.sigma,F=Number(x)+3*Number(this.variableStats.sigma);this.sigma1=[[C,0],[C,S],[C,0]],this.sigma_1=[[N,0],[N,S],[N,0]],this.sigma2=[[I,0],[I,S],[I,0]],this.sigma_2=[[D,0],[D,S],[D,0]],this.sigma3=[[F,0],[F,L],[F,0]],this.sigma_3=[[A,0],[A,L],[A,0]];var M=[],R=[];e.exceptionResultList.filter(function(e){return e.groupNumList.length>0}).forEach(function(e){e.groupNumList.forEach(function(a){if(e.ruleNumber>0)if(-1==t.selectedXrules.indexOf(e.ruleNumber)&&t.selectedXrules.push(e.ruleNumber),t.errorDataExcel[a]?t.errorDataExcel[a].push(e.ruleNumber):(t.errorDataExcel[a]=[],t.errorDataExcel[a].push(e.ruleNumber)),0==M.length){var s={improper:[t.rules[Number(e.ruleNumber)-1].content],groupNum:a,ruleNumber:[e.ruleNumber]};M.push(s)}else{var r=!1;if(M.forEach(function(s){s.groupNum==a&&(s.improper.push(t.rules[Number(e.ruleNumber)-1].content),s.ruleNumber.push(Number(e.ruleNumber)),r=!0)}),!r){var i={improper:[t.rules[Number(e.ruleNumber)-1].content],groupNum:a,ruleNumber:[e.ruleNumber]};M.push(i)}}if(e.ruleNumber<0)if(-1==t.selectedRrules.indexOf(Math.abs(e.ruleNumber))&&t.selectedRrules.push(Math.abs(e.ruleNumber)),t.errorDataExcel1[a]?t.errorDataExcel1[a].push(e.ruleNumber):(t.errorDataExcel1[a]=[],t.errorDataExcel1[a].push(e.ruleNumber)),0==R.length){var o={improper:[t.rules[Number(Math.abs(e.ruleNumber))-1].content],groupNum:a,ruleNumber:[Math.abs(e.ruleNumber)]};R.push(o)}else{var n=!1;if(R.forEach(function(s){s.groupNum==a&&(s.improper.push(t.rules[Number(Math.abs(e.ruleNumber))-1].content),s.ruleNumber.push(Math.abs(e.ruleNumber)),n=!0)}),!n){var l={improper:[t.rules[Number(Math.abs(e.ruleNumber))-1].content],ruleNumber:[Math.abs(e.ruleNumber)],groupNum:a};R.push(l)}}})}),this.errorDatax=M,this.errorDatar=R,this.RcharData.rows.forEach(function(e){for(var t=0;t<R.length;t++)if(R[t].groupNum==e.groupNum){e.improper=R[t].improper,e.ruleNumber=R[t].ruleNumber;break}}),this.XcharData.rows.forEach(function(e){for(var t=0;t<M.length;t++)M[t].groupNum==e.groupNum&&(e.improper=M[t].improper,e.ruleNumber=M[t].ruleNumber)})},jsRes:function(e){var t=this;e.fieldsInfo&&(this.params=e.fieldsInfo),this.xrStats=e.attributeStats,this.groupDatas=e.attributeGroupDataList,e.attributeGroupDataList.forEach(function(e){t.dataX.push(e.groupNum),t.ucl.push(e.ucl),t.lcl.push(e.lcl),"np"!=t.TYPE&&"c"!=t.TYPE||t.badData.push(e.badNum),"p"!=t.TYPE&&"u"!=t.TYPE||t.badData.push(e.badRate)}),this.cumulativeRateData.rows=e.cumulativeRateDataList,this.cumulativeRateData.rows[0]&&0!=this.cumulativeRateData.rows[0].groupNum&&this.cumulativeRateData.rows.unshift({groupNum:0,cumulativeRate:0});var a={};e.exceptionResultList.filter(function(e){return e.groupNumList.length>0}).forEach(function(e){e.groupNumList.forEach(function(s){t.errorDataExcel[s]?t.errorDataExcel[s].push(e.ruleNumber):(t.errorDataExcel[s]=[],t.errorDataExcel[s].push(e.ruleNumber)),a[s]?a[s].push(t.rules[Number(e.ruleNumber)-1].content):(a[s]=[],a[s].push(t.rules[Number(e.ruleNumber)-1].content))})}),this.errorDatas=a,e.paretoDataList.sort(function(e,t){var a=e.badNum,s=t.badNum;return a<s?1:a>s?-1:0}).forEach(function(e,a,s){t.paretoData.badName.push(e.badName),t.paretoData.badNum.push(e.badNum),0==a?t.paretoData.count.push(e.badNum):a>0&&t.paretoData.count.push(Number(e.badNum)+Number(t.paretoData.count[a-1]))});var s=this.paretoData.count.slice(-1)[0];this.paretoData.count.forEach(function(e){t.paretoData.rate.push(Number((e/s).toString().slice(0,4)))})}}},Ma={mixins:[{mixins:[Fa],methods:{getRuleList:function(){var e=this;Ye({spcTaskId:this.spcTaskId}).then(function(t){200==t.code&&(e.rules=t.data.sort(Object(Me.firstBy)(function(e){e.ruleNumber})),"js"==e.type&&(e.rules=e.rules.slice(0,4)),e.rules.length>0&&e.rules.forEach(function(e){e.content=e.content.replace("n",e.n).replace("m",e.m).replace("k",e.k)}))})},getViewData:function(e){var t=this;this.fullLoading=this.$loading(this.LOADING),this.recentInfo=e,this.configData.controlGraph>0&&this.configData.controlGraph<5&&Qe(m()({spcTaskId:this.spcTaskId},e)).then(function(e){t.fullLoading.close(),200==e.code?t.jlRes(e.data):t.$message.error(e.message)}),this.configData.controlGraph>4&&this.configData.controlGraph<9&&Qe(m()({spcTaskId:this.spcTaskId},e)).then(function(e){t.fullLoading.close(),200==e.code?t.jsRes(e.data):t.$message.error(e.message)})},cellClick:function(e,t,a,s){if(this.expendRow=e,this.expands[0]==e.groupNum?this.expands.pop():this.$set(this.expands,0,e.groupNum),t.label&&t.label.indexOf("样本")>=0){var r=t.label.trim().slice(-1);this.moreInfo=e.dataList[r-1].info}},clickNode:function(e){var t=this;this.$set(this.expands,0,e.name);!function(){t.page=Math.ceil(e.name/t.pageSize);var a=void 0,s=e.dataIndex+1;a=/^[1-9]+$/.test(s/t.pageSize)?35*(t.pageSize-1):s%t.pageSize==1?0:35*(s%t.pageSize-1),t.scrollDom.scrollTo(0,a)}()},tableMoreInfo:function(e){return data},getSpcDetail:function(e){var t=this;if(200==e.code){if(e.data.controlGraph)if(e.data.controlGraph>0&&e.data.controlGraph<5)this.type="jl";else if(e.data.controlGraph>4&&e.data.controlGraph<9){this.type="js";this.TYPE=["p","np","c","u"][Number(e.data.controlGraph)-5]}if(this.configData=e.data,e.data.dashboard&&JSON.parse(e.data.dashboard)&&JSON.parse(e.data.dashboard)instanceof Array){var a=JSON.parse(e.data.dashboard);this.layout=a,a.length>0&&a.forEach(function(e){6==e.modelType&&e.HPx&&(t.HX=e.HPx,t.WX="100%"),7==e.modelType&&e.HPx&&(t.HR=e.HPx,t.WR="100%"),8==e.modelType&&e.HPx&&(t.HZ=e.HPx,t.WZ="100%"),t.panels.forEach(function(t){e.modelType==t.modelType&&(t.modelType=-Math.abs(t.modelType))})}),this.layout.length>0?0==this.layout[0].modelType&&this.layout[0].modelType:this.layout.push({x:0,y:0,w:500,h:23,i:"0",modelName:"Panel",modelType:0})}else this.layout=[{x:0,y:0,w:500,h:23,i:"0",modelName:"Panel",modelType:0}]}else this.$message.error(e.message)},getControlInfo:function(e){var t=this;Ke({configDataanalysisId:e}).then(function(e){if(t.controlLoading=!1,200==e.code){var a={};e.data.length>0&&e.data.forEach(function(e){if((1==e.parameterValueType||4==e.parameterValueType)&&e.parameterValue)if(4==e.parameterValueType&&e.parameterValue.indexOf("@")>=0){var s=e.parameterValue.match(/@.+?\s+/g);t.hasParameterForSql[e.sectionValue]={source:s.map(function(e){return e.trim()}),target:e},e.sql=e.parameterValue,e.parameterValue="",e.parameterValueArr=[]}else e.parameterValueArr=e.parameterValue.split(";"),4==e.parameterValueType&&e.parameterValueArr.length>0&&e.parameterValueArr.pop(),e.parameterValue="";e.sectionStart||e.sectionOff?a[e.sectionValue]?(e.sectionStart&&(a[e.sectionValue].start=Z()({},e)),e.sectionOff&&(a[e.sectionValue].off=Z()({},e))):(a[e.sectionValue]={start:{},off:{}},e.sectionStart&&(a[e.sectionValue].start=Z()({},e)),e.sectionOff&&(a[e.sectionValue].off=Z()({},e))):a[e.sectionValue]=e}),t.controlInfo=Z()({},a)}else t.$message.error(e.message)})}},computed:{showPagination:function(){},XR:function(){return"jl"==this.type?[["X","R","平均值","极差值"],["X","S","平均值","标准差"],["Me","R","中位数","极差"],["X","MR","平均值","移动极差"]][Number(this.configData.controlGraph)-1]:["X","R","平均值","极差值"]}},beforeMount:function(){},created:function(){var e,t=(e=Aa()(Da.a.mark(function e(){var t;return Da.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Je({spcTaskId:a.spcTaskId});case 2:if(200!=(t=e.sent).code){e.next=8;break}return e.next=6,a.getSpcDetail(t);case 6:a.getRuleList(),t.data&&t.data.configDataanalysisId&&a.getControlInfo(Number(t.data.configDataanalysisId));case 8:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)});this.spcTaskId=Number(this.$route.params.spc_id);var a=this;t()}},Ta,{methods:{exportExcelJl:function(){var e=this;Promise.all([a.e(1),a.e(0)]).then(function(){var t=a("zWO4").export_json_to_excel,s=["组号","样本值"].concat(Ne()(e.params)),r=["组号","合计值","极差值","平均值","是否异常",e.XR[0]+"管制图异常原因",e.XR[1]+"管制图原因"],i=[],o=[],n=[],l=e.groupDatas;e.rules.forEach(function(e){n.push([Math.abs(e.ruleNumber),e.content])}),l.forEach(function(t){var a=[];t.dataList.forEach(function(e){a=[t.groupNum,e.value].concat(Ne()(e.info)),i.push(a)});var s=[t.groupNum,t.sum,t.secondParameter,t.firstParameter];e.errorDataExcel[t.groupNum]||e.errorDataExcel1[t.groupNum]?(s.push("是"),e.errorDataExcel[t.groupNum]?s.push(e.errorDataExcel[t.groupNum].join(",")):s.push(""),e.errorDataExcel1[t.groupNum]?s.push(e.errorDataExcel1[t.groupNum].join(",")):s.push("")):s.push("否","",""),o.push(s)}),t([s,r,["判异规则编号","判异规则"]],[i,o,n],["原始数据","组数据","判异规则"],e.configData.spcTaskName+"_"+Rt(new Date))}.bind(null,a)).catch(a.oe)},exportExcelJs:function(){var e=this;Promise.all([a.e(1),a.e(0)]).then(function(){var t=a("zWO4").export_json_to_excel,s=["组号","抽样编号"].concat(Ne()(e.params)),r=[],i=[],o=[],n=e.groupDatas;e.rules.forEach(function(e){o.push([Math.abs(e.ruleNumber),e.content])}),n.forEach(function(t){var a;a=[t.groupNum,t.samplingNum].concat(Ne()(t.infoList)),r.push(a);var s=[t.groupNum,t.badName,t.badNum,t.badRate,t.lcl,t.ucl,t.samplingNum];e.errorDataExcel[t.groupNum]?(s.push("是"),s.push(e.errorDataExcel[t.groupNum].join(","))):s.push("否",""),i.push(s)}),t([s,["组号","错误类型","抽样编号","不良数","不良率","LCL","UCL","是否异常","异常原因"],["判异规则编号","判异规则"]],[r,i,o],["原始数据","组数据","判异规则"],e.configData.spcTaskName+"_"+Rt(new Date))}.bind(null,a)).catch(a.oe)}}}],components:{"grid-layout":xt.a.GridLayout,"grid-item":xt.a.GridItem,"v-linex":St,"v-liner":Ct,"v-bar":Mt,"v-table":Et,"v-rules":Ut,"v-analysis":Gt,"v-config":Zt,"v-controlinfo":aa,"v-table-count":qt,"v-analysis-count":Wt,"v-config-count":Kt,"v-step":ia,"v-plato":la,"v-line":ua,"v-empty":pa,"v-folder":mt,"v-info":ha,"v-attach":ga,"v-pdf-info":ya,"v-pdf":Na},data:function(){return{WX:"100%",HX:"380",WR:"100%",HR:"380",WZ:"50%",HZ:"400",spcTaskId:"",toConfig:!1,dialogAttachVisible:!1,showPdf:!1,selectePanel:{},recentInfo:{},pdfInfo:{},hasParameterForSql:{},controlLoading:!0}},methods:{changeValue:function(e){var t=e.data.split(";").slice(0,-1);this.controlInfo[e.key].parameterValueArr=t},showAddPanel:function(e){if(0==e){var t=!1;this.layout.length>0&&this.layout.forEach(function(e){0==e.modelType&&(t=!0)}),t&&0!=this.layout.length||this.layout.unshift({x:0,y:0,w:500,h:23,i:"0",modelName:"Panel",modelType:0})}else{var a=-1;this.layout.length>0&&this.layout.forEach(function(e,t){0==e.modelType&&(a=t)}),this.layout.splice(a,1)}},resizex:function(e,t,a,s,r){this.WX=r-20+"px",this.HX=s},resizer:function(e,t,a,s,r){this.WR=r-20+"px",this.HR=s},resizez:function(e,t,a,s,r){this.WZ=r-20+"px",this.HZ=s},resized:function(e,t,a,s,r){this.layout.forEach(function(t){t.modelType==e&&(t.WPx=r-20,t.HPx=s)}),this.$store.getters.userRole<4&&We({spcTaskId:this.spcTaskId,dashboard:this.layout})},layoutUpdatedEvent:function(e){},deleteGridItem:function(e){var t=this;this.$confirm("确定删除面板"+e.modelName+"?","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning"}).then(function(){var a=e.modelType,s=void 0;switch(t.layout.forEach(function(e,r){e.modelType==a&&(s=r,t.panels.forEach(function(e){Math.abs(e.modelType)==Math.abs(a)&&(e.modelType=Math.abs(e.modelType))}),t.selectePanel[Math.abs(a)]=!1)}),t.layout.splice(s,1),e.modelType){case 6:t.WX="50%",t.HX="380";break;case 7:t.WR="50%",t.HR="380";break;case 8:t.WZ="50%",t.HZ="400"}}).catch(function(){})},addGridItem:function(e){var t,a=this,s=null;this.panels.forEach(function(t){t.modelType==e.modelType&&(s=Z()({},t),t.modelType=-t.modelType,a.selectePanel[e.modelType]=!0)}),t=this.layout.sort(Object(Me.firstBy)(function(e){return e.y}).thenBy("x")).slice(-1)[0];var r=0,i=0,o=0;o=6==Math.abs(e.modelType)||7==Math.abs(e.modelType)?1e3:500,Number(t.x)+Number(t.w)>500?(r=0,i=t.y+1):(r=Number(t.x)+Number(t.w),i=t.y),s.x=r,s.y=i,s.w=o,s.h=20,s.i=s.modelType,this.layout.push(s),this.showAddPanel(-1)},updatePanel:function(){var e=this;We({spcTaskId:this.spcTaskId,dashboard:this.layout}).then(function(t){200==t.code?e.$message.success(t.message):e.$message.error(t.message)})},config:function(){this.$router.push("/spc/task/"+Number(this.spcTaskId))},pdf:function(){},showPdfPanel:function(e){var t=this;this.pdfInfo=e,this.panels.forEach(function(e){3!=Math.abs(e.modelType)&&(e.modelType>0?t.selectePanel[e.modelType]=!1:t.selectePanel[Math.abs(e.modelType)]=!0)}),this.dialogAttachVisible=!1,this.showPdf=!0},excel:function(){this.configData.controlGraph>0&&this.configData.controlGraph<5&&this.exportExcelJl(),this.configData.controlGraph>4&&this.configData.controlGraph<9&&this.exportExcelJs()}},computed:{panels:function(){return"jl"==this.type?[{icon:"info",modelName:"分析条件",modelType:"1"},{icon:"info",modelName:"基本信息",modelType:"2"},{icon:"panel",modelName:"样本数据",modelType:"3"},{icon:"analysis",modelName:"过程能力分析",modelType:"4"},{icon:"rules",modelName:"判异规则",modelType:"5"},{icon:"line",modelName:this.XR[0]+"管制图",modelType:"6"},{icon:"line",modelName:this.XR[1]+"管制图",modelType:"7"},{icon:"histogram",modelName:"过程能力图",modelType:"8"}]:"js"==this.type?[{icon:"info",modelName:"分析条件",modelType:"1"},{icon:"info",modelName:"基本信息",modelType:"2"},{icon:"panel",modelName:"样本数据",modelType:"3"},{icon:"analysis",modelName:"制程能力分析",modelType:"4"},{icon:"rules",modelName:"判异规则",modelType:"5"},{icon:"line",modelName:"控制图",modelType:"6"},{icon:"line",modelName:"累积概率图",modelType:"7"},{icon:"histogram",modelName:"柏拉图",modelType:"8"}]:[{icon:"info",modelName:"分析条件",modelType:"1"},{icon:"info",modelName:"基本信息",modelType:"2"},{icon:"panel",modelName:"样本数据",modelType:"3"},{icon:"analysis",modelName:"制程能力分析",modelType:"4"},{icon:"rules",modelName:"判异规则",modelType:"5"},{icon:"line",modelName:this.XR[0]+"管制图",modelType:"6"},{icon:"line",modelName:this.XR[1]+"管制图",modelType:"7"},{icon:"histogram",modelName:"制程能力图",modelType:"8"}]}},beforeDestroy:function(){this.fullLoading&&this.fullLoading.close()}},Ra={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticStyle:{"border-bottom":"1px solid #dcdfe6",padding:"5px 20px"}},[a("el-col",{staticStyle:{"font-size":"20px"},attrs:{span:10}},[e._v("\n              \n                 "),a("el-button",{attrs:{type:"text"},on:{click:function(t){e.$store.commit("SET_TASK",!0)}}},[a("i",{staticClass:"el-icon-menu el-icon--left"}),e._v(e._s(e.configData.spcTaskName)),a("i",{staticClass:"el-icon-caret-bottom el-icon--right"})])],1),e._v(" "),e.$store.getters.userRole<4?a("el-col",{staticClass:"text-right",attrs:{span:14}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"添加面板",placement:"top-start"}},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.showAddPanel("0")}}},[a("i",{staticClass:"el-icon-plus",staticStyle:{"font-size":"20px"}})])],1),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"保存",placement:"top-start"}},[a("el-button",{attrs:{size:"mini"},on:{click:e.updatePanel}},[a("svg-icon",{staticStyle:{"font-size":"20px"},attrs:{"icon-class":"save"}})],1)],1),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"配置",placement:"top-start"}},[a("el-button",{attrs:{size:"mini"},on:{click:e.config}},[a("svg-icon",{staticStyle:{"font-size":"20px"},attrs:{"icon-class":"setting"}})],1)],1),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"Excel",placement:"top-start"}},[a("el-button",{attrs:{size:"mini",disabled:!e.groupDatas.length>0},on:{click:e.excel}},[a("svg-icon",{staticStyle:{"font-size":"20px"},attrs:{"icon-class":"download"}})],1)],1),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"PDF",placement:"top-start"}},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.dialogAttachVisible=!0,e.pdfInfo={}}}},[a("svg-icon",{staticStyle:{"font-size":"20px"},attrs:{"icon-class":"pdf"}})],1)],1)],1):e._e()],1),e._v(" "),a("div",{staticClass:"app-container Panel",attrs:{id:"noSelect"}},[a("grid-layout",{attrs:{layout:e.layout,"col-num":1e3,"row-height":10},on:{"update:layout":function(t){e.layout=t},"layout-updated":e.layoutUpdatedEvent}},[e._l(e.layout,function(t){return[0==t.modelType?a("grid-item",{key:t.i,attrs:{x:t.x,y:t.y,w:t.w,h:t.h,i:t.i,isDraggable:!1}},[a("div",{staticStyle:{height:"100%",background:"#ddd"}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"100%"}},[a("div",{staticClass:"text-center header",staticStyle:{overflow:"hidden","font-size":"16px","line-height":"22px"},attrs:{slot:"header"},slot:"header"},[e._v("\n                              面板\n                             "),a("el-button",{staticStyle:{float:"right",padding:"4px"},attrs:{type:"text"},on:{click:function(t){e.showAddPanel("-1")}}},[a("i",{staticClass:"el-icon-close"})])],1),e._v(" "),e.toConfig?a("div",{staticClass:"text-center",staticStyle:{"font-size":"20px"}},[a("router-link",{attrs:{to:"/spc/task/"+Number(e.spcTaskId)}},[a("el-button",{attrs:{size:"large",type:"text"}},[e._v("请先配置数据分析 "),a("svg-icon",{attrs:{"icon-class":"right"}})],1)],1)],1):a("el-row",{staticClass:"detailPanel",staticStyle:{cursor:"default"},attrs:{gutter:20}},e._l(e.panels,function(t){return a("el-col",{directives:[{name:"show",rawName:"v-show",value:t.modelType>0,expression:"panel.modelType>0 \n                             "}],key:t.modelName+"_"+t.modelType,staticStyle:{"margin-bottom":"20px",cursor:"pointer"},attrs:{span:8}},[a("el-card",{staticClass:"text-center",attrs:{"body-style":{padding:"10px"}}},[a("div",{on:{click:function(a){e.addGridItem(t)}}},[a("svg-icon",{staticStyle:{"font-size":"40px"},attrs:{"icon-class":t.icon}}),e._v(" "),a("div",{staticStyle:{padding:"10px"}},[e._v("\n                                         "+e._s(t.modelName)+"\n                                     ")])],1)])],1)}))],1)],1)]):"1"!=t.modelType||e.toConfig?"2"!=t.modelType||e.toConfig?"3"!=t.modelType||e.toConfig?"4"!=t.modelType||e.toConfig?"5"!=t.modelType||e.toConfig?"6"!=t.modelType||e.toConfig?"7"!=t.modelType||e.toConfig?"8"!=t.modelType||e.toConfig?"9"==t.modelType?a("grid-item",{key:t.i,attrs:{x:t.x,y:t.y,w:t.w,h:t.h,i:t.i,dragAllowFrom:"div.header"},on:{resize:e.resizez,resized:e.resized}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"100%",width:"100%"}},[a("div",{staticClass:"text-center header",staticStyle:{"font-size":"16px","line-height":"22px"},attrs:{slot:"header"},slot:"header"},[e._v("\n                     "+e._s(t.modelName)+"\n                     "),a("el-button",{staticStyle:{float:"right",padding:"8px",position:"relative",top:"-4px"},attrs:{type:"text"},on:{click:function(a){e.deleteGridItem(t)}}},[a("i",{staticClass:"el-icon-close"})])],1),e._v(" "),a("v-info")],1)],1):e._e():a("grid-item",{key:t.i,attrs:{x:t.x,y:t.y,w:t.w,h:t.h,i:t.i,dragAllowFrom:"div.header"},on:{resize:e.resizez,resized:e.resized}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"100%",width:"100%"}},[a("div",{staticClass:"text-center header",staticStyle:{"font-size":"16px","line-height":"22px"},attrs:{slot:"header"},slot:"header"},[e._v("\n                     "+e._s(t.modelName)+"\n                     "),a("el-button",{staticStyle:{float:"right",padding:"8px",position:"relative",top:"-4px"},attrs:{type:"text"},on:{click:function(a){e.deleteGridItem(t)}}},[a("i",{staticClass:"el-icon-close"})])],1),e._v(" "),"jl"==e.type&&e.countDatas.length>0?a("v-bar",{attrs:{count:e.countDatas,distData:e.distData,MIN:e.minZF,MAX:e.maxZF,sigma:e.sigma,usl:e.usl,lsl:e.lsl,sigma1:e.sigma1,sigma2:e.sigma2,sigma3:e.sigma3,sigma_1:e.sigma_1,sigma_2:e.sigma_2,sigma_3:e.sigma_3,HZ:e.HZ,WZ:e.WZ}}):"js"==e.type&&e.paretoData.count.length>0?a("v-plato",{attrs:{paretoData:e.paretoData,HZ:e.HZ,WZ:e.WZ}}):a("v-empty")],1)],1):a("grid-item",{key:t.i,attrs:{x:t.x,y:t.y,w:t.w,h:t.h,i:t.i,dragAllowFrom:"div.header"},on:{resize:e.resizer,resized:e.resized}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"100%",width:"100%"}},[a("div",{staticClass:"text-center header",staticStyle:{"font-size":"16px","line-height":"22px"},attrs:{slot:"header"},slot:"header"},[e._v("\n                     "+e._s(t.modelName)+"\n                     "),a("el-button",{staticStyle:{float:"right",padding:"8px",position:"relative",top:"-4px"},attrs:{type:"text"},on:{click:function(a){e.deleteGridItem(t)}}},[a("i",{staticClass:"el-icon-close"})])],1),e._v(" "),e.RcharData.rows.length>0&&"jl"==e.type?a("v-liner",{attrs:{"chart-data":e.RcharData,min:e.minR,max:e.maxR,selectedRrules:e.selectedRrules,HR:e.HR,WR:e.WR,show:!0}}):e.cumulativeRateData.rows.length>0&&"js"==e.type?a("v-line",{attrs:{chartData:e.cumulativeRateData,HR:e.HR,WR:e.WR,show:!0}}):a("v-empty")],1)],1):a("grid-item",{key:t.i,attrs:{x:t.x,y:t.y,w:t.w,h:t.h,i:t.i,dragAllowFrom:"div.header"},on:{resize:e.resizex,resized:e.resized}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"100%",width:"100%"}},[a("div",{staticClass:"text-center header",staticStyle:{"font-size":"16px","line-height":"22px"},attrs:{slot:"header"},slot:"header"},[e._v("\n                     "+e._s(t.modelName)+"\n                     "),a("el-button",{staticStyle:{float:"right",padding:"8px",position:"absolute",top:"4px",right:"20px"},attrs:{type:"text"},on:{click:function(a){e.deleteGridItem(t)}}},[a("i",{staticClass:"el-icon-close"})])],1),e._v(" "),e.XcharData.rows.length>0&&"jl"==e.type?a("v-linex",{ref:"linex",refInFor:!0,attrs:{"chart-data":e.XcharData,MAX:e.max,MIN:e.min,selectedXrules:e.selectedXrules,WX:"100%",HX:e.HX,show:!0}}):e.dataX.length>0&&"js"==e.type?a("v-step",{attrs:{dataX:e.dataX,ucl:e.ucl,lcl:e.lcl,badData:e.badData,errorDatas:e.errorDatas,type:e.TYPE,HX:e.HX,WX:"100%",show:!0}}):a("v-empty")],1)],1):a("grid-item",{key:t.i,attrs:{x:t.x,y:t.y,w:t.w,h:t.h,i:t.i,dragAllowFrom:"div.header"}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"100%",width:"100%"}},[a("div",{staticClass:"text-center header",staticStyle:{"font-size":"16px","line-height":"22px"},attrs:{slot:"header"},slot:"header"},[e._v("\n                     "+e._s(t.modelName)+"\n                     "),a("el-button",{staticStyle:{float:"right",padding:"8px",position:"relative",top:"-4px"},attrs:{type:"text"},on:{click:function(a){e.deleteGridItem(t)}}},[a("i",{staticClass:"el-icon-close"})])],1),e._v(" "),a("v-rules",{directives:[{name:"show",rawName:"v-show",value:e.rules.length>0,expression:"rules.length>0"}],attrs:{rules:e.rules}}),e._v(" "),a("v-empty",{directives:[{name:"show",rawName:"v-show",value:0==e.rules.length,expression:"rules.length==0"}]})],1)],1):a("grid-item",{key:t.i,attrs:{x:t.x,y:t.y,w:t.w,h:t.h,i:t.i,dragAllowFrom:"div.header"}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"100%",width:"100%"}},[a("div",{staticClass:"text-center header",staticStyle:{"font-size":"16px","line-height":"22px"},attrs:{slot:"header"},slot:"header"},[e._v("\n                    "+e._s(t.modelName)+"\n                    "),a("el-button",{staticStyle:{float:"right",padding:"8px",position:"relative",top:"-4px"},attrs:{type:"text"},on:{click:function(a){e.deleteGridItem(t)}}},[a("i",{staticClass:"el-icon-close"})])],1),e._v(" "),a("v-analysis",{directives:[{name:"show",rawName:"v-show",value:"jl"==e.type,expression:"type=='jl'"}],attrs:{variableStats:e.variableStats,configData:e.configData,XR:e.XR}}),e._v(" "),a("v-analysis-count",{directives:[{name:"show",rawName:"v-show",value:"js"==e.type,expression:"type=='js'"}],attrs:{xrStats:e.xrStats,configData:e.configData,TYPE:e.TYPE}})],1)],1):a("grid-item",{key:t.i,attrs:{x:t.x,y:t.y,w:t.w,h:t.h,i:t.i,dragAllowFrom:"div.header"}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"100%",width:"100%"}},[a("div",{staticClass:"text-center header",staticStyle:{"font-size":"16px","line-height":"22px"},attrs:{slot:"header"},slot:"header"},[e._v("\n                    "+e._s(t.modelName)+"\n                    "),a("el-button",{staticStyle:{float:"right",padding:"8px",position:"relative",top:"-4px"},attrs:{type:"text"},on:{click:function(a){e.deleteGridItem(t)}}},[a("i",{staticClass:"el-icon-close"})])],1),e._v(" "),a("v-table",{directives:[{name:"show",rawName:"v-show",value:"jl"==e.type&&e.groupDatas.length>0,expression:"type=='jl' && groupDatas.length>0"}],attrs:{groupDatas:e.groupDatas,configData:e.configData,XR:e.XR,params:e.params,rules:e.rules,errorDataExcel:e.errorDataExcel,errorDataExcel1:e.errorDataExcel1}}),e._v(" "),a("v-table-count",{directives:[{name:"show",rawName:"v-show",value:"js"==e.type&&e.groupDatas.length>0,expression:"type=='js' && groupDatas.length>0"}],attrs:{groupDatas:e.groupDatas,configData:e.configData,params:e.params,rules:e.rules,errorDataExcel:e.errorDataExcel,errorDataExcel1:e.errorDataExcel1}}),e._v(" "),a("v-empty",{directives:[{name:"show",rawName:"v-show",value:0==e.groupDatas.length,expression:"groupDatas.length==0"}]})],1)],1):a("grid-item",{key:t.i,attrs:{x:t.x,y:t.y,w:t.w,h:t.h,i:t.i,dragAllowFrom:"div.header"}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"100%",width:"100%"}},[a("div",{staticClass:"text-center header",staticStyle:{"font-size":"16px","line-height":"22px"},attrs:{slot:"header"},slot:"header"},[e._v("\n                    "+e._s(t.modelName)+"\n                    "),a("el-button",{staticStyle:{float:"right",padding:"8px",position:"relative",top:"-4px"},attrs:{type:"text"},on:{click:function(a){e.deleteGridItem(t)}}},[a("i",{staticClass:"el-icon-close"})])],1),e._v(" "),a("v-config",{directives:[{name:"show",rawName:"v-show",value:"jl"==e.type,expression:"type=='jl'"}],attrs:{variableStats:e.variableStats,configData:e.configData,XR:e.XR}}),e._v(" "),a("v-config-count",{directives:[{name:"show",rawName:"v-show",value:"js"==e.type,expression:"type=='js'"}],attrs:{configData:e.configData,xrStats:e.xrStats}})],1)],1):a("grid-item",{key:t.i,attrs:{x:t.x,y:t.y,w:t.w,h:t.h,i:t.i,dragAllowFrom:"div.header"}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"100%",width:"100%"}},[a("div",{staticClass:"text-center header",staticStyle:{"font-size":"16px","line-height":"22px"},attrs:{slot:"header"},slot:"header"},[e._v("\n                    "+e._s(t.modelName)+"\n                    "),a("el-button",{staticStyle:{float:"right",padding:"8px",position:"relative",top:"-4px"},attrs:{type:"text"},on:{click:function(a){e.deleteGridItem(t)}}},[a("i",{staticClass:"el-icon-close"})])],1),e._v(" "),a("v-controlinfo",{attrs:{controlInfo:e.controlInfo,show:!0,hasParameterForSql:e.hasParameterForSql,controlLoading:e.controlLoading},on:{view:e.getViewData,Loading:function(t){e.controlLoading=t},changevalue:e.changeValue}})],1)],1)]})],2)],1),e._v(" "),a("v-folder",{directives:[{name:"show",rawName:"v-show",value:e.$store.getters.showFolderTask,expression:"$store.getters.showFolderTask"}]}),e._v(" "),a("div",{staticClass:"Dialog"},[a("el-dialog",{attrs:{title:"辅助及原因追查",visible:e.dialogAttachVisible,width:"700px"},on:{"update:visible":function(t){e.dialogAttachVisible=t}}},[e.dialogAttachVisible?a("v-pdf-info",{attrs:{pdfInfo:{}},on:{close:function(t){e.dialogAttachVisible=!1,e.pdfInfo={}},"show-pdf":e.showPdfPanel}}):e._e()],1)],1),e._v(" "),a("v-pdf",{attrs:{showPdf:e.showPdf,name:e.configData.spcTaskName,panel:e.selectePanel},on:{close:function(t){e.showPdf=!1}}},[a("v-pdf-info",{attrs:{slot:"20",pdfInfo:e.pdfInfo},slot:"20"}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.selectePanel[1],expression:"selectePanel[1]"}],staticStyle:{border:"1px solid #999",padding:"20px 20px 20px 0"},attrs:{slot:"1"},slot:"1"},[a("v-controlinfo",{attrs:{controlInfo:e.controlInfo,show:!1,recentInfo:e.recentInfo,hasParameterForSql:e.hasParameterForSql},on:{view:e.getViewData}})],1),e._v(" "),a("v-config",{directives:[{name:"show",rawName:"v-show",value:"jl"==e.type&&e.selectePanel[2],expression:"type=='jl' && selectePanel[2]"}],attrs:{slot:"2",variableStats:e.variableStats,configData:e.configData,XR:e.XR},slot:"2"}),e._v(" "),a("v-config-count",{directives:[{name:"show",rawName:"v-show",value:"js"==e.type&&e.selectePanel[2],expression:"type=='js' && selectePanel[2]"}],attrs:{slot:"2",configData:e.configData,xrStats:e.xrStats},slot:"2"}),e._v(" "),a("v-analysis",{directives:[{name:"show",rawName:"v-show",value:"jl"==e.type&&e.selectePanel[4],expression:"type=='jl' && selectePanel[4]"}],attrs:{slot:"4",variableStats:e.variableStats,configData:e.configData,XR:e.XR},slot:"4"}),e._v(" "),a("v-analysis-count",{directives:[{name:"show",rawName:"v-show",value:"js"==e.type&&e.selectePanel[4],expression:"type=='js' && selectePanel[4]"}],attrs:{slot:"4",xrStats:e.xrStats,configData:e.configData,TYPE:e.TYPE},slot:"4"}),e._v(" "),a("v-rules",{directives:[{name:"show",rawName:"v-show",value:e.selectePanel[5],expression:"selectePanel[5]"}],attrs:{slot:"5",rules:e.rules},slot:"5"}),e._v(" "),e.XcharData.rows.length>0&&"jl"==e.type&&e.selectePanel[6]?a("v-linex",{ref:"linex",attrs:{slot:"6","chart-data":e.XcharData,MAX:e.max,MIN:e.min,selectedXrules:e.selectedXrules,WX:"100%",HX:"400",show:!1},slot:"6"}):e.dataX.length>0&&"js"==e.type&&e.selectePanel[6]?a("v-step",{attrs:{slot:"6",dataX:e.dataX,ucl:e.ucl,lcl:e.lcl,badData:e.badData,errorDatas:e.errorDatas,type:e.TYPE,HX:"400",WX:"100%",show:!1},slot:"6"}):e._e(),e._v(" "),e.RcharData.rows.length>0&&"jl"==e.type&&e.selectePanel[7]?a("v-liner",{attrs:{slot:"7","chart-data":e.RcharData,min:e.minR,max:e.maxR,selectedRrules:e.selectedRrules,HR:"400",WR:"100%",show:!1},slot:"7"}):e.cumulativeRateData.rows.length>0&&"js"==e.type&&e.selectePanel[7]?a("v-line",{attrs:{slot:"7",chartData:e.cumulativeRateData,HR:"400",WR:"100%",show:!1},slot:"7"}):e._e(),e._v(" "),"jl"==e.type&&e.countDatas.length>0&&e.selectePanel[8]?a("v-bar",{attrs:{slot:"8",count:e.countDatas,distData:e.distData,MIN:e.minZF,MAX:e.maxZF,sigma:e.sigma,usl:e.usl,lsl:e.lsl,sigma1:e.sigma1,sigma2:e.sigma2,sigma3:e.sigma3,sigma_1:e.sigma_1,sigma_2:e.sigma_2,sigma_3:e.sigma_3,HZ:"400",WZ:"100%"},slot:"8"}):"js"==e.type&&e.paretoData.count.length>0&&e.selectePanel[8]?a("v-plato",{attrs:{slot:"8",paretoData:e.paretoData,HZ:"400",WZ:"100%"},slot:"8"}):e._e()],1)],1)},staticRenderFns:[]};var $a=a("/Xao")(Ma,Ra,!1,function(e){a("LfHk")},null,null).exports,za={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{position:"relative"}},[t("ve-line",{ref:"lineX",attrs:{data:this.data,"legend-visible":!1,height:this.height,width:this.width,grid:this.grid,extend:this.extend,settings:this.chartSettings}})],1)},staticRenderFns:[]};var Ea={props:["controlInfo","show","recentInfo","change","sqlDes","hasParameterForSql","controlLoading"],data:function(){return{time:"",recentGroupListBegin:[20,50,100],recentGroupListEnd:[20,50,100],digit:this.recent?this.recent.digit:4,sqlParamter:{}}},methods:{submit:function(){if(i()(this.controlInfo).length>0)for(var e in this.controlInfo){var t=this.controlInfo[e];if(i()(t).length>0)for(var a in t)if(i()(t[a]).length>2){if(t[a].required&&!t[a].parameterValue){var s=t[a].comment?t[a].comment:t[a].parameter;return this.$message.warning(s+"是必填项"),!1}}else{if(t[a].start.required&&!t[a].start.parameterValue){var r=t[a].start.comment?t[a].start.comment:t[a].start.parameter;return this.$message.warning(r+"开始范围是必填项"),!1}if(t[a].off.required&&!t[a].off.parameterValue){var o=t[a].off.comment?t[a].off.comment:t[a].off.parameter;return this.$message.warning(o+"结束范围是必填项"),!1}}}var n=this.getInfo();this.$emit("view",n)},cacheBegin:function(e){this.recentGroupListBegin.includes(e)||this.recentGroupListBegin.push(e)},cacheEnd:function(e){this.recentGroupListEnd.includes(e)||this.recentGroupListEnd.push(e)},dataChange:function(){if(this.change){var e=this.getInfo();this.$emit("change",e)}},getInfo:function(){var e={analysisParms:{}};if(this.digit&&(e.digit=this.digit),i()(this.controlInfo).length>0)for(var t in this.controlInfo){e.analysisParms[t]={};var a=this.controlInfo[t],s=t;if(i()(a).length>0)for(var r in a)i()(a[r]).length>2?e.analysisParms[s][a[r].parameter]=a[r].parameterValue:(e.analysisParms[s][a[r].start.parameter]=a[r].start.parameterValue,e.analysisParms[s][a[r].off.parameter]=a[r].off.parameterValue)}return e},checkSql:function(e){var t=this;if(i()(this.hasParameterForSql).length>0&&this.hasParameterForSql[e.sqlIndex]){var a=function(a){var s=t.hasParameterForSql[e.sqlIndex][a];if(s.source.includes(e.parameter)&&(t.sqlParamter[e.sqlIndex]||(t.sqlParamter[e.sqlIndex]={}),t.sqlParamter[e.sqlIndex][e.parameter]=e.parameterValue,s.source.every(function(a){return t.sqlParamter[e.sqlIndex][a]}))){var r=s.target.sql+"";s.source.forEach(function(a){r=r.replace(a,"'"+t.sqlParamter[e.sqlIndex][a]+"'")}),t.$emit("loading",!0),Ae({configDataanalysisId:e.configDataanalysisId,querySql:r}).then(function(a){t.$emit("loading",!1),200==a.code?t.$emit("changevalue",{key:s.target.sectionValue,data:a.data,index:e.sqlIndex}):t.$message.error(a.message)})}};for(var s in this.hasParameterForSql[e.sqlIndex])a(s)}}},computed:{recent:function(){return this.recentInfo},des:function(){var e=this.sqlDes.match(/{.*?}/g);return e instanceof Array&&e.length>0?e.map(function(e){return e.replace("{","").replace("}","")}):[]}}},Pa={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.controlLoading,expression:"controlLoading"}]},[a("el-form",{ref:"dsForm",staticClass:"small-space Form setting-form FormError",attrs:{size:"mini","label-position":"right","label-width":"140px"}},[e._l(e.controlInfo,function(t,s){return a("div",{key:"controlnfo"+s},[a("div",{staticClass:"processTitle"},[e._v(e._s(e.des[s]?e.des[s]:"趋势"+s)+" : ")]),e._v(" "),e._l(t,function(t,s){return Object.keys(t).length>2?[a("el-form-item",{key:s,class:{required:t.required},attrs:{label:t.comment?t.comment+t.symbol+" :":t.parameter+t.symbol+" :"}},[a("el-col",{attrs:{span:24}},[a("el-form",{staticClass:"small-space Form setting-form FormError",attrs:{size:"mini","label-position":"left"}},[a("el-form-item",[a("el-select",{directives:[{name:"show",rawName:"v-show",value:1==t.parameterValueType||4==t.parameterValueType,expression:"info.parameterValueType==1 || info.parameterValueType==4"}],attrs:{placeholder:"请选择参数值",clearable:""},on:{change:function(a){e.dataChange,e.checkSql(t)}},model:{value:t.parameterValue,callback:function(a){e.$set(t,"parameterValue",a)},expression:"info.parameterValue"}},e._l(t.parameterValueArr,function(e,t){return a("el-option",{key:e+"@"+t,attrs:{label:e,value:e}})})),e._v(" "),a("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:2==t.parameterValueType,expression:"info.parameterValueType==2"}],attrs:{format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime"},on:{change:function(a){e.dataChange(),e.checkSql(t)}},model:{value:t.parameterValue,callback:function(a){e.$set(t,"parameterValue",a)},expression:"info.parameterValue"}}),e._v(" "),a("el-input",{directives:[{name:"show",rawName:"v-show",value:3==t.parameterValueType,expression:"info.parameterValueType==3"}],on:{input:e.dataChange,blur:function(a){e.checkSql(t)}},model:{value:t.parameterValue,callback:function(a){e.$set(t,"parameterValue",a)},expression:"info.parameterValue"}}),e._v(" "),a("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:5==t.parameterValueType,expression:"info.parameterValueType==5"}],attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},on:{change:function(a){e.dataChange(),e.checkSql(t)}},model:{value:t.parameterValue,callback:function(a){e.$set(t,"parameterValue",a)},expression:"info.parameterValue"}})],1)],1)],1)],1)]:[a("div",{directives:[{name:"show",rawName:"v-show",value:"至"==t.start.symbol,expression:"info.start.symbol=='至'"}]},[a("el-form-item",{key:s,class:{required:t.start.required||t.off.required},attrs:{label:s+" :"}},[a("el-col",{attrs:{span:10}},[a("el-select",{directives:[{name:"show",rawName:"v-show",value:1==t.start.parameterValueType,expression:"info.start.parameterValueType==1"}],attrs:{"allow-create":"",placeholder:"请选择参数值"},on:{change:function(a){e.dataChange(),e.checkSql(t.start)}},model:{value:t.start.parameterValue,callback:function(a){e.$set(t.start,"parameterValue",a)},expression:"info.start.parameterValue"}},e._l(t.start.parameterValueArr,function(e,t){return a("el-option",{key:t+"@1_"+e,attrs:{label:e,value:e}})})),e._v(" "),a("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:2==t.start.parameterValueType,expression:"info.start.parameterValueType==2"}],attrs:{format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime"},on:{change:function(a){e.dataChange(),e.checkSql(t.start)}},model:{value:t.start.parameterValue,callback:function(a){e.$set(t.start,"parameterValue",a)},expression:"info.start.parameterValue"}}),e._v(" "),a("el-input",{directives:[{name:"show",rawName:"v-show",value:3==t.start.parameterValueType,expression:"info.start.parameterValueType==3"}],on:{input:e.dataChange,blur:function(a){e.checkSql(t.start)}},model:{value:t.start.parameterValue,callback:function(a){e.$set(t.start,"parameterValue",a)},expression:"info.start.parameterValue"}}),e._v(" "),a("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:5==t.start.parameterValueType,expression:"info.start.parameterValueType==5"}],attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},on:{change:function(a){e.dataChange(),e.checkSql(t.start)}},model:{value:t.start.parameterValue,callback:function(a){e.$set(t.start,"parameterValue",a)},expression:"info.start.parameterValue"}})],1),e._v(" "),a("el-col",{staticClass:"text-center",attrs:{span:4}},[e._v("至")]),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-select",{directives:[{name:"show",rawName:"v-show",value:1==t.off.parameterValueType,expression:"info.off.parameterValueType==1"}],attrs:{placeholder:"请输入参数值"},on:{change:function(a){e.dataChange(),e.checkSql(t.off)}},model:{value:t.off.parameterValue,callback:function(a){e.$set(t.off,"parameterValue",a)},expression:"info.off.parameterValue"}},e._l(t.off.parameterValueArr,function(e,t){return a("el-option",{key:t+"@2_"+e,attrs:{label:e,value:e}})})),e._v(" "),a("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:2==t.off.parameterValueType,expression:"info.off.parameterValueType==2"}],attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss"},on:{change:function(a){e.dataChange(),e.checkSql(t.off)}},model:{value:t.off.parameterValue,callback:function(a){e.$set(t.off,"parameterValue",a)},expression:"info.off.parameterValue"}}),e._v(" "),a("el-input",{directives:[{name:"show",rawName:"v-show",value:3==t.off.parameterValueType||""==t.off.parameterValueType,expression:"info.off.parameterValueType==3 || info.off.parameterValueType=='' "}],attrs:{placeholder:t.off.parameter},on:{input:e.dataChange,blur:function(a){e.checkSql(t.off)}},model:{value:t.off.parameterValue,callback:function(a){e.$set(t.off,"parameterValue",a)},expression:"info.off.parameterValue"}}),e._v(" "),a("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:5==t.off.parameterValueType,expression:"info.off.parameterValueType==5"}],attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},on:{change:function(a){e.dataChange(),e.checkSql(t.off)}},model:{value:t.off.parameterValue,callback:function(a){e.$set(t.off,"parameterValue",a)},expression:"info.off.parameterValue"}})],1)],1)],1),e._v(" "),"至"!=t.start.symbol?a("div",[a("el-form-item",{class:{required:t.start.required||t.off.required},attrs:{label:s+" : "}},[a("el-col",{attrs:{span:9}},[a("el-select",{directives:[{name:"show",rawName:"v-show",value:1==t.start.parameterValueType,expression:"info.start.parameterValueType==1"}],attrs:{placeholder:t.start.parameter},on:{change:function(a){e.dataChange(),e.checkSql(t.start)}},model:{value:t.start.parameterValue,callback:function(a){e.$set(t.start,"parameterValue",a)},expression:"info.start.parameterValue"}},e._l(t.start.parameterValueArr,function(e,t){return a("el-option",{key:t+"@start_"+e,attrs:{label:e,value:e}})})),e._v(" "),a("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:2==t.start.parameterValueType,expression:"info.start.parameterValueType==2"}],attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss"},on:{change:function(a){e.dataChange(),e.checkSql(t.start)}},model:{value:t.start.parameterValue,callback:function(a){e.$set(t.start,"parameterValue",a)},expression:"info.start.parameterValue"}}),e._v(" "),a("el-input",{directives:[{name:"show",rawName:"v-show",value:3==t.start.parameterValueType||""==t.start.parameterValueType,expression:"info.start.parameterValueType==3 || info.start.parameterValueType=='' "}],attrs:{placeholder:t.start.parameter},on:{input:e.dataChange,blur:function(a){e.checkSql(t.start)}},model:{value:t.start.parameterValue,callback:function(a){e.$set(t.start,"parameterValue",a)},expression:"info.start.parameterValue"}}),e._v(" "),a("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:5==t.start.parameterValueType,expression:"info.start.parameterValueType==5"}],attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},on:{change:function(a){e.dataChange(),e.checkSql(t.start)}},model:{value:t.start.parameterValue,callback:function(a){e.$set(t.start,"parameterValue",a)},expression:"info.start.parameterValue"}})],1),e._v(" "),a("el-col",{staticClass:"text-center",attrs:{span:2}},[e._v(e._s(t.start.symbol.indexOf("=")>=0?"=<":"<")+" ")]),e._v(" "),a("el-col",{staticClass:"text-center",attrs:{span:2}},[e._v(" "+e._s(s)+" ")]),e._v(" "),a("el-col",{staticClass:"text-center",attrs:{span:2}},[e._v(" "+e._s(t.off.symbol.indexOf("=")>=0?"=<":"<")+" ")]),e._v(" "),a("el-col",{attrs:{span:9}},[a("el-select",{directives:[{name:"show",rawName:"v-show",value:1==t.off.parameterValueType,expression:"info.off.parameterValueType==1"}],attrs:{placeholder:t.off.parameter},on:{change:function(a){e.dataChange(),e.checkSql(t.off)}},model:{value:t.off.parameterValue,callback:function(a){e.$set(t.off,"parameterValue",a)},expression:"info.off.parameterValue"}},e._l(t.off.parameterValueArr,function(e,t){return a("el-option",{key:t+"@3_"+e,attrs:{label:e,value:e}})})),e._v(" "),a("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:2==t.off.parameterValueType,expression:"info.off.parameterValueType==2"}],attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss"},on:{change:function(a){e.dataChange(),e.checkSql(t.off)}},model:{value:t.off.parameterValue,callback:function(a){e.$set(t.off,"parameterValue",a)},expression:"info.off.parameterValue"}}),e._v(" "),a("el-input",{directives:[{name:"show",rawName:"v-show",value:3==t.off.parameterValueType||""==t.off.parameterValueType,expression:"info.off.parameterValueType==3 || info.off.parameterValueType=='' "}],attrs:{placeholder:t.off.parameter},on:{input:e.dataChange,blur:function(a){e.checkSql(t.off)}},model:{value:t.off.parameterValue,callback:function(a){e.$set(t.off,"parameterValue",a)},expression:"info.off.parameterValue"}}),e._v(" "),a("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:5==t.off.parameterValueType,expression:"info.off.parameterValueType==5"}],attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},on:{change:function(a){e.dataChange(),e.checkSql(t.off)}},model:{value:t.off.parameterValue,callback:function(a){e.$set(t.off,"parameterValue",a)},expression:"info.off.parameterValue"}})],1)],1)],1):e._e()]})],2)}),e._v(" "),a("el-form-item",{attrs:{label:"小数位数= :"}},[a("el-form",{staticClass:"small-space Form setting-form FormError",attrs:{size:"mini","label-position":"left"}},[a("el-form-item",[a("el-col",{attrs:{span:24}},[a("el-select",{on:{change:e.dataChange},model:{value:e.digit,callback:function(t){e.digit=t},expression:"digit"}},e._l([4,5,6,7,8],function(e){return a("el-option",{key:"digit"+e,attrs:{label:e,value:e}})}))],1)],1)],1)],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}]},[a("el-col",{staticClass:"btnBlock"},[a("el-button",{attrs:{size:"large",type:"primary"},on:{click:e.submit}},[e._v("分析")])],1)],1)],2)],1)},staticRenderFns:[]};var ja={components:{"v-line":a("/Xao")({props:["data","HX","WX","name"],data:function(){return this.chartSettings={xAxisName:[this.name]},this.extend={series:{type:"line",smooth:!1,showAllSymbol:!0,symbolSize:[5,5],lineStyle:{normal:{color:"rgb(25,212,174)"}},itemStyle:{normal:{borderWidth:2}}},tooltip:{},xAxis:{nameLocation:"middle",nameTextStyle:{color:"#666",fontSize:15,padding:[5,30],backgroundColor:"#ddd",borderWidth:1,borderRadius:8},axisLabel:{interval:"auto"},axisLine:{show:!0,lineStyle:{color:"rgb(102,102,102)"}},axisTick:{show:!0,lineStyle:{color:"rgb(102,102,102)"}}},yAxis:{position:"left",axisLine:{show:!0,lineStyle:{color:"rgb(102,102,102)"}},axisTick:{show:!0,lineStyle:{color:"rgb(102,102,102)"}}}},{backgroundColor:"rgb(243,243,243)",grid:{right:40,top:5,bottom:this.name?"40":"20",left:20}}},computed:{height:function(){return this.HX-80+"px"},width:function(){return this.WX}},watch:{HX:function(){this.$refs.lineX.echarts.resize()},WX:function(){this.$refs.lineX.echarts.resize()}},mounted:function(){this.$refs.lineX.echarts.resize()},beforeDestroy:function(){this.$refs.lineX.echarts.clear()}},za,!1,function(e){a("Quwr")},null,null).exports,"v-folder":mt,"v-pdf":Na,"v-pdf-info":ya,"v-control-info":a("/Xao")(Ea,Pa,!1,function(e){a("ZJ3P")},null,null).exports,"v-empty":pa},data:function(){var e;return e={controlLoading:!0,dialogAttachVisible:!1,showPdf:!1,selectePanel:{},recentInfo:{},pdfInfo:{},spcId:"",panels:[{icon:"info",modelName:"控制信息",modelType:"1"}],layout:[],configData:{spcTaskName:""},fullLoading:null,LOADING:{lock:!0,text:"需要几秒钟,加载中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.6)"},size:{},pp:{columns:["x","pp"],rows:[]},controlInfo:[]},It()(e,"size",{}),It()(e,"variableStats",{}),It()(e,"variableArrJl",["numGroup","avg","averageFirst","averageSecond","stdDevLong","stdDevShort","sigma","ppk","pp","ca","cpk","cp","cpm","cpmk","ppm","ppmk","dpmoShort","dpmoLong","sigmaShor","sigmaLong","zBenchShort","zBenchLong"]),It()(e,"variableArrJs",["avgN","avgP","defectiveLower","defectiveUpper","dpmo","dpmoLower","dpmoUpper","numDefective","numGroup","numTotal","percentDefective","sigmaLevel","target","zBench","zBenchLower","zBenchUpper"]),It()(e,"hasParameterForSql",{}),It()(e,"controlLoading",!0),e},methods:{changeValue:function(e){var t=e.data.split(";").slice(0,-1);this.controlInfo[e.index][e.key].parameterValueArr=t},init:function(){var e=this;this.variableArr.forEach(function(t,a){e.$set(e.variableStats,t,{columns:["x",t],rows:[]}),a>0&&(e.$set(e.size,"W"+a,"100%"),e.$set(e.size,"H"+a,"400")),e.panels.push({icon:"line",modelName:t,modelType:a+2})})},showAddPanel:function(e){if(0==e){var t=!1;this.layout.length>0&&this.layout.forEach(function(e){0==e.modelType&&(t=!0)}),t&&0!=this.layout.length||this.layout.unshift({x:0,y:0,w:500,h:23,i:"0",modelName:"Panel",modelType:0})}else{var a=-1;this.layout.length>0&&this.layout.forEach(function(e,t){0==e.modelType&&(a=t)}),this.layout.splice(a,1)}},deleteGridItem:function(e){var t=this;this.$confirm("确定删除面板"+e.modelName+"?","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning"}).then(function(){var a=e.modelType,s=void 0;t.layout.forEach(function(e,r){e.modelType==a&&(s=r,t.panels.forEach(function(e){Math.abs(e.modelType)==Math.abs(a)&&(e.modelType=Math.abs(e.modelType))}))}),t.layout.splice(s,1)}).catch(function(){})},addGridItem:function(e){var t=null;this.panels.forEach(function(a){a.modelType==e.modelType&&(t=Z()({},a),a.modelType=-a.modelType)});var a;a=this.layout.sort(Object(Me.firstBy)(function(e){return e.y}).thenBy("x")).slice(-1)[0].y+1,t.x=0,t.y=a,t.w=1e3,t.h=20,t.i=t.modelType,this.layout.push(t),this.showAddPanel(-1)},layoutUpdatedEvent:function(e){},resize:function(e,t,a,s,r){this.size["W"+e]=r-20+"px",this.size["H"+e]=s},resized:function(e,t,a,s,r){this.layout.forEach(function(t){t.modelType==e&&(t.WPx=r-20,t.HPx=s)}),We({spcTaskId:this.spcTaskId,dashboard:this.layout})},config:function(){this.$router.push("/spc/process/config/"+this.spcId)},pdf:function(){},updatePanel:function(){var e=this;We({spcTaskId:this.spcId,dashboard:this.layout}).then(function(t){200==t.code?e.$message.success(t.message):e.$message.error(t.message)})},getSpcDetail:function(){var e=this;Je({spcTaskId:this.spcId}).then(function(t){if(200==t.code)if(e.configData=t.data,t.data.configDataanalysisId&&e.getControlInfo(t.data.configDataanalysisId),e.init(),t.data.dashboard&&JSON.parse(t.data.dashboard)&&JSON.parse(t.data.dashboard)instanceof Array){var a=JSON.parse(t.data.dashboard);e.layout=a,a.length>0&&a.forEach(function(t,a){t.HPx&&(e.size["H"+t.modelType]=t.HPx,e.size["W"+t.modelType]="100%"),e.panels.forEach(function(e){t.modelType==e.modelType&&(e.modelType=-Math.abs(e.modelType))})}),e.layout.length>0?0==e.layout[0].modelType&&e.layout[0].modelType:e.layout.push({x:0,y:0,w:500,h:23,i:"0",modelName:"Panel",modelType:0})}else e.layout=[{x:0,y:0,w:500,h:23,i:"0",modelName:"Panel",modelType:0}];else e.$message.error(t.message)})},getProcessView:function(e){var t,a=this;this.fullLoading=this.$loading(this.LOADING),this.recentInfo=e,(t=m()({spcTaskId:this.spcId},e),pe({url:"spc/task/viewer/trendView",method:"post",data:t})).then(function(e){if(a.fullLoading.close(),200==e.code){var t="";1==a.configData.calculationType?t="variableStats":2==a.configData.calculationType&&(t="attributeStats"),e.data.length>0&&e.data.forEach(function(e,s){for(var r in e[t])a.variableStats[r]&&isFinite(e[t][r])&&a.variableStats[r].rows.push(It()({x:s+1},r,e[t][r]))})}else a.$message.error(e.message)})},showPdfPanel:function(e){var t=this;this.pdfInfo=e,this.panels.forEach(function(e){e.modelType>0?t.selectePanel[e.modelType]=!1:t.selectePanel[Math.abs(e.modelType)]=!0}),this.dialogAttachVisible=!1,this.showPdf=!0},getControlInfo:function(e){var t=this;Ke({configDataanalysisId:e}).then(function(e){if(200==e.code){t.controlLoading=!1;var a=[];e.data.length>0&&e.data.forEach(function(e){if(a[e.sqlIndex]||(a[e.sqlIndex]={}),(1==e.parameterValueType||4==e.parameterValueType)&&e.parameterValue)if(4==e.parameterValueType&&e.parameterValue.indexOf("@")>=0){var s=e.parameterValue.match(/@.+?\s+/g);t.$set(t.hasParameterForSql,e.sqlIndex,{}),t.hasParameterForSql[e.sqlIndex][e.sectionValue]={source:s.map(function(e){return e.trim()}),target:e},e.sql=e.parameterValue,e.parameterValue="",e.parameterValueArr=[]}else e.parameterValueArr=e.parameterValue.split(";"),4==e.parameterValueType&&e.parameterValueArr.length>0&&e.parameterValueArr.pop(),e.parameterValue="";e.sectionStart||e.sectionOff?a[[e.sqlIndex]][e.sectionValue]?(e.sectionStart&&(a[e.sqlIndex][e.sectionValue].start=Z()({},e)),e.sectionOff&&(a[e.sqlIndex][e.sectionValue].off=Z()({},e))):(a[e.sqlIndex][e.sectionValue]={start:{},off:{}},e.sectionStart&&(a[e.sqlIndex][e.sectionValue].start=Z()({},e)),e.sectionOff&&(a[e.sqlIndex][e.sectionValue].off=Z()({},e))):a[e.sqlIndex][e.sectionValue]=e}),t.controlInfo=Z()({},a)}else t.$message.error(e.message)})}},computed:{variableArr:function(){return 1==this.configData.calculationType?this.variableArrJl:2==this.configData.calculationType?this.variableArrJs:[]}},created:function(){this.spcId=this.$route.params.spc_id,this.getSpcDetail()},beforeDestroy:function(){this.fullLoading&&this.fullLoading.close()}},Va={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticStyle:{"border-bottom":"1px solid #dcdfe6",padding:"5px 20px"}},[a("el-col",{staticStyle:{"font-size":"20px"},attrs:{span:10}},[e._v("\n                 \n                    "),a("el-button",{attrs:{type:"text"},on:{click:function(t){e.$store.commit("SET_TASK",!0)}}},[a("i",{staticClass:"el-icon-menu el-icon--left"}),e._v(e._s(e.configData.spcTaskName)),a("i",{staticClass:"el-icon-caret-bottom el-icon--right"})])],1),e._v(" "),e.$store.getters.userRole<4?a("el-col",{staticClass:"text-right",attrs:{span:14}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"添加面板",placement:"top-start"}},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.showAddPanel("0")}}},[a("i",{staticClass:"el-icon-plus",staticStyle:{"font-size":"20px"}})])],1),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"保存",placement:"top-start"}},[a("el-button",{attrs:{size:"mini"},on:{click:e.updatePanel}},[a("svg-icon",{staticStyle:{"font-size":"20px"},attrs:{"icon-class":"save"}})],1)],1),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"配置",placement:"top-start"}},[a("el-button",{attrs:{size:"mini"},on:{click:e.config}},[a("svg-icon",{staticStyle:{"font-size":"20px"},attrs:{"icon-class":"setting"}})],1)],1),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"刷新",placement:"top-start"}},[a("el-button",{attrs:{size:"mini"},on:{click:e.getProcessView}},[a("svg-icon",{staticStyle:{"font-size":"20px"},attrs:{"icon-class":"refresh"}})],1)],1),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"PDF",placement:"top-start"}},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.dialogAttachVisible=!0}}},[a("svg-icon",{staticStyle:{"font-size":"20px"},attrs:{"icon-class":"pdf"}})],1)],1)],1):e._e()],1),e._v(" "),a("div",{staticClass:"app-container Panel",attrs:{id:"noSelect"}},[a("grid-layout",{attrs:{id:"pdf",layout:e.layout,"col-num":1e3,"row-height":10},on:{"update:layout":function(t){e.layout=t},"layout-updated":e.layoutUpdatedEvent}},[e._l(e.layout,function(t){return[0==t.modelType?a("grid-item",{key:t.i,attrs:{x:t.x,y:t.y,w:t.w,h:t.h,i:t.i,isDraggable:!1}},[a("div",{staticStyle:{height:"100%",background:"#ddd"}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"100%"}},[a("div",{staticStyle:{overflow:"hidden"},attrs:{slot:"header"},slot:"header"},[a("el-button",{staticStyle:{float:"right",padding:"4px"},attrs:{type:"text"},on:{click:function(t){e.showAddPanel("-1")}}},[a("i",{staticClass:"el-icon-close"})])],1),e._v(" "),a("el-row",{staticClass:"detailPanel",staticStyle:{cursor:"default"},attrs:{gutter:20}},e._l(e.panels,function(t){return a("el-col",{directives:[{name:"show",rawName:"v-show",value:t.modelType>0,expression:"panel.modelType>0 \n                                "}],key:t.modelName+"_"+t.modelType,staticStyle:{"margin-bottom":"20px",cursor:"pointer"},attrs:{span:6}},[a("el-card",{staticClass:"text-center",attrs:{"body-style":{padding:"10px"}}},[a("div",{on:{click:function(a){e.addGridItem(t)}}},[a("svg-icon",{staticStyle:{"font-size":"40px"},attrs:{"icon-class":t.icon}}),e._v(" "),a("div",{staticStyle:{padding:"10px"}},[e._v("\n                                            "+e._s(t.modelName)+"\n                                        ")])],1)])],1)}))],1)],1)]):"1"==t.modelType?a("grid-item",{key:t.i,attrs:{x:t.x,y:t.y,w:t.w,h:t.h,i:t.i,dragAllowFrom:"div.header"},on:{resize:e.resize,resized:e.resized}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"100%",width:"100%"}},[a("div",{staticClass:"text-center header",staticStyle:{"font-size":"16px","line-height":"22px"},attrs:{slot:"header"},slot:"header"},[e._v("\n                       "+e._s(t.modelName)+"\n                       "),a("el-button",{staticStyle:{float:"right",padding:"8px",position:"relative",top:"-4px"},attrs:{type:"text"},on:{click:function(a){e.deleteGridItem(t)}}},[a("i",{staticClass:"el-icon-close"})])],1),e._v(" "),a("v-control-info",{attrs:{controlInfo:e.controlInfo,show:!0,sqlDes:e.configData.configDataanalysis.sqlDes,hasParameterForSql:e.hasParameterForSql,controlLoading:e.controlLoading},on:{view:e.getProcessView,loading:function(t){e.controlLoading=t},changevalue:e.changeValue}})],1)],1):a("grid-item",{key:t.i,attrs:{x:t.x,y:t.y,w:t.w,h:t.h,i:t.i,dragAllowFrom:"div.header"},on:{resize:e.resize,resized:e.resized}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"100%",width:"100%"}},[a("div",{staticClass:"text-center header",staticStyle:{"font-size":"16px","line-height":"22px"},attrs:{slot:"header"},slot:"header"},[e._v("\n                       "+e._s(t.modelName)+"\n                       "),a("el-button",{staticStyle:{float:"right",padding:"8px",position:"relative",top:"-4px"},attrs:{type:"text"},on:{click:function(a){e.deleteGridItem(t)}}},[a("i",{staticClass:"el-icon-close"})])],1),e._v(" "),e.variableStats[t.modelName]&&e.variableStats[t.modelName].rows.length>0?a("v-line",{attrs:{data:e.variableStats[t.modelName],HX:e.size["H"+t.modelType],WX:e.size["W"+t.modelType]}}):a("v-empty")],1)],1)]})],2)],1),e._v(" "),a("v-folder",{directives:[{name:"show",rawName:"v-show",value:e.$store.getters.showFolderTask,expression:"$store.getters.showFolderTask"}]}),e._v(" "),a("div",{staticClass:"Dialog"},[a("el-dialog",{attrs:{title:"辅助及原因追查",visible:e.dialogAttachVisible,width:"700px"},on:{"update:visible":function(t){e.dialogAttachVisible=t}}},[e.dialogAttachVisible?a("v-pdf-info",{attrs:{pdfInfo:{}},on:{close:function(t){e.dialogAttachVisible=!1},"show-pdf":e.showPdfPanel}}):e._e()],1)],1),e._v(" "),a("v-pdf",{attrs:{showPdf:e.showPdf,name:e.configData.spcTaskName,panel:e.selectePanel},on:{close:function(t){e.showPdf=!1}}},[a("v-pdf-info",{attrs:{slot:"100",pdfInfo:e.pdfInfo},slot:"100"}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.selectePanel[1],expression:"selectePanel[1]"}],staticStyle:{border:"1px solid #999",padding:"20px 20px 20px 0"},attrs:{slot:"1"},slot:"1"},[a("v-control-info",{attrs:{controlInfo:e.controlInfo,show:!1,recentInfo:e.recentInfo},on:{view:e.getProcessView}})],1),e._v(" "),e._l(e.panels,function(t,s){return Math.abs(t.modelType)>1?[a("v-line",{directives:[{name:"show",rawName:"v-show",value:e.selectePanel[Math.abs(t.modelType)],expression:"selectePanel[Math.abs(panel.modelType)]"}],key:"modelType"+t.modelType,style:{"margin-top":0==s?"-20px":""},attrs:{slot:Math.abs(t.modelType),data:e.variableStats[t.modelName],name:t.modelName,HX:"400",WX:"100%"},slot:Math.abs(t.modelType)})]:e._e()})],2)],1)},staticRenderFns:[]},Oa=a("/Xao")(ja,Va,!1,null,null,null).exports,qa={components:{"v-folder":mt,"v-ruleline":gt},data:function(){return{ruleNumber:"",content:"",n:"",m:"",activeName:"first",ruleLoading:!1,updateLoading:!1,updatePyLoading:!1,showChangePy:!1,selectedPy:{},changePyForm:{n:"",m:"",k:""},selectedPyIndex:"",spcTaskId:"",allRecentGroups:!1,graphType:"",graphTypes:[{label:"X-R",value:1,type:1},{label:"X-S",value:2,type:1},{label:"me-R",value:3,type:1},{label:"X-MR",value:4,type:1},{label:"P",value:5,type:2},{label:"np",value:6,type:2},{label:"c",value:7,type:2},{label:"u",value:8,type:2}],Form:{spcTaskId:"",configDataanalysisId:"",spcTaskName:"",controlGraph:"",decimalDigits:"",recentGroups:"",usl:"",lsl:"",targetValue:"",groupNum:"",moveRange:"",comment:""},rules:{spcTaskName:[{required:!0,message:"请填写任务名称",trigger:"change,blur"}],controlGraph:[{required:!0,message:"请选择管制图形",trigger:"change,blur"}],configDataanalysisId:[{required:!0,message:"请选择数据分析",trigger:"change"}],usl:[{validator:this.uslValidator,trigger:"change,blur"}],lsl:[{validator:this.lslValidator,trigger:"change,blur"}],targetValue:[{validator:this.targetValidator,trigger:"change,blur"}],moveRange:[{required:!0,message:"请填写移动距离",trigger:"change,blur"},{type:"number",min:2,max:3,message:"移动距离必须为数字2或3",trigger:"change,blur"}],groupNum:[{required:!0,message:"请填写子组容量",trigger:"change,blur"},{type:"number",min:2,max:25,message:"子组容量必须为数字",trigger:"change,blur"}]},dsList:[],pyNum:[{ruleNumber:1,n:"1"},{ruleNumber:2,n:"9"},{ruleNumber:3,n:"6"},{ruleNumber:4,n:"14"},{ruleNumber:5,n:"3",m:"2"},{ruleNumber:6,n:"5",m:"4"},{ruleNumber:7,n:"15"},{ruleNumber:8,n:"8"}],multipleSelection:[],ruleList:[],filterRuleList:[],LOADING:{lock:!0,text:"修改中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.6)"},fullLoading:null}},methods:{getDsList:function(){var e=this;Ce().then(function(t){200==t.code?e.dsList=t.data.list:e.$message.error(t.message)})},selectRules:function(e,t){var a=this,s=Z()({},this.filterRuleList[t.ruleNumber-1]);s.enable=-s.enable,this.fullLoading=this.$loading(this.LOADING),Ze(s).then(function(e){a.fullLoading.close(),200==e.code&&(a.filterRuleList[t.ruleNumber-1].enable=-a.filterRuleList[t.ruleNumber-1].enable)})},selectAllRules:function(e){var t=[];e.length>0?this.filterRuleList.forEach(function(e){var a=Z()({},e);a.enable=Math.abs(a.enable),t.push(a)}):0==e.length&&this.filterRuleList.forEach(function(e){var a=Z()({},e);a.enable=-Math.abs(a.enable),t.push(a)});var a=[];t.forEach(function(e){a.push(Ze(e))})},rowDbclick:function(e){this.showChangePy=!0;var t=this.pyNum[e.$index];for(var a in t)"ruleNumber"!=a&&(t[a]=e.row[a]);this.selectedPy=Z()({},t),this.selectedPyIndex=e.$index},cancelChangePy:function(){this.showChangePy=!1},changePy:function(){var e=this,t=this.filterRuleList[this.selectedPyIndex],a=Z()({},t,this.selectedPy);this.fullLoading=this.$loading(this.LOADING),Ze(a).then(function(t){e.fullLoading.close(),200==t.code?(e.showChangePy=!1,e.filterRuleList.splice(e.selectedPyIndex,1,a),e.$message.success(t.message),e.n=a.n,e.m=a.m,e.content=a.content.replace("n",a.n).replace("m",a.m),e.ruleNumber=a.ruleNumber):e.$message.error(t.message)})},setGraphType:function(e){this.Form.controlGraph="";var t=void 0;this.$refs.graph.clearValidate(),e&&(t=this.dsList.filter(function(t){return t.configDataanalysisId==e}),this.graphType=t[0].calculationType)},submit:function(){var e=this;this.Form.decimalDigits=2,this.$refs.general.validate(function(t){t?e.$refs.graph.validate(function(t){if(t)if(1==e.graphType){if(!e.Form.usl&&!e.Form.lsl)return e.$message.warning("规格上限和规格下线必须填写一个"),!1;e.updateLoading=!0,We(e.Form).then(function(t){e.updateLoading=!1,200==t.code?e.$message.success(t.message):e.$message.error(t.message)})}else e.updateLoading=!0,We(e.Form).then(function(t){e.updateLoading=!1,200==t.code?e.$message.success(t.message):e.$message.error(t.message)});else e.$message.warning("请检查控制图参数填写是否完整")}):e.$message.warning("请检查基本信息填写是否完整")})},pySubmit:function(){var e=void 0;1==this.graphType?(e=Z()({},this.pyNum)).spcTaskId=this.spcTaskId:2==this.graphType&&((e=Z()({},this.pyNum1)).spcTaskId=this.spcTaskId),spcRulesCreate(e).then(function(e){})},recentGroupslValidator:function(e,t,a){if(t){var s=/^[1-9]+[0-9]*$/;s.test(t)?a():a(new Error("最近组数只能是>0的整数"))}else a()},decimalDigitslValidator:function(e,t,a){if(t){/^[0-6]$/.test(t)?a():a(new Error("小数位数只能0-6的整数"))}else a()},uslValidator:function(e,t,a){if(t){var s=/^(?!(0[0-9]{0,}$))[0-9]{1,}[.]{0,}[0-9]{0,}$/;s.test(t)&&"number"==typeof t&&t>0?this.Form.lsl&&t<=this.Form.lsl?a(new Error("规格上限必须大于规格下限")):this.Form.targetValue&&t<=this.Form.targetValue?a(new Error("规格上限必须大于目标值")):a():a(new Error("规格上限只能是>0的数字"))}else a()},lslValidator:function(e,t,a){if(t){/^(?!(0[0-9]{0,}$))[0-9]{1,}[.]{0,}[0-9]{0,}$/.test(t)&&t>0?this.Form.usl&&t>=this.Form.usl?a(new Error("规格下限必须小于规格上限")):this.Form.targetValue&&t>=this.Form.targetValue?a(new Error("规格下限必须小于目标值")):a():a(new Error("规格下限只能是>0的数字"))}else a()},targetValidator:function(e,t,a){if(t){/^(?!(0[0-9]{0,}$))[0-9]{1,}[.]{0,}[0-9]{0,}$/.test(t)&&t>0?this.Form.usl&&t>=this.Form.usl?a(new Error("目标值必须小于规格上限")):this.Form.lsl&&t<=this.Form.lsl?a(new Error("目标值必须大于规格下限")):a():a(new Error("目标值只能是>0的数字"))}else a()},getSpctaskDetail:function(){var e=this;Je({spcTaskId:this.spcTaskId}).then(function(t){200==t.code?(t.data.controlGraph&&(t.data.controlGraph>0&&t.data.controlGraph<5?e.graphType=1:t.data.controlGraph>4&&t.data.controlGraph<9&&(e.graphType=2)),e.Form=Z()({},e.Form,t.data),e.$refs.general.clearValidate(),e.getRuleList()):e.$message.error(t.message)})},getRuleList:function(){var e=this;Ye({spcTaskId:this.spcTaskId}).then(function(t){200==t.code?(e.ruleList=t.data,e.filterRules(Number(e.Form.controlGraph))):e.$message.error(t.message)})},filterRules:function(e){var t=this;[5,6,7,8].indexOf(e,0)>=0?this.filterRuleList=this.ruleList.slice(0,4):[1,2,3,4].indexOf(e,0)>=0&&(this.filterRuleList=this.ruleList.slice()),this.filterRuleList.length>0&&this.filterRuleList.forEach(function(e){1==e.enable&&t.$refs.multipleTable.toggleRowSelection(e,!0)})},back:function(){this.$router.push("/spc/process/detail/"+this.spcTaskId)},allGrouop:function(){this.allRecentGroups?this.Form.recentGroups=1e5:1e5==this.Form.recentGroups&&(this.Form.recentGroups=1)},chartDes:function(e){this.n=e.n,this.m=e.m,this.content=e.content.replace("n",e.n).replace("m",e.m),this.ruleNumber=e.ruleNumber}},computed:{jljs:function(){return[5,6,7,8].indexOf(this.Form.controlGraph,0)>=0?"js":[1,2,3,4].indexOf(this.Form.controlGraph,0)>=0?"jl":void 0},LABEL:function(){return["不良率上限","不良率上限","缺陷率上限","缺陷率上限"][Number(this.Form.controlGraph)-5]},filterPyData:function(){var e=[];return[5,6,7,8].indexOf(this.Form.controlGraph,0)>=0?e=this.ruleList.slice(0,4):[1,2,3,4].indexOf(this.Form.controlGraph,0)>=0&&(e=this.ruleList.slice()),e.length,e},judgeSelect:function(){var e=[];return this.filterRuleList.length>0&&this.filterRuleList.forEach(function(t){1==t.enable&&e.push(t.ruleNumber)}),e},filterDsList:function(){var e=this;return this.dsList.length>0?this.dsList.filter(function(t){return t.calculationType==e.Form.calculationType&&t.projectType==e.Form.analysisMethod}):[]}},watch:{"Form.controlGraph":function(){this.rules.groupNum=[{required:1==this.graphType,message:"请填写子组容量",trigger:"change,blur"},{validator:function(e,t,a){if(t){for(var s=[],r=2;r<=25;r++)s.push(r);-1==s.indexOf(t)&&a(new Error("子组容量是2-25的整数")),a()}else a()},trigger:"change,blur"}],1==this.graphType&&this.rules.groupNum.push({type:"number",min:1,max:25,message:"子组容量必须为1-25的整数",trigger:"change,blur"}),1==this.graphType?(this.rules.usl=[{validator:this.uslValidator,trigger:"change,blur"}],this.rules.lsl.push({validator:this.lslValidator,trigger:"change,blur"}),this.rules.targetValue.push({validator:this.targetValidator,trigger:"change,blur"}),4==this.Form.controlGraph?this.rules.moveRange=[{required:!0,message:"请填写移动距离",trigger:"change,blur"},{type:"number",min:2,max:3,message:"移动距离必须为数字2或3",trigger:"change,blur"}]:this.rules.moveRange=[]):(this.rules.usl=[{required:!0,message:"请填写"+["不良率上限","不良率上限","缺陷率上限","缺陷率上限"][Number(this.Form.controlGraph)-5],trigger:"change,blur"},{type:"number",message:["不良率上限","不良率上限","缺陷率上限","缺陷率上限"][Number(this.Form.controlGraph)-5]+"必须为数字",trigger:"change,blur"}],this.rules.lsl=[],this.rules.targetValue=[],this.rules.moveRange=[])},"Form.recentGroups":function(){1e5==this.Form.recentGroups?this.allRecentGroups=!0:this.allRecentGroups=!1}},created:function(){this.spcTaskId=this.$route.params.spc_id,this.getSpctaskDetail(),this.getDsList()}},Ba={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{directives:[{name:"show",rawName:"v-show",value:!e.$store.getters.showFolderTask,expression:"!$store.getters.showFolderTask"}],staticStyle:{"border-bottom":"1px solid #dcdfe6",padding:"5px 20px",position:"fixed",top:"0",left:"66px",right:"0px","z-index":"999",background:"#fff"}},[a("el-col",{staticStyle:{"font-size":"20px"},attrs:{span:10}},[e._v("\r\n                 \r\n                "),a("el-button",{attrs:{type:"text"},on:{click:function(t){e.$store.commit("SET_TASK",!0)}}},[a("i",{staticClass:"el-icon-menu el-icon--left"}),e._v(e._s(e.Form.spcTaskName)),a("i",{staticClass:"el-icon-caret-bottom el-icon--right"})])],1),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:14}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.back}},[a("svg-icon",{staticStyle:{"font-size":"20px"},attrs:{"icon-class":"back"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"app-container"},[a("el-row",{staticClass:"vertical-tabs"},[a("el-col",{staticStyle:{position:"relative"},attrs:{xs:{span:20,offset:2},sm:{span:18,offset:3},md:{span:16,offset:4},lg:{span:16,offset:4},xl:{span:16,offset:4}}},[a("el-button",{staticStyle:{position:"absolute",left:"20px",top:"260px","z-index":"99"},attrs:{type:"primary",size:"small",loading:e.updateLoading},on:{click:e.submit}},[e._v("保存")]),e._v(" "),a("el-tabs",{staticStyle:{"margin-top":"50px"},style:{"min-height":e.$Height()-100+"px"},attrs:{type:"border-card","tab-position":"left"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"first"}},[a("el-form",{ref:"general",staticClass:"Form m-t",attrs:{"label-position":"right","label-width":"120px",model:e.Form,rules:e.rules,size:"mini"}},[a("el-col",{attrs:{span:22}},[a("el-form-item",{attrs:{label:"任务名称 :",prop:"spcTaskName"}},[a("el-input",{model:{value:e.Form.spcTaskName,callback:function(t){e.$set(e.Form,"spcTaskName",t)},expression:"Form.spcTaskName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"任务描述 :"}},[a("el-input",{model:{value:e.Form.comment,callback:function(t){e.$set(e.Form,"comment",t)},expression:"Form.comment"}})],1)],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"分析配置",name:"second"}},[a("el-form",{ref:"graph",staticClass:"Form m-t",attrs:{"label-position":"right","label-width":"120px",model:e.Form,rules:e.rules,size:"mini"}},[a("el-row",{staticStyle:{overflow:"hidden"}},[a("div",[a("el-col",{staticClass:"setting",attrs:{span:22}},[a("el-form-item",{attrs:{label:"数据分析 :",prop:"configDataanalysisId"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择数据分析"},model:{value:e.Form.configDataanalysisId,callback:function(t){e.$set(e.Form,"configDataanalysisId",t)},expression:"Form.configDataanalysisId"}},e._l(e.filterDsList,function(t){return a("el-option",{key:t.configDataanalysisId,attrs:{label:t.configDataanalysisName,value:t.configDataanalysisId}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.configDataanalysisName))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#999","font-size":"12px"}},[e._v(e._s(["计量","计数","MSA"][t.calculationType-1]))])])}))],1),e._v(" "),a("el-form-item",{attrs:{label:"管制图形 :"}},[a("el-select",{attrs:{clearable:""},on:{change:e.filterRules},model:{value:e.Form.controlGraph,callback:function(t){e.$set(e.Form,"controlGraph",t)},expression:"Form.controlGraph"}},e._l(e.graphTypes,function(t){return a("el-option",{key:t.label+"_"+t.value,attrs:{label:t.label,value:t.value,disabled:!(t.type==e.graphType)}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!(t.type==e.graphType),expression:"!(graph.type==graphType)"}],staticStyle:{float:"right",color:"#999","font-size":"12px"}},[a("i",{staticClass:"el-icon-close"})])])}))],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.Form.controlGraph,expression:"Form.controlGraph"}],attrs:{label:1==e.graphType?"规格上限":e.LABEL+":",prop:"usl"}},[a("el-input",{model:{value:e.Form.usl,callback:function(t){e.$set(e.Form,"usl",e._n(t))},expression:"Form.usl"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"jl"==e.jljs,expression:"jljs=='jl'"}],attrs:{label:"规格下限 :",prop:"lsl"}},[a("el-input",{model:{value:e.Form.lsl,callback:function(t){e.$set(e.Form,"lsl",e._n(t))},expression:"Form.lsl"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"jl"==e.jljs,expression:"jljs=='jl'"}],attrs:{label:"目标值 :",prop:"targetValue"}},[a("el-input",{model:{value:e.Form.targetValue,callback:function(t){e.$set(e.Form,"targetValue",e._n(t))},expression:"Form.targetValue"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"jl"==e.jljs,expression:"jljs=='jl'"}],attrs:{label:"子组容量 :",prop:"groupNum"}},[a("el-input",{attrs:{placeholder:"请填写2-25的整数"},model:{value:e.Form.groupNum,callback:function(t){e.$set(e.Form,"groupNum",e._n(t))},expression:"Form.groupNum"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"jl"==e.jljs&&4==e.Form.controlGraph,expression:"jljs=='jl' && Form.controlGraph==4"}],attrs:{label:"移动距离 :",prop:"moveRange"}},[a("el-input",{attrs:{placeholder:"只能填写 2 或 3"},model:{value:e.Form.moveRange,callback:function(t){e.$set(e.Form,"moveRange",e._n(t))},expression:"Form.moveRange"}})],1)],1)],1)])],1),e._v(" "),a("el-form",{staticClass:"Form",attrs:{"label-position":"right","label-width":"120px"}},[a("el-row",[a("el-col",{attrs:{span:22}},[a("el-form-item",{attrs:{label:"判异配置 :"}},[a("div",{staticClass:"Table SPC_Table",staticStyle:{position:"relative"}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%",overflow:"hidden"},attrs:{data:e.filterRuleList,"tooltip-effect":"dark",border:"",size:"mini","row-key":"ruleNumber","empty-text":"请先选择管制图形"},on:{select:e.selectRules,"select-all":e.selectAllRules}},[a("el-table-column",{attrs:{type:"selection","reserve-selection":!0,align:"center",width:"30px"}}),e._v(" "),a("el-table-column",{attrs:{label:"编号",prop:"ruleNumber",align:"center",width:"50px"}}),e._v(" "),a("el-table-column",{attrs:{label:"现行规则","min-width":"10px","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n                                                    "+e._s(t.row.content.replace("n",t.row.n).replace("m",t.row.m))+"\r\n                                                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"content",label:"规则依据","min-width":"10px","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150px",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:-1==e.judgeSelect.indexOf(t.row.ruleNumber)?"info":"primary",disabled:-1==e.judgeSelect.indexOf(t.row.ruleNumber)},on:{click:function(a){e.rowDbclick(t)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:e.ruleNumber==t.row.ruleNumber?"success":"info",plain:""},on:{click:function(a){e.chartDes(t.row)}}},[a("svg-icon",{attrs:{"icon-class":"line-chart"}})],1)]}}])})],1),e._v(" "),a("div",{staticStyle:{"z-index":"10",position:"absolute",width:"25px",height:"25px",top:"10px",left:"4px","text-align":"center",background:"rgb(245,246,250)"}},[e._v("\r\n                                                    #\r\n                                                ")])],1)]),e._v(" "),a("el-form-item",["second"==e.activeName?a("v-ruleline",{attrs:{ruleNumber:e.ruleNumber,content:e.content,n:e.n,m:e.m}}):e._e()],1)],1)],1)],1)],1)],1)],1)],1)],1),e._v(" "),a("el-dialog",{staticClass:"dialog setting-form",attrs:{"close-on-click-modal":!1,visible:e.showChangePy,"show-close":!1,width:"300px"},on:{"update:visible":function(t){e.showChangePy=t}}},[a("el-form",{staticClass:"Form",attrs:{"label-position":"right","label-width":"40px",size:"mini"}},e._l(e.selectedPy,function(t,s,r){return"ruleNumber"!==s?a("el-form-item",{key:r+"_"+e.graphType+"_",attrs:{label:"["+s+"] ="}},[a("el-input",{model:{value:e.selectedPy[s],callback:function(t){e.$set(e.selectedPy,s,t)},expression:"selectedPy[k]"}})],1):e._e()})),e._v(" "),a("div",{staticStyle:{"border-top":"1px solid #ebeef5","margin-top":"20px","text-align":"center","padding-top":"20px","margin-bottom":"-10px"}},[a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"mini",loading:e.ruleLoading},on:{click:e.changePy}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:e.cancelChangePy}},[e._v("取消")])],1)])],1),e._v(" "),a("v-folder",{directives:[{name:"show",rawName:"v-show",value:e.$store.getters.showFolderTask,expression:"$store.getters.showFolderTask"}]})],1)},staticRenderFns:[]},Ua=a("/Xao")(qa,Ba,!1,null,null,null).exports;function Ha(e){return pe({url:"msa/task/editor/update",method:"post",data:e})}function Ga(e){return pe({url:"msa/task/viewer/detail",method:"post",params:e})}function Xa(e){return pe({url:"msa/task/abnormal/rules/viewer/list",method:"post",params:e})}function Wa(e){return pe({url:"msa/task/abnormal/rules/editor/update",method:"post",data:e})}var Ja={data:function(){return{loadingSave:!1,Form:{folderId:"",msaTaskName:""},rules:{folderId:[{required:!0,message:"请选择文件夹",trigger:"change,blur"}],msaTaskName:[{required:!0,message:"请填写任务名称",trigger:"change,blur"}]},folderList:[]}},methods:{getFolderList:function(){var e=this;Ge().then(function(t){200==t.code?e.folderList=t.data.list:e.$message.error(t.message)})},submit:function(){var e=this;this.$refs.msa.validate(function(t){if(t){var a=k();a?(e.loadingSave=!0,(s=Z()({},e.Form,{createbyUserId:Number(a)}),pe({url:"msa/task/editor/add",method:"post",data:s})).then(function(t){e.loadingSave=!1,200==t.code?(e.$router.push("/msa/detail/"+t.data.msaTaskId),e.$message.success("创建MSA任务成功")):e.$message.error(t.message)})):(w(),e.$router.replace("/login"),e.$message.error("用户信息获取失败，请重新登录"))}var s})}},created:function(){this.getFolderList()}},Ya={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticStyle:{"border-bottom":"1px solid #dcdfe6",padding:"5px 20px"}},[a("el-col",{staticClass:"text-right",attrs:{span:24}},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.$router.go(-1)}}},[a("svg-icon",{staticStyle:{"font-size":"20px"},attrs:{"icon-class":"back"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"app-container "},[a("el-row",[a("el-col",{attrs:{xs:{span:20,offset:2},sm:{span:18,offset:3},md:{span:16,offset:4},lg:{span:16,offset:4},xl:{span:16,offset:4}}},[a("el-tabs",{attrs:{type:"border-card"}},[a("div",{staticClass:"m-t"},[a("el-form",{ref:"msa",staticClass:"Form",attrs:{"label-position":"right","label-width":"120px",model:e.Form,rules:e.rules,size:"mini"}},[a("el-row",{staticStyle:{overflow:"hidden"}},[a("div",[a("el-col",{staticClass:"setting",attrs:{span:22}},[a("el-form-item",{attrs:{label:"文件夹名称 :",prop:"folderId"}},[a("el-select",{model:{value:e.Form.folderId,callback:function(t){e.$set(e.Form,"folderId",t)},expression:"Form.folderId"}},e._l(e.folderList,function(e){return a("el-option",{key:e.folderId+"_"+e.folderName,attrs:{label:e.folderName,value:e.folderId}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"任务配置名 :",prop:"msaTaskName"}},[a("el-input",{model:{value:e.Form.msaTaskName,callback:function(t){e.$set(e.Form,"msaTaskName",t)},expression:"Form.msaTaskName"}})],1)],1)],1)])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticStyle:{"border-top":"1px solid #ebeef5","margin-top":"20px","text-align":"center","padding-top":"20px","margin-bottom":"10px"}},[a("el-button",{attrs:{type:"primary",size:"mini",loading:e.loadingSave},on:{click:e.submit}},[e._v("保存")])],1)])],1)],1)])],1)],1)],1)],1)},staticRenderFns:[]},Za=a("/Xao")(Ja,Ya,!1,null,null,null).exports,Qa={components:{"v-folder":mt,"v-ruleline":gt},data:function(){var e=this;return{ruleNumber:"",content:"",n:"",m:"",activeName:"first",showChangePy:!1,updateLoading:!1,msaTaskId:"",selectedPy:{},selectedPyIndex:"",Form:{configDataanalysisMsaId:"",msaTaskName:"",decimalGigits:"",usl:"",lsl:"",targetValue:"",comment:""},rules:{configDataanalysisMsaId:[{required:!0,message:"请选择数据分析",trigger:"change,blur"}],msaTaskName:[{required:!0,message:"请填写任务配置名",trigger:"change,blur"}],usl:[{required:!0,message:"请填写规格上限",trigger:"change,blur"},{type:"number",message:"规格上限必须是数字",trigger:"change,blur"},{validator:function(t,a,s){a?e.Form.lsl&&a<=e.Form.lsl?s(new Error("规格上限必须大于规格下限")):e.Form.targetValue&&a<=e.Form.targetValue?s(new Error("规格上限必须大于目标值")):s():s()},trigger:"change,blur"}],lsl:[{required:!0,message:"请填写规格下限",trigger:"change,blur"},{type:"number",message:"规格下限必须是数字",trigger:"change,blur"},{validator:function(t,a,s){a?e.Form.usl&&a>=e.Form.usl?s(new Error("规格下限必须小于规格上限")):e.Form.target_value&&a>=e.Form.target_value?s(new Error("规格下限必须小于目标值")):s():s()},trigger:"change,blur"}],targetValue:[{validator:function(t,a,s){a?e.Form.usl&&a>=e.Form.usl?s(new Error("目标值必须小于规格上限")):e.Form.lsl&&a<=e.Form.lsl?s(new Error("目标值必须大于规格下限")):s():s()},trigger:"change,blur"}]},ruleList:[],pyNum:[{ruleNumber:1,n:"1"},{ruleNumber:2,n:"9"},{ruleNumber:3,n:"6"},{ruleNumber:4,n:"14"},{ruleNumber:5,n:"3",m:"2"},{ruleNumber:6,n:"5",m:"4"},{ruleNumber:7,n:"15"},{ruleNumber:8,n:"8"}],dsList:[]}},methods:{back:function(){this.$router.push("/msa/detail/"+this.msaTaskId)},getDsList:function(){var e=this;De().then(function(t){200==t.code?e.dsList=t.data.list:e.$message.error(t.message)})},selectRules:function(e,t){var a=this,s=Z()({},this.ruleList[t.ruleNumber-1]);s.enable=-s.enable,this.fullLoading=this.$loading(this.LOADING),Wa(s).then(function(e){a.fullLoading.close(),200==e.code&&(a.ruleList[t.ruleNumber-1].enable=-a.ruleList[t.ruleNumber-1].enable)})},rowDbclick:function(e){this.showChangePy=!0;var t=this.pyNum[e.$index];for(var a in t)"ruleNumber"!=a&&(t[a]=e.row[a]);this.selectedPy=Z()({},t),this.selectedPyIndex=e.$index},cancelChangePy:function(){this.showChangePy=!1},changePy:function(){var e=this,t=this.ruleList[this.selectedPyIndex],a=Z()({},t,this.selectedPy);this.fullLoading=this.$loading(this.LOADING),Wa(a).then(function(t){e.fullLoading.close(),200==t.code?(e.showChangePy=!1,e.ruleList.splice(e.selectedPyIndex,1,a),e.$message.success(t.message),e.n=a.n,e.m=a.m,e.content=a.content.replace("n",a.n).replace("m",a.m),e.ruleNumber=a.ruleNumber):e.$message.error(t.message)})},submit:function(){var e=this;this.$refs.msa.validate(function(t){t&&(e.updateLoading=!0,Ha(e.Form).then(function(t){e.updateLoading=!1,200==t.code?e.$message.success(t.message):e.$message.error(t.message)}))})},getRuleList:function(){var e=this;Xa({msaTaskId:this.msaTaskId}).then(function(t){200==t.code&&(e.ruleList=t.data,e.filterRules())})},filterRules:function(e){var t=this;this.ruleList.length>0&&this.ruleList.forEach(function(e){1==e.enable&&t.$refs.multipleTable.toggleRowSelection(e,!0)})},getMsaDetail:function(){var e=this;Ga({msaTaskId:this.msaTaskId}).then(function(t){200==t.code&&(e.Form=t.data)})},chartDes:function(e){this.n=e.n,this.m=e.m,this.content=e.content.replace("n",e.n).replace("m",e.m),this.ruleNumber=e.ruleNumber}},computed:{judgeSelect:function(){var e=[];return this.ruleList.length>0&&this.ruleList.forEach(function(t){1==t.enable&&e.push(t.ruleNumber)}),e}},created:function(){this.msaTaskId=this.$route.params.msa_id,this.getMsaDetail(),this.getRuleList(),this.getDsList()}},Ka={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{directives:[{name:"show",rawName:"v-show",value:!e.$store.getters.showFolderTask,expression:"!$store.getters.showFolderTask"}],staticStyle:{"border-bottom":"1px solid #dcdfe6",padding:"5px 20px",position:"fixed",top:"0",left:"66px",right:"0px","z-index":"999",background:"#fff"}},[a("el-col",{staticStyle:{"font-size":"20px"},attrs:{span:10}},[e._v("\r\n                     \r\n                   "),a("el-button",{attrs:{type:"text"},on:{click:function(t){e.$store.commit("SET_TASK",!0)}}},[a("i",{staticClass:"el-icon-menu el-icon--left"}),e._v(e._s(e.Form.msaTaskName)),a("i",{staticClass:"el-icon-caret-bottom el-icon--right"})])],1),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:14}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.back}},[a("svg-icon",{staticStyle:{"font-size":"20px"},attrs:{"icon-class":"back"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"app-container"},[a("el-row",{staticClass:"vertical-tabs"},[a("el-col",{staticStyle:{position:"relative"},attrs:{xs:{span:20,offset:2},sm:{span:18,offset:3},md:{span:16,offset:4},lg:{span:16,offset:4},xl:{span:16,offset:4}}},[a("el-button",{staticStyle:{position:"absolute",left:"20px",top:"260px","z-index":"99"},attrs:{type:"primary",size:"small",loading:e.updateLoading},on:{click:e.submit}},[e._v("保存")]),e._v(" "),a("el-tabs",{staticStyle:{"margin-top":"50px"},style:{"min-height":e.$Height()-100+"px"},attrs:{type:"border-card","tab-position":"left"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"基本配置",name:"first"}},[a("el-form",{ref:"msa",staticClass:"Form m-t",attrs:{"label-position":"right","label-width":"120px",model:e.Form,rules:e.rules,size:"mini"}},[a("el-col",{attrs:{span:22}},[a("el-form-item",{attrs:{label:"任务配置名 :",prop:"msaTaskName"}},[a("el-input",{model:{value:e.Form.msaTaskName,callback:function(t){e.$set(e.Form,"msaTaskName",t)},expression:"Form.msaTaskName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述 :"}},[a("el-input",{model:{value:e.Form.comment,callback:function(t){e.$set(e.Form,"comment",t)},expression:"Form.comment"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据分析 :",prop:"configDataanalysisId"}},[a("el-select",{attrs:{placeholder:"请选择数据分析"},model:{value:e.Form.configDataanalysisMsaId,callback:function(t){e.$set(e.Form,"configDataanalysisMsaId",t)},expression:"Form.configDataanalysisMsaId"}},e._l(e.dsList,function(t){return a("el-option",{key:t.configDataanalysisMsaId,attrs:{label:t.configDataanalysisMsaName,value:t.configDataanalysisMsaId}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.configDataanalysisMsaName))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#999","font-size":"12px"}},[e._v("MSA")])])}))],1),e._v(" "),a("el-form-item",{attrs:{label:"规格上限 :",prop:"usl"}},[a("el-input",{model:{value:e.Form.usl,callback:function(t){e.$set(e.Form,"usl",e._n(t))},expression:"Form.usl"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"规格下限 :",prop:"lsl"}},[a("el-input",{model:{value:e.Form.lsl,callback:function(t){e.$set(e.Form,"lsl",e._n(t))},expression:"Form.lsl"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"目标值 :",prop:"targetValue"}},[a("el-input",{model:{value:e.Form.targetValue,callback:function(t){e.$set(e.Form,"targetValue",e._n(t))},expression:"Form.targetValue"}})],1)],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"判异配置",name:"second"}},[a("el-form",{staticClass:"Form",attrs:{"label-position":"right","label-width":"20px"}},[a("el-row",[a("el-col",{attrs:{span:23}},[a("el-form-item",[a("div",{staticClass:"Table SPC_Table",staticStyle:{position:"relative"}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%",overflow:"hidden"},attrs:{data:e.ruleList,"tooltip-effect":"dark",border:"",size:"mini","row-key":"ruleNumber"},on:{select:e.selectRules}},[a("el-table-column",{attrs:{type:"selection","reserve-selection":!0,align:"center",width:"30px"}}),e._v(" "),a("el-table-column",{attrs:{label:"编号",prop:"ruleNumber",align:"center",width:"50px"}}),e._v(" "),a("el-table-column",{attrs:{label:"现行规则","min-width":"10px","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n                                                    "+e._s(t.row.content.replace("n",t.row.n).replace("m",t.row.m))+"\r\n                                                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"content",label:"规则依据","min-width":"10px","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150px",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:-1==e.judgeSelect.indexOf(t.row.ruleNumber)?"info":"primary",disabled:-1==e.judgeSelect.indexOf(t.row.ruleNumber)},on:{click:function(a){e.rowDbclick(t)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:e.ruleNumber==t.row.ruleNumber?"success":"info",plain:""},on:{click:function(a){e.chartDes(t.row)}}},[a("svg-icon",{attrs:{"icon-class":"line-chart"}})],1)]}}])})],1),e._v(" "),a("div",{staticStyle:{"z-index":"10",position:"absolute",width:"25px",height:"25px",top:"10px",left:"4px","text-align":"center",background:"rgb(245,246,250)"}},[e._v("\r\n                                                    #\r\n                                            ")])],1)]),e._v(" "),a("el-form-item",["second"==e.activeName?a("v-ruleline",{attrs:{ruleNumber:e.ruleNumber,content:e.content,n:e.n,m:e.m}}):e._e()],1)],1)],1)],1)],1)],1)],1)],1)],1),e._v(" "),a("el-dialog",{staticClass:"dialog setting-form",attrs:{"close-on-click-modal":!1,visible:e.showChangePy,"show-close":!1,width:"300px"},on:{"update:visible":function(t){e.showChangePy=t}}},[a("el-form",{staticClass:"Form",attrs:{"label-position":"right","label-width":"40px",size:"mini"}},e._l(e.selectedPy,function(t,s,r){return"ruleNumber"!==s?a("el-form-item",{key:r+"_@",attrs:{label:"["+s+"] ="}},[a("el-input",{model:{value:e.selectedPy[s],callback:function(t){e.$set(e.selectedPy,s,t)},expression:"selectedPy[k]"}})],1):e._e()})),e._v(" "),a("div",{staticStyle:{"border-top":"1px solid #ebeef5","margin-top":"20px","text-align":"center","padding-top":"20px","margin-bottom":"-10px"}},[a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.changePy}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:e.cancelChangePy}},[e._v("取消")])],1)])],1),e._v(" "),a("v-folder",{directives:[{name:"show",rawName:"v-show",value:e.$store.getters.showFolderTask,expression:"$store.getters.showFolderTask"}]})],1)},staticRenderFns:[]};var es=a("/Xao")(Qa,Ka,!1,function(e){a("0U2B")},"data-v-7b92c9b0",null).exports,ts={render:function(){var e=this.$createElement;return(this._self._c||e)("ve-line",{ref:"lineX",attrs:{data:this.datas,"legend-visible":!1,height:this.height,width:this.width,"mark-line":this.markLine,grid:this.grid,yAxis:this.yAxis,extend:this.extend}})},staticRenderFns:[]},as=a("/Xao")({props:["chartData","ucl","lcl","H6","W6"],data:function(){var e=this;return this.dataZoom=[{type:"slider",start:0,end:100}],this.markLine={precision:4,data:[{name:"ucl",yAxis:this.ucl,lineStyle:{normal:{color:"#f00"}},itemStyle:{normal:{lineStyle:{color:"#f00"}}},label:{normal:{show:!0,position:"end",formatter:"ucl="+this.ucl}}},{name:"lcl",yAxis:e.lcl,lineStyle:{normal:{}},itemStyle:{normal:{lineStyle:{color:"#f00"}}},label:{normal:{show:!0,position:"end",formatter:"ucl="+e.lcl}}}]},this.extend={series:{type:"line",smooth:!1,showAllSymbol:!0,symbolSize:[6,6],lineStyle:{normal:{color:"rgb(25,212,174)"}},itemStyle:{normal:{borderWidth:2,color:function(t){var a=e.chartData.rows[t.dataIndex].improper;return a&&a.length>0?"#f00":"rgb(25,212,174)"}}}},tooltip:{formatter:function(t){var a=t[0].dataIndex,s=t[0].name,r=t[0].marker,i=t[0].value,o=e.chartData.rows[a].improper;return o&&o.length>0?s+"<br/>"+r+s+" : "+i+"<br/>"+r+"error : "+o.join(";<br/>"):s+"<br/>"+r+s+" : "+i}},xAxis:{axisLabel:{interval:"auto"},axisLine:{show:!0,lineStyle:{color:"rgb(102,102,102)"}},axisTick:{show:!0,lineStyle:{color:"rgb(102,102,102)"}}},yAxis:{max:function(t){var a=t.max-t.min,s=t.max+a/8;return s.toString().slice(0,e.getFixed(s)+3)},min:function(t){var a=t.max-t.min,s=t.min-a/8;return s.toString().slice(0,e.getFixed(s)+3)},axisLine:{show:!0,lineStyle:{color:"rgb(102,102,102)"}}}},{UCL:"",LCL:"",yAxis:{},grid:{top:5,right:80,bottom:30}}},methods:{getFixed:function(e){return"string"==typeof e?e.search(/[1-9]/):e.toString().search(/[1-9]/)}},computed:{datas:function(){return this.chartData},height:function(){return this.H6-50+"px"},width:function(){return this.W6}},created:function(){this.$refs.lineX.echarts.resize()}},ts,!1,null,null,null).exports,ss={props:["chartData","ucl","lcl","H7","W7"],data:function(){var e=this;return this.dataZoom=[{type:"slider",start:0,end:100}],this.markLine={precision:4,data:[{name:"ucl",yAxis:this.ucl,lineStyle:{normal:{color:"#f00"}},itemStyle:{normal:{lineStyle:{color:"#f00"}}},label:{normal:{show:!0,position:"end",formatter:"ucl="+this.ucl}}},{name:"lcl",yAxis:this.lcl,lineStyle:{normal:{}},itemStyle:{normal:{lineStyle:{color:"#f00"}}},label:{normal:{show:!0,position:"end",formatter:"lcl="+this.lcl}}}]},this.extend={series:{type:"line",smooth:!1,showAllSymbol:!0,symbolSize:[6,6],lineStyle:{normal:{color:"rgb(25,212,174)"}},itemStyle:{normal:{borderWidth:2,color:function(t){var a=e.chartData.rows[t.dataIndex].improper;return a&&a.length>0?"#f00":"rgb(25,212,174)"}}}},tooltip:{formatter:function(t){var a=t[0].dataIndex,s=t[0].name,r=t[0].marker,i=t[0].value,o=e.chartData.rows[a].improper;return o&&o.length>0?s+"<br/>"+r+s+" : "+i+"<br/>"+r+"error : "+o.join(";<br/>"):s+"<br/>"+r+s+" : "+i}},xAxis:{axisLabel:{interval:"auto"},axisLine:{show:!0,lineStyle:{color:"rgb(102,102,102)"}},axisTick:{show:!0,lineStyle:{color:"rgb(102,102,102)"}}},yAxis:{max:function(t){var a=t.max-t.min,s=Math.max(t.max,e.ucl)+a/8;return s.toString().slice(0,e.getFixed(s)+3)},min:function(t){var a=t.max-t.min,s=t.min-a/8;return s.toString().slice(0,e.getFixed(s)+3)},axisLine:{show:!0,lineStyle:{color:"rgb(102,102,102)"}}}},{UCL:"",LCL:"",yAxis:{},grid:{top:5,right:80,bottom:30}}},methods:{getFixed:function(e){return"string"==typeof e?e.search(/[1-9]/):e.toString().search(/[1-9]/)}},computed:{datas:function(){return this.chartData},height:function(){return this.H7-50+"px"},width:function(){return this.W7}},created:function(){this.$refs.lineR.echarts.resize()}},rs={render:function(){var e=this.$createElement;return(this._self._c||e)("ve-line",{ref:"linR",attrs:{data:this.datas,"legend-visible":!1,height:this.height,width:this.width,"mark-line":this.markLine,grid:this.grid,yAxis:this.yAxis,extend:this.extend}})},staticRenderFns:[]},is=a("/Xao")(ss,rs,!1,null,null,null).exports,os=a("3cXf"),ns=a.n(os),ls=a("THqY"),cs=a.n(ls),us={props:["boxObj","H11","W11"],data:function(){return{box:"",myChart:""}},methods:{getFixed:function(e){return"string"==typeof e?e.search(/[1-9]/):e.toString().search(/[1-9]/)},drawLine:function(){var e=this;this.myChart=e.$echarts.init(e.$refs.box),e.box=JSON.parse(ns()(e.boxObj)),e.box.values=cs.a.prepareBoxplotData(e.box.values.slice(0)),this.myChart.setOption({tooltip:{trigger:"item"},grid:{top:10,right:30,left:40,bottom:50},xAxis:{type:"category",data:e.box.personName,boundaryGap:!0,nameGap:30,axisLabel:{formatter:"{value}"},splitLine:{show:!1}},yAxis:{type:"value",max:function(t){var a=t.max-t.min,s=t.max+a/8;return s.toString().slice(0,e.getFixed(s)+3)},min:function(t){var a=t.max-t.min,s=t.min-a/8;return s.toString().slice(0,e.getFixed(s)+3)}},series:[{name:"boxplot",type:"boxplot",data:e.box.values.boxData,tooltip:{formatter:function(e){return[e.name,"max: "+e.data[5],"Q3: "+e.data[4],"median: "+e.data[3],"Q1: "+e.data[2],"min: "+e.data[1]].join("<br/>")}}},{name:"outlier",type:"scatter",data:e.box.values.outliers},{name:"average",type:"line",data:e.box.average,symbolSize:8,lineStyle:{normal:{color:"rgb(25,212,174)"}},tooltip:{formatter:function(e){var t=e.name,a=e.value;return t+"<br/>"+e.marker+"average ："+a}},itemStyle:{normal:{color:"rgb(25,212,174)"}},z:10}]})}},computed:{height:function(){return this.H11-50+"px"},width:function(){return this.W11}},mounted:function(){this.drawLine()},watch:{boxObj:function(){this.drawLine()},H11:function(){this.myChart.resize()},W11:function(){this.myChart.resize()}}},ds={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{ref:"box",style:{width:this.width,height:this.height}})])},staticRenderFns:[]},ps=a("/Xao")(us,ds,!1,null,null,null).exports,ms={render:function(){var e=this.$createElement;return(this._self._c||e)("ve-histogram",{ref:"histogram",attrs:{data:this.charData,height:this.height,width:this.width,yAxis:this.yAxis,"legend-visible":!1,extend:this.extend,grid:this.grid}})},staticRenderFns:[]},hs=a("/Xao")({props:["charData","H8","W8"],data:function(){return this.extend={series:{label:{show:!0,position:"top"},itemStyle:{},xAxis:{axisLabel:{},axisLine:{show:!0,lineStyle:{color:"rgb(102,102,102)"}},axisTick:{show:!0,lineStyle:{color:"rgb(102,102,102)"}}}}},{yAxis:{axisLine:{show:!0,lineStyle:{color:"rgb(102,102,102)"}}},grid:{top:20,right:20,bottom:50}}},computed:{height:function(){return this.H8-50+"px"},width:function(){return this.W8}},created:function(){this.$refs.histogram.echarts.resize()}},ms,!1,null,null,null).exports,fs={props:["chartData","xPart","H9","W9"],data:function(){var e=this;return this.dataZoom=[{type:"slider",start:0,end:100}],this.markLine={precision:4,data:[{name:"xPart",yAxis:this.xPart,lineStyle:{normal:{color:"#f00"}},itemStyle:{normal:{lineStyle:{color:"#f00"}}},label:{normal:{show:!0,position:"end",formatter:"xPart="+this.xPart}}}]},this.extend={series:{type:"line",smooth:!1,showAllSymbol:!0,symbolSize:[6,6],lineStyle:{normal:{color:"rgb(25,212,174)"}},itemStyle:{normal:{borderWidth:2,color:function(t){var a=e.chartData.rows[t.dataIndex].improper;return a&&a.length>0?"#f00":"rgb(25,212,174)"}}}},tooltip:{formatter:function(t){var a=t[0].dataIndex,s=t[0].name,r=t[0].marker,i=t[0].value,o=e.chartData.rows[a].improper;return o&&o.length>0?s+"<br/>"+r+s+" : "+i+"<br/>"+r+"error : "+o.join(";<br/>"):s+"<br/>"+r+s+" : "+i}},xAxis:{axisLabel:{interval:"auto"},axisLine:{show:!0,lineStyle:{color:"rgb(102,102,102)"}},axisTick:{show:!0,lineStyle:{color:"rgb(102,102,102)"}}},yAxis:{max:function(t){var a=Math.max(e.xPart,t.max),s=a+(a-t.min)/8;return s.toString().slice(0,e.getFixed(s)+5)},min:function(t){var a=t.max-t.min,s=t.min-a/8;return s.toString().slice(0,e.getFixed(s)+3)},position:"left",axisLine:{show:!0,lineStyle:{color:"rgb(102,102,102)"}}}},{grid:{top:5,right:80,bottom:40}}},methods:{getFixed:function(e){return"string"==typeof e?e.search(/[1-9]/):e.toString().search(/[1-9]/)}},computed:{datas:function(){return this.chartData},height:function(){return this.H9-50+"px"},width:function(){return this.W9}},mounted:function(){this.$refs.line.echarts.resize()}},gs={render:function(){var e=this.$createElement;return(this._self._c||e)("ve-line",{ref:"line",attrs:{data:this.datas,"legend-visible":!1,height:this.height,width:this.width,grid:this.grid,"mark-line":this.markLine,extend:this.extend}})},staticRenderFns:[]},vs=a("/Xao")(fs,gs,!1,null,null,null).exports,bs={render:function(){var e=this.$createElement;return(this._self._c||e)("ve-line",{ref:"more",attrs:{data:this.datas,"legend-visible":!1,height:this.height,width:this.width,"mark-line":this.markLine,grid:this.grid,yAxis:this.yAxis,extend:this.extend}})},staticRenderFns:[]},ys=a("/Xao")({props:["chartData","H10","W10"],data:function(){var e=this;return this.dataZoom=[{type:"slider",start:0,end:100}],this.markLine={data:[]},this.extend={series:{type:"line",smooth:!1,showAllSymbol:!0,symbolSize:[6,6],lineStyle:{normal:{}},itemStyle:{normal:{borderWidth:2}}},tooltip:{},xAxis:{axisLabel:{interval:"auto"},axisLine:{show:!0,lineStyle:{color:"rgb(102,102,102)"}},axisTick:{show:!0,lineStyle:{color:"rgb(102,102,102)"}}},yAxis:{min:function(t){return t.min.toString().slice(0,e.getFixed(t.min)+2)},axisLine:{show:!0,lineStyle:{color:"rgb(102,102,102)"}}}},{yAxis:{max:function(t){var a=t.max-t.min,s=t.max+a/8;return s.toString().slice(0,e.getFixed(s)+3)},min:function(t){var a=t.max-t.min,s=t.min-a/8;return s.toString().slice(0,e.getFixed(s)+3)}},grid:{top:10,right:40,bottom:40}}},methods:{getFixed:function(e){return"string"==typeof e?e.search(/[1-9]/):e.toString().search(/[1-9]/)}},computed:{datas:function(){return this.chartData},height:function(){return this.H10-50+"px"},width:function(){return this.W10}},mounted:function(){this.$refs.more.echarts.resize()}},bs,!1,null,null,null).exports,_s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"py",staticStyle:{"border-right":"1px solid rgb(159,159,159)","border-bottom":"1px solid rgb(159,159,159)"}},[a("p",{staticClass:"spcDetail"},[e._v("判异规则")]),e._v(" "),a("ul",[e._l(e.rules,function(t){return a("li",{key:t.spcTaskAbnormalRulesId},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-checkbox",{staticStyle:{"margin-right":"10px"},attrs:{checked:1==t.enable,disabled:""}}),e._v("\n                        "+e._s(t.content.replace("n",t.n).replace("m",t.m).replace("k",t.k))+"\n                     ")],1)],1)],1)}),e._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:0==e.rules.length,expression:"rules.length==0"}],staticClass:"text-center"},[e._v("没有配置判异规则")])],2)])])],1)],1)},staticRenderFns:[]},xs=a("/Xao")({props:["rules"],data:function(){return{}}},_s,!1,null,null,null).exports,ws={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"stats_top",staticStyle:{"border-right":"1px solid rgb(159,159,159)","border-bottom":"1px solid rgb(159,159,159)"}},[a("div",[a("p",{staticClass:"spcDetail"},[e._v("合计")]),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("ul",[a("li",{staticClass:"spc-bg-content"},[e._v("零件X均值")]),e._v(" "),a("li",{staticClass:"spc-bg-content"},[e._v("零件R均值")]),e._v(" "),a("li",{staticClass:"spc-bg-content"},[e._v("人员极差均值")]),e._v(" "),a("li",{staticClass:"spc-bg-content"},[e._v("人员均值极差")])])]),e._v(" "),a("el-col",{attrs:{span:12}},[a("ul",[a("li",[e._v(" "+e._s(e.msaStat.xPart))]),e._v(" "),a("li",[e._v(" "+e._s(e.msaStat.rPart))]),e._v(" "),a("li",[e._v(" "+e._s(e.msaStat.xDiff))]),e._v(" "),a("li",[e._v(" "+e._s(e.msaStat.r))])])])],1)],1),e._v(" "),a("div",[a("p",{staticClass:"spcDetail"},[e._v("量具评估")]),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("ul",[a("li",{staticClass:"spc-bg"},[e._v("来源")]),e._v(" "),a("li",{staticClass:"spc-bg-content"},[e._v("重复性")]),e._v(" "),a("li",{staticClass:"spc-bg-content"},[e._v("再现性")]),e._v(" "),a("li",{staticClass:"spc-bg-content"},[e._v("合计量具R&R")]),e._v(" "),a("li",{staticClass:"spc-bg-content"},[e._v("部件间")]),e._v(" "),a("li",{staticClass:"spc-bg-content"},[e._v("合计变异")])])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("ul",[a("li",{staticClass:"spc-bg"},[e._v("方差贡献率")]),e._v(" "),a("li",[e._v(" "+e._s(e.msaStat.pev)+"%")]),e._v(" "),a("li",[e._v(" "+e._s(e.msaStat.pav)+"%")]),e._v(" "),a("li",[e._v(" "+e._s(e.msaStat.prr)+"%")]),e._v(" "),a("li",[e._v(" "+e._s(e.msaStat.ppv)+"%")]),e._v(" "),a("li",[e._v(" 100%")])])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("ul",[a("li",{staticClass:"spc-bg"},[e._v("研究变异")]),e._v(" "),a("li",[e._v(" "+e._s(e.msaStat.psvEV)+"%")]),e._v(" "),a("li",[e._v(" "+e._s(e.msaStat.psvAV)+"%")]),e._v(" "),a("li",[e._v(" "+e._s(e.msaStat.psvRR)+"%")]),e._v(" "),a("li",[e._v(" "+e._s(e.msaStat.psvPV)+"%")]),e._v(" "),a("li",[e._v(" 100%")])])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("ul",[a("li",{staticClass:"spc-bg"},[e._v("公差")]),e._v(" "),a("li",[e._v(" "+e._s(e.msaStat.pTEV)+"%")]),e._v(" "),a("li",[e._v(" "+e._s(e.msaStat.pTAV)+"%")]),e._v(" "),a("li",[e._v(" "+e._s(e.msaStat.pTRR)+"%")]),e._v(" "),a("li",[e._v(" "+e._s(e.msaStat.pTPV)+"%")]),e._v(" "),a("li",[e._v(" "+e._s(e.msaStat.pTTV)+"%")])])])],1)],1),e._v(" "),a("div",[a("el-row",[a("el-col",{attrs:{span:24}},[a("ul",[a("li",[e._v("pTRR 公差百分比 "+e._s(e.TRR.TRR[0])+" 测量系统"+e._s(e.TRR.TRR[1]))]),e._v(" "),a("li",[e._v("prr 方差贡献率 "+e._s(e.TRR.prr[0])+" 测量系统"+e._s(e.TRR.prr[1])+" ")])])])],1)],1),e._v(" "),a("div",[a("el-row",[a("el-col",{attrs:{span:12}},[a("ul",[a("li",{staticClass:"spc-bg-content"},[e._v("有效分辨率")])])]),e._v(" "),a("el-col",{attrs:{span:12}},[a("ul",[a("li",[e._v(" "+e._s(e.msaStat.ndc))])])])],1)],1)])},staticRenderFns:[]},ks=a("/Xao")({props:["msaStat","TRR"],data:function(){return{}}},ws,!1,null,null,null).exports,Ts={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"spc-header  stats_top "},[a("el-row",[a("el-col",{attrs:{span:4}},[a("ul",{staticClass:"spc-li-bg"},[a("li",[e._v("规格")]),e._v(" "),a("li",[e._v("上限USL")]),e._v(" "),a("li",[e._v("中心 CL")]),e._v(" "),a("li",[e._v("下限LSL")])])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("ul",[a("li",[e._v("标准")]),e._v(" "),a("li",[e._v(" "+e._s(e.configData.usl))]),e._v(" "),a("li",[e._v(" "+e._s(e.configData.target_value))]),e._v(" "),a("li",[e._v(" "+e._s(e.configData.lsl))])])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("ul",[a("li",[e._v("样本总数")]),e._v(" "),a("li",[e._v(" "+e._s(e.personLen*e.partLen*e.rowLen))]),e._v(" "),a("li",{staticClass:"spc-bg"},[e._v("人数/零件数/测试次数")]),e._v(" "),a("li",[e._v(" "+e._s(e.personLen+" / "+e.partLen+" / "+e.rowLen/e.personLen))])])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("ul",{staticClass:"spc-li-bg"},[a("li",[e._v("管制")]),e._v(" "),a("li",[e._v("上限UCL")]),e._v(" "),a("li",[e._v("中心 CL")]),e._v(" "),a("li",[e._v("下限LCL")])])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("ul",[a("li",[e._v("X图")]),e._v(" "),a("li",[e._v(" "+e._s(e.msaStat.ucl_x))]),e._v(" "),a("li",[e._v(" "+e._s(e.msaStat.xPart))]),e._v(" "),a("li",[e._v(" "+e._s(e.msaStat.lcl_x))])])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("ul",[a("li",[e._v("R图")]),e._v(" "),a("li",[e._v(" "+e._s(e.msaStat.ucl_r))]),e._v(" "),a("li",[e._v(" "+e._s(e.msaStat.rPart))]),e._v(" "),a("li",[e._v(" "+e._s(e.msaStat.lcl_r))])])])],1)],1)},staticRenderFns:[]},Ss=a("/Xao")({props:["msaStat","configData","personLen","partLen","rowLen"],data:function(){return{}}},Ts,!1,null,null,null).exports,Ls={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"dsForm",staticClass:"small-space Form setting-form FormError",attrs:{model:e.Form,rules:e.rule,size:"mini","label-position":"right","label-width":"80px"}},[e._l(e.controlInfo,function(t){return a("el-form-item",{key:t.key,attrs:{label:t.label+" :"}},[a("el-select",{attrs:{multiple:"controlIndex"!=t.key,"collapse-tags":""},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"info.value"}},e._l(t.valueArr,function(e){return a("el-option",{key:t.key+"_"+e,attrs:{label:e,value:e}})}))],1)}),e._v(" "),a("el-form-item",{attrs:{label:"小数位数 :"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{placeholder:"1-6的整数"},model:{value:e.Form.digit,callback:function(t){e.$set(e.Form,"digit",t)},expression:"Form.digit"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"子组容量 :",prop:"measureNumber"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{placeholder:"请输入2-25之间的数字"},model:{value:e.Form.measureNumber,callback:function(t){e.$set(e.Form,"measureNumber",e._n(t))},expression:"Form.measureNumber"}})],1)],1),e._v(" "),a("el-form-item",{staticClass:"m-t"},[a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"btnBlock",attrs:{span:24}},[a("el-button",{attrs:{type:"primary",size:"large"},on:{click:e.analysis}},[e._v("分析")])],1)],1)],2)],1)},staticRenderFns:[]},Ns=a("/Xao")({props:["controlInfo","show","recentInfo"],data:function(){return{recentGroupListBegin:[20,50,100],recentGroupListEnd:[20,50,100],Form:{digit:this.recentInfo?this.recentInfo.digit:"",measureNumber:this.recentInfo?this.recentInfo.measureNumber:""},rule:{measureNumber:[{type:"number",min:2,max:25,message:"子组容量只能在2-25之间",trigger:"change,blur"}]},measureNumberList:[]}},methods:{analysis:function(){var e={analysisParms:{}};this.Form.digit&&(e.digit=this.Form.digit),this.Form.measureNumber&&(e.measureNumber=this.Form.measureNumber),this.controlInfo.length>0&&this.controlInfo.forEach(function(t){"controlIndex"==t.key?e.analysisParms[t.key]=t.value[0]:e.analysisParms[t.key]=t.value.join(";")}),this.$emit("view",e)},cacheBegin:function(e){this.recentGroupListBegin.includes(e)||this.recentGroupListBegin.push(e)},cacheEnd:function(e){this.recentGroupListEnd.includes(e)||this.recentGroupListEnd.push(e)}}},Ls,!1,null,null,null).exports,Cs={props:["groupDatas","loopTitle","rules"],data:function(){return{page:1,pageSize:20}},methods:{handleSizeChange:function(e){this.pageSize=Number(e),this.page=1},handleCurrentChange:function(e){this.page=Number(e)},getAverage:function(){var e,t=(e=this.groupDatas.map(function(e){return e.values})).length,a=[];if(0==e.length)return[];for(var s=e[0].length,r=0;r<s;r++){for(var i=[],o=0;o<t;o++)i.push(e[o][r]);a.push(i)}var n=a.map(function(e){return e.reduce(function(e,t){return e+t})}).map(function(e){return(e/t).toFixed(3)});return["平均值",""].concat(Ne()(n))},getSummaries:function(){return this.getAverage()},exportExcel:function(){var e=this;Promise.all([a.e(1),a.e(0)]).then(function(){var t=a("zWO4").export_json_to_excel,s=["组号","样本值"].concat(Ne()(e.params)),r=["组号","合计值","极差值","平均值","是否异常",e.XR[0]+"管制图异常原因",e.XR[1]+"管制图原因"],i=[],o=[],n=[],l=e.groupDatas;e.rules.forEach(function(e){n.push([e.ruleNumber,e.content])}),l.forEach(function(t){var a=[];t.dataList.forEach(function(e){a=[t.groupNum,e.value].concat(Ne()(e.info)),i.push(a)});var s=[t.groupNum,t.sum,t.secondParameter,t.firstParameter];e.errorDataExcel[t.groupNum]||e.errorDataExcel1[t.groupNum]?(s.push("是"),e.errorDataExcel[t.groupNum]?s.push(e.errorDataExcel[t.groupNum].join(",")):s.push(""),e.errorDataExcel1[t.groupNum]?s.push(e.errorDataExcel1[t.groupNum].join(",")):s.push("")):s.push("否","",""),o.push(s)}),t([s,r,["判异规则编号","判异规则"]],[i,o,n],["原始数据","组数据","判异规则"],e.configData.spcTaskName+"_"+parseTime(new Date))}.bind(null,a)).catch(a.oe)}},computed:{filterGroupData:function(){var e=(this.page-1)*this.pageSize,t=e+this.pageSize;return this.groupDatas.slice(e,t)},total:function(){return this.groupDatas.length},loopNum:function(){return this.groupDatas.length>0?this.groupDatas[0].values.length:1}},created:function(){}},Ds={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Table SPC_Table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.filterGroupData,size:"mini","max-height":"360","summary-method":e.getSummaries,"show-summary":""}},[a("el-table-column",{attrs:{prop:"personName",label:"人员",align:"center","min-width":"40px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"index",label:"组号",align:"center","min-width":"40px"}}),e._v(" "),a("el-table-column",{attrs:{label:"样本测定值",align:"center"}},e._l(e.loopNum,function(t,s){return a("el-table-column",{key:"ccc"+s,attrs:{label:e.loopTitle[s],align:"center","min-width":"35px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(t.row.values[s])+"\n                ")]}}])})})),e._v(" "),a("el-table-column",{attrs:{prop:"average",label:"平均值",align:"center","min-width":"40px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(t.row.average.toFixed(3))+"\n                ")]}}])})],1),e._v(" "),a("div",{staticClass:"m-t text-center",staticStyle:{"border-top":"1px solid #ebeef5","margin-top":"0px","padding-top":"15px"}},[a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{"current-page":e.page,"page-size":e.pageSize,"page-sizes":[20,50,100,200],layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.page=t}}})],1)],1)},staticRenderFns:[]},Is=a("/Xao")(Cs,Ds,!1,null,null,null).exports,As={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"dsForm",staticClass:"small-space Form setting-form FormError",attrs:{size:"mini","label-position":"right","label-width":"80px"}},[a("el-form-item",{attrs:{label:"制品名称 :"}},[a("el-input",{model:{value:e.Form.aa,callback:function(t){e.$set(e.Form,"aa",t)},expression:"Form.aa"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"管制项目 :"}},[a("el-input",{model:{value:e.Form.aa,callback:function(t){e.$set(e.Form,"aa",t)},expression:"Form.aa"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"测量单位 :"}},[a("el-input",{model:{value:e.Form.aa,callback:function(t){e.$set(e.Form,"aa",t)},expression:"Form.aa"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"制造部门 :"}},[a("el-input",{model:{value:e.Form.aa,callback:function(t){e.$set(e.Form,"aa",t)},expression:"Form.aa"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"级别 :"}},[a("el-input",{model:{value:e.Form.aa,callback:function(t){e.$set(e.Form,"aa",t)},expression:"Form.aa"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"抽样方法 :"}},[a("el-input",{model:{value:e.Form.aa,callback:function(t){e.$set(e.Form,"aa",t)},expression:"Form.aa"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"测定者 :"}},[a("el-input",{model:{value:e.Form.aa,callback:function(t){e.$set(e.Form,"aa",t)},expression:"Form.aa"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"日期 :"}},[a("el-input",{model:{value:e.Form.aa,callback:function(t){e.$set(e.Form,"aa",t)},expression:"Form.aa"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"辅助及原因 :"}},[a("el-input",{attrs:{type:"textarea",autosize:""},model:{value:e.Form.aa,callback:function(t){e.$set(e.Form,"aa",t)},expression:"Form.aa"}})],1)],1)],1)},staticRenderFns:[]},Fs=a("/Xao")({data:function(){return{Form:{aa:""}}}},As,!1,null,null,null).exports,Ms={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Dialog"},[a("el-dialog",{attrs:{title:"辅助及原因追查",visible:e.dialogVisible,width:"700px","before-close":e.close},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"attach",staticClass:" Form setting-form FormError",attrs:{size:"small","label-position":"right","label-width":"80px"}},[a("el-form-item",{attrs:{label:"制造部门 :"}},[a("el-input",{model:{value:e.Form.aa,callback:function(t){e.$set(e.Form,"aa",t)},expression:"Form.aa"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"制造部门 :"}},[a("el-input",{model:{value:e.Form.aa,callback:function(t){e.$set(e.Form,"aa",t)},expression:"Form.aa"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer text-center",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:e.cancel}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.submit}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]},Rs=a("/Xao")({props:["visible"],data:function(){return{Form:{aa:""}}},methods:{close:function(){this.$emit("close")},cancel:function(){this.$refs.attach.resetFields(),this.close()},submit:function(){this.close()}},computed:{dialogVisible:function(){return this.visible}},beforeDestroy:function(){this.$off()}},Ms,!1,null,null,null).exports,$s={mixins:[{data:function(){return{timeout:null,fullLoading:null,page:1,pageSize:10,total:0,groupNum:[],loopNum:"",loopTitle:[],pyData:[],pyData1:[],LOADING:{lock:!0,text:"需要几秒钟,加载中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.6)"},msa_config_id:"",configData:{},groupData:[],XR:["1","2","3"],msaStat:{},personLen:"",partLen:"",rowLen:"",Box:{values:[],personName:[],average:[]},XcharData:{columns:["x","average"],rows:[]},RcharData:{columns:["x","range"],rows:[]},HcharData:{columns:["x","方差贡献率","研究变异率","公差率"],rows:[]},PartOne:{columns:["x","avgPart"],rows:[]},PartMore:{columns:["x","average-A","average-B","average-C"],rows:[]},ucl_x:"",lcl_x:"",ucl_r:"",lcl_r:""}},methods:{getMsaView:function(e){var t=this;this.fullLoading=this.$loading(this.LOADING),this.recentInfo=e;var a,s=this;(a=m()({msaTaskId:this.msaTaskId},e),pe({url:"msa/task/viewer/view",method:"post",data:a})).then(function(e){if(t.fullLoading.close(),0==e.resCode){s.personLen=e.data.personDataList.length,s.partLen=e.data.partDataList.length,s.rowLen=e.data.rowDataList.length;var a=e.data.partPersonDataList,r={};a.sort(Object(Me.firstBy)(function(e){return e.personName}).thenBy("partName")),a.length>0&&a.forEach(function(e,t){var a={x:e.personName+"-"+e.partName,average:e.average,groupNum:Number(t)+1,improper:[]},i={x:e.personName+"-"+e.partName,range:e.range,groupNum:Number(t)+1,improper:[]};s.XcharData.rows.push(a),s.RcharData.rows.push(i),r[e.partName]?r[e.partName]["average-"+e.personName]=e.average:(r[e.partName]={},r[e.partName]["average-"+e.personName]=e.average)});var i=[],o=[],n=e.data.exceptionResultList.filter(function(e){return e.groupNumList.length>0});for(var l in n.forEach(function(e){e.groupNumList.forEach(function(t){if(e.ruleNumber>0)if(0==i.length){var a={improper:[s.rules[Number(e.ruleNumber)-1].content],groupNum:t};i.push(a)}else{var r=!1;if(i.forEach(function(a){a.groupNum==t&&(a.improper.push(s.rules[Number(e.ruleNumber)-1].content),r=!0)}),!r){var n={improper:[s.rules[Number(e.ruleNumber)-1].content],groupNum:t};i.push(n)}}if(e.ruleNumber<0)if(0==o.length){var l={improper:[s.rules[Number(Math.abs(e.ruleNumber))-1].content],groupNum:t};o.push(l)}else{var c=!1;if(o.forEach(function(a){a.groupNum==t&&(a.improper.push(s.rules[Number(Math.abs(e.ruleNumber))-1].content),c=!0)}),!c){var u={improper:[s.rules[Number(Math.abs(e.ruleNumber))-1].content],groupNum:t};o.push(u)}}})}),s.RcharData.rows.forEach(function(e){for(var t=0;t<o.length;t++)if(o[t].groupNum==e.groupNum){e.improper=o[t].improper;break}}),s.XcharData.rows.forEach(function(e){for(var t=0;t<i.length;t++)i[t].groupNum==e.groupNum&&(e.improper=i[t].improper)}),r){var c={};c.x=l,s.PartMore.rows.push(Z()({},c,r[l]))}var u=e.data.msaStat;s.msaStat=e.data.msaStat,s.ucl_x=u.ucl_x,s.lcl_x=u.lcl_x,s.ucl_r=u.ucl_r,s.lcl_r=u.lcl_r;var d=[{x:"量具R&R","方差贡献率":u.prr,"研究变异率":u.psvRR,"公差率":u.pTRR},{x:"重复性","方差贡献率":u.pev,"研究变异率":u.psvEV,"公差率":u.pTEV},{x:"再现性","方差贡献率":u.pav,"研究变异率":u.psvAV,"公差率":u.pTAV},{x:"部件间","方差贡献率":u.ppv,"研究变异率":u.psvPV,"公差率":u.pTPV}];s.HcharData.rows=d;var p=e.data.partDataList;p.length>0&&p.forEach(function(e){s.loopTitle.push(e.partName);var t={x:e.partName,avgPart:e.avgPart};s.PartOne.rows.push(t)}),s.groupData=e.data.rowDataList,s.loopNum=e.data.rowDataList[0].values.length;var m={};for(var h in e.data.rowDataList.forEach(function(t){var a=void 0;e.data.personDataList.forEach(function(e){e.personName==t.personName&&(a=e.avgPerson)}),m[t.personName]?m[t.personName].values=[].concat(Ne()(m[t.personName].values),Ne()(t.values)):m[t.personName]={average:a,values:[].concat(Ne()(t.values))}}),m)s.Box.average.push(m[h].average),s.Box.personName.push(h),s.Box.values.push(m[h].values)}else t.$message.error(e.msg)})},handleSizeChange:function(e){this.pageSize=Number(e),this.page=1},handleCurrentChange:function(e){this.page=Number(e)},getAverage:function(){var e,t=(e=this.groupData.map(function(e){return e.values})).length,a=[];if(0==e.length)return[];for(var s=e[0].length,r=0;r<s;r++){for(var i=[],o=0;o<t;o++)i.push(e[o][r]);a.push(i)}var n=a.map(function(e){return e.reduce(function(e,t){return e+t})}).map(function(e){return(e/t).toFixed(3)});return["平均值",""].concat(Ne()(n))},getSummaries:function(){return this.getAverage()},getMsaDetail:function(e){var t=this;if(200==e.code)if(this.configData=e.data,e.data.dashboard&&JSON.parse(e.data.dashboard)&&JSON.parse(e.data.dashboard)instanceof Array){var a=JSON.parse(e.data.dashboard);this.layout=a,a.length>0&&a.forEach(function(e){e.modelType>=7&&e.HPx&&(t["H"+e.modelType]=e.HPx,t["W"+e.modelType]=e.WPx+"px"),t.panels.forEach(function(t){e.modelType==t.modelType&&(t.modelType=-Math.abs(t.modelType))})}),this.layout.length>0?0==this.layout[0].modelType&&this.layout[0].modelType:this.layout.push({x:0,y:0,w:500,h:20,i:"0",modelName:"Panel",modelType:0})}else this.layout=[{x:0,y:0,w:500,h:20,i:"0",modelName:"Panel",modelType:0}];else this.$message.error(e.message)},getDsMsaDetail:function(e){var t=this;Ie({configDataanalysisMsaId:e}).then(function(e){200==e.code?(e.data.controlComponents&&t.controlInfo.push({key:"controlComponents",value:[],label:"测量部件",valueArr:e.data.controlComponents.split(";")}),e.data.controlStaff&&t.controlInfo.push({key:"controlStaff",value:[],label:"测量人员",valueArr:e.data.controlStaff.split(";")}),e.data.controlIndex&&t.controlInfo.push({key:"controlIndex",value:"",label:"测量序号",valueArr:e.data.controlIndex.split(";")})):t.$message.error(e.message)})},getRuleList:function(){var e=this;Xa({msaTaskId:this.msaTaskId}).then(function(t){200==t.code?(e.rules=t.data.sort(Object(Me.firstBy)(function(e){e.ruleNumber})),e.rules.length>0&&e.rules.forEach(function(e){e.content=e.content.replace("n",e.n).replace("m",e.m).replace("k",e.k)})):e.$message.error(t.message)})}},computed:{TRR:function(){var e={TRR:[],prr:[]};return this.msaStat.pTRR<.1?e.TRR=["<10%","可以接受"]:this.msaStat.pTRR>.3?e.TRR=[">30%","不可接受"]:e.TRR=["10%-30%","尚可接受"],this.msaStat.prr<.01?e.prr=["<1%","可以接受"]:this.msaStat.prr>.09?e.prr=[">9%","不可接受"]:e.prr=["1%-9%","尚可接受"],e}},created:function(){var e,t=(e=Aa()(Da.a.mark(function e(){var t;return Da.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ga({msaTaskId:a.msaTaskId});case 2:return t=e.sent,e.next=5,a.getMsaDetail(t);case 5:200==t.code&&t.data.configDataanalysisMsaId&&a.getDsMsaDetail(t.data.configDataanalysisMsaId);case 6:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)});this.msaTaskId=this.$route.params.msa_id;var a=this;t(),this.getRuleList()}}],components:{"grid-layout":xt.a.GridLayout,"grid-item":xt.a.GridItem,"v-linex":as,"v-liner":is,"v-box":ps,"v-one":vs,"v-more":ys,"v-histogram":hs,"v-table":Is,"v-rules":xs,"v-analysis":ks,"v-config":Ss,"v-controlinfo":Ns,"v-empty":pa,"v-folder":mt,"v-info":Fs,"v-attach":Rs,"v-pdf-info":ya,"v-pdf":Na},data:function(){return{dialogAttachVisible:!1,msaTaskId:"",panels:[{icon:"info",modelName:"分析条件",modelType:"1"},{icon:"info",modelName:"基本信息",modelType:"2"},{icon:"panel",modelName:"样本数据",modelType:"3"},{icon:"analysis",modelName:"制程能力分析",modelType:"4"},{icon:"rules",modelName:"判异规则",modelType:"5"},{icon:"line",modelName:"X管制图",modelType:"7"},{icon:"line",modelName:"R管制图",modelType:"8"},{icon:"histogram",modelName:"变异分量",modelType:"9"},{icon:"line",modelName:"数据 - 部件编号",modelType:"10"},{icon:"line",modelName:"部件编号 - 人员编号",modelType:"11"},{icon:"box",modelName:"数据 - 人员编号",modelType:"12"}],layout:[],rules:[],controlInfo:[],H7:"380",H8:"380",H9:"400",H10:"400",H11:"400",H12:"400",W7:"100%",W8:"100%",W9:"100%",W10:"100%",W11:"100%",W12:"100%",toConfig:!1,showPdf:!1,selectePanel:{},recentInfo:{},pdfInfo:{}}},methods:{showAddPanel:function(e){if(0==e){var t=!1;this.layout.length>0&&this.layout.forEach(function(e){0==e.modelType&&(t=!0)}),t&&0!=this.layout.length||this.layout.unshift({x:0,y:0,w:500,h:23,i:"0",modelName:"Panel",modelType:0})}else{var a=-1;this.layout.length>0&&this.layout.forEach(function(e,t){0==e.modelType&&(a=t)}),this.layout.splice(a,1)}},layoutUpdatedEvent:function(e){},deleteGridItem:function(e){var t=this;this.$confirm("确定删除面板"+e.modelName+"?","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning"}).then(function(){var a=e.modelType,s=void 0;t.layout.forEach(function(e,r){e.modelType==a&&(s=r,t.panels.forEach(function(e){Math.abs(e.modelType)==Math.abs(a)&&(e.modelType=Math.abs(e.modelType))}))}),t.layout.splice(s,1)}).catch(function(){})},addGridItem:function(e){var t=null,a=null;this.panels.forEach(function(a){a.modelType==e.modelType&&(t=Z()({},a),a.modelType=-a.modelType)}),a=this.layout.sort(Object(Me.firstBy)(function(e){return e.y}).thenBy("x")).slice(-1)[0];var s=0,r=0,i=0;i=Math.abs(e.modelType)>=6?1e3:500,Number(a.x)+Number(a.w)>500?(s=0,r=a.y+1):(s=Number(a.x)+Number(a.w),r=a.y),t.x=s,t.y=r,t.w=i,t.h=20,t.i=t.modelType,this.layout.push(t),this.showAddPanel(-1),s=0,r=0,i=0,a=null},updatePanel:function(){var e=this;Ha({msaTaskId:this.msaTaskId,dashboard:this.layout}).then(function(t){200==t.code?e.$message.success(t.message):e.$message.error(t.message)})},config:function(){this.$router.push("/msa/task/"+Number(this.msaTaskId))},resize:function(e,t,a,s,r){this["H"+e]=s,this["W"+e]=r-20+"px"},resized:function(e,t,a,s,r){this.layout.forEach(function(t){t.modelType==e&&(t.WPx=r-20,t.HPx=s)}),this.$store.getters.userRole<4&&Ha({spcTaskId:this.spcTaskId,dashboard:this.layout})},showPdfPanel:function(e){var t=this;this.pdfInfo=e,this.panels.forEach(function(a){3!=Math.abs(e.modelType)&&(a.modelType>0?t.selectePanel[a.modelType]=!1:t.selectePanel[Math.abs(a.modelType)]=!0)}),this.dialogAttachVisible=!1,this.showPdf=!0}},beforeRouteLeave:function(e,t,a){a()},created:function(){}},zs={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticStyle:{"border-bottom":"1px solid #dcdfe6",padding:"5px 20px"}},[a("el-col",{staticStyle:{"font-size":"20px"},attrs:{span:10}},[e._v("\n              \n                "),a("el-button",{attrs:{type:"text"},on:{click:function(t){e.$store.commit("SET_TASK",!0)}}},[a("i",{staticClass:"el-icon-menu el-icon--left"}),e._v(e._s(e.configData.msaTaskName)),a("i",{staticClass:"el-icon-caret-bottom el-icon--right"})])],1),e._v(" "),e.$store.getters.userRole<4?a("el-col",{staticClass:"text-right",attrs:{span:14}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"添加面板",placement:"top-start"}},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.showAddPanel("0")}}},[a("i",{staticClass:"el-icon-plus",staticStyle:{"font-size":"20px"}})])],1),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"保存",placement:"top-start"}},[a("el-button",{attrs:{size:"mini"},on:{click:e.updatePanel}},[a("svg-icon",{staticStyle:{"font-size":"20px"},attrs:{"icon-class":"save"}})],1)],1),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"配置",placement:"top-start"}},[a("el-button",{attrs:{size:"mini"},on:{click:e.config}},[a("svg-icon",{staticStyle:{"font-size":"20px"},attrs:{"icon-class":"setting"}})],1)],1),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"PDF",placement:"top-start"}},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.dialogAttachVisible=!0}}},[a("svg-icon",{staticStyle:{"font-size":"20px"},attrs:{"icon-class":"pdf"}})],1)],1)],1):e._e()],1),e._v(" "),a("div",{staticClass:"app-container Panel",attrs:{id:"noSelect"}},[a("grid-layout",{attrs:{layout:e.layout,"col-num":1e3,"row-height":10},on:{"update:layout":function(t){e.layout=t},"layout-updated":e.layoutUpdatedEvent}},[e._l(e.layout,function(t){return[0==t.modelType?a("grid-item",{key:t.i,attrs:{x:t.x,y:t.y,w:t.w,h:t.h,i:t.i,isDraggable:!1}},[a("div",{staticStyle:{height:"100%",background:"#ddd"}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"100%"}},[a("div",{staticStyle:{overflow:"hidden"},attrs:{slot:"header"},slot:"header"},[a("el-button",{staticStyle:{float:"right",padding:"4px"},attrs:{type:"text"},on:{click:function(t){e.showAddPanel("-1")}}},[a("i",{staticClass:"el-icon-close"})])],1),e._v(" "),e.toConfig?a("div",{staticClass:"text-center",staticStyle:{"font-size":"20px"}},[a("router-link",{attrs:{to:"/msa/task/"+Number(e.msaTaskId)}},[a("el-button",{attrs:{size:"large",type:"text"}},[e._v("请先配置数据分析 "),a("svg-icon",{attrs:{"icon-class":"right"}})],1)],1)],1):a("el-row",{staticClass:"detailPanel",staticStyle:{cursor:"default"},attrs:{gutter:20}},e._l(e.panels,function(t){return a("el-col",{directives:[{name:"show",rawName:"v-show",value:t.modelType>0,expression:"panel.modelType>0"}],key:t.modelName+"_"+t.modelType,staticStyle:{"margin-bottom":"20px",cursor:"pointer"},attrs:{span:8}},[a("el-card",{staticClass:"text-center",attrs:{"body-style":{padding:"10px"}}},[a("div",{on:{click:function(a){e.addGridItem(t)}}},[a("svg-icon",{staticStyle:{"font-size":"40px"},attrs:{"icon-class":t.icon}}),e._v(" "),a("div",{staticStyle:{padding:"10px"}},[e._v("\n                                         "+e._s(t.modelName)+"\n                                     ")])],1)])],1)}))],1)],1)]):"1"!=t.modelType||e.toConfig?"2"!=t.modelType||e.toConfig?"3"!=t.modelType||e.toConfig?"4"!=t.modelType||e.toConfig?"5"!=t.modelType||e.toConfig?"6"==t.modelType?a("grid-item",{key:t.i,attrs:{x:t.x,y:t.y,w:t.w,h:t.h,i:t.i,dragAllowFrom:"div.header"},on:{resize:e.resizez,resized:e.resized}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"100%",width:"100%"}},[a("div",{staticClass:"text-center header",staticStyle:{"font-size":"16px","line-height":"22px"},attrs:{slot:"header"},slot:"header"},[e._v("\n                     "+e._s(t.modelName)+"\n                     "),a("el-button",{staticStyle:{float:"right",padding:"8px",position:"relative",top:"-4px"},attrs:{type:"text"},on:{click:function(a){e.deleteGridItem(t)}}},[a("i",{staticClass:"el-icon-close"})])],1),e._v(" "),a("v-info")],1)],1):"7"!=t.modelType||e.toConfig?"8"!=t.modelType||e.toConfig?"9"!=t.modelType||e.toConfig?"10"!=t.modelType||e.toConfig?"11"!=t.modelType||e.toConfig?"12"!=t.modelType||e.toConfig?e._e():a("grid-item",{key:t.i,attrs:{x:t.x,y:t.y,w:t.w,h:t.h,i:t.i,dragAllowFrom:"div.header"},on:{resize:e.resize,resized:e.resized}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"100%",width:"100%"}},[a("div",{staticClass:"text-center header",staticStyle:{"font-size":"16px","line-height":"22px"},attrs:{slot:"header"},slot:"header"},[e._v("\n                    "+e._s(t.modelName)+"\n                    "),a("el-button",{staticStyle:{float:"right",padding:"8px",position:"relative",top:"-4px"},attrs:{type:"text"},on:{click:function(a){e.deleteGridItem(t)}}},[a("i",{staticClass:"el-icon-close"})])],1),e._v(" "),e.Box.values.length>0?a("v-box",{attrs:{boxObj:e.Box,H11:e.H12,W11:e.W12}}):a("v-empty")],1)],1):a("grid-item",{key:t.i,attrs:{x:t.x,y:t.y,w:t.w,h:t.h,i:t.i,dragAllowFrom:"div.header"},on:{resize:e.resize,resized:e.resized}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"100%",width:"100%"}},[a("div",{staticClass:"text-center header",staticStyle:{"font-size":"16px","line-height":"22px"},attrs:{slot:"header"},slot:"header"},[e._v("\n                    "+e._s(t.modelName)+"\n                    "),a("el-button",{staticStyle:{float:"right",padding:"8px",position:"relative",top:"-4px"},attrs:{type:"text"},on:{click:function(a){e.deleteGridItem(t)}}},[a("i",{staticClass:"el-icon-close"})])],1),e._v(" "),e.PartMore.rows.length>0?a("v-more",{attrs:{chartData:e.PartMore,H10:e.H11,W10:e.W11}}):a("v-empty")],1)],1):a("grid-item",{key:t.i,attrs:{x:t.x,y:t.y,w:t.w,h:t.h,i:t.i,dragAllowFrom:"div.header"},on:{resize:e.resize,resized:e.resized}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"100%",width:"100%"}},[a("div",{staticClass:"text-center header",staticStyle:{"font-size":"16px","line-height":"22px"},attrs:{slot:"header"},slot:"header"},[e._v("\n                    "+e._s(t.modelName)+"\n                    "),a("el-button",{staticStyle:{float:"right",padding:"8px",position:"relative",top:"-4px"},attrs:{type:"text"},on:{click:function(a){e.deleteGridItem(t)}}},[a("i",{staticClass:"el-icon-close"})])],1),e._v(" "),e.PartOne.rows.length>0?a("v-one",{attrs:{chartData:e.PartOne,xPart:e.msaStat.xPart,H9:e.H10,W9:e.W10}}):a("v-empty")],1)],1):a("grid-item",{key:t.i,attrs:{x:t.x,y:t.y,w:t.w,h:t.h,i:t.i,dragAllowFrom:"div.header"},on:{resize:e.resize,resized:e.resized}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"100%",width:"100%"}},[a("div",{staticClass:"text-center header",staticStyle:{"font-size":"16px","line-height":"22px"},attrs:{slot:"header"},slot:"header"},[e._v("\n                    "+e._s(t.modelName)+"\n                    "),a("el-button",{staticStyle:{float:"right",padding:"8px",position:"relative",top:"-4px"},attrs:{type:"text"},on:{click:function(a){e.deleteGridItem(t)}}},[a("i",{staticClass:"el-icon-close"})])],1),e._v(" "),e.HcharData.rows.length>0?a("v-histogram",{attrs:{charData:e.HcharData,H8:e.H9,W8:e.W9}}):a("v-empty")],1)],1):a("grid-item",{key:t.i,attrs:{x:t.x,y:t.y,w:t.w,h:t.h,i:t.i,dragAllowFrom:"div.header"},on:{resize:e.resize,resized:e.resized}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"100%",width:"100%"}},[a("div",{staticClass:"text-center header",staticStyle:{"font-size":"16px","line-height":"22px"},attrs:{slot:"header"},slot:"header"},[e._v("\n                    "+e._s(t.modelName)+"\n                    "),a("el-button",{staticStyle:{float:"right",padding:"8px",position:"relative",top:"-4px"},attrs:{type:"text"},on:{click:function(a){e.deleteGridItem(t)}}},[a("i",{staticClass:"el-icon-close"})])],1),e._v(" "),e.RcharData.rows.length>0?a("v-liner",{attrs:{chartData:e.RcharData,ucl:e.ucl_r,lcl:e.lcl_r,H7:e.H8,W7:e.W8}}):a("v-empty")],1)],1):a("grid-item",{key:t.i,attrs:{x:t.x,y:t.y,w:t.w,h:t.h,i:t.i,dragAllowFrom:"div.header"},on:{resize:e.resize,resized:e.resized}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"100%",width:"100%"}},[a("div",{staticClass:"text-center header",staticStyle:{"font-size":"16px","line-height":"22px"},attrs:{slot:"header"},slot:"header"},[e._v("\n                    "+e._s(t.modelName)+"\n                    "),a("el-button",{staticStyle:{float:"right",padding:"8px",position:"relative",top:"-4px"},attrs:{type:"text"},on:{click:function(a){e.deleteGridItem(t)}}},[a("i",{staticClass:"el-icon-close"})])],1),e._v(" "),e.XcharData.rows.length>0?a("v-linex",{attrs:{chartData:e.XcharData,ucl:e.ucl_x,lcl:e.lcl_x,H6:e.H7,W6:e.W7}}):a("v-empty")],1)],1):a("grid-item",{key:t.i,attrs:{x:t.x,y:t.y,w:t.w,h:t.h,i:t.i,dragAllowFrom:"div.header"}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"100%",width:"100%"}},[a("div",{staticClass:"text-center header",staticStyle:{"font-size":"16px","line-height":"22px"},attrs:{slot:"header"},slot:"header"},[e._v("\n                    "+e._s(t.modelName)+"\n                    "),a("el-button",{staticStyle:{float:"right",padding:"8px",position:"relative",top:"-4px"},attrs:{type:"text"},on:{click:function(a){e.deleteGridItem(t)}}},[a("i",{staticClass:"el-icon-close"})])],1),e._v(" "),a("v-rules",{attrs:{rules:e.rules}})],1)],1):a("grid-item",{key:t.i,attrs:{x:t.x,y:t.y,w:t.w,h:t.h,i:t.i,dragAllowFrom:"div.header"}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"100%",width:"100%"}},[a("div",{staticClass:"text-center header",staticStyle:{"font-size":"16px","line-height":"22px"},attrs:{slot:"header"},slot:"header"},[e._v("\n                    "+e._s(t.modelName)+"\n                    "),a("el-button",{staticStyle:{float:"right",padding:"8px",position:"relative",top:"-4px"},attrs:{type:"text"},on:{click:function(a){e.deleteGridItem(t)}}},[a("i",{staticClass:"el-icon-close"})])],1),e._v(" "),a("v-analysis",{attrs:{msaStat:e.msaStat,TRR:e.TRR}})],1)],1):a("grid-item",{key:t.i,attrs:{x:t.x,y:t.y,w:t.w,h:t.h,i:t.i,dragAllowFrom:"div.header"}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"100%",width:"100%"}},[a("div",{staticClass:"text-center header",staticStyle:{"font-size":"16px","line-height":"22px"},attrs:{slot:"header"},slot:"header"},[e._v("\n                    "+e._s(t.modelName)+"\n                    "),a("el-button",{staticStyle:{float:"right",padding:"8px",position:"relative",top:"-4px"},attrs:{type:"text"},on:{click:function(a){e.deleteGridItem(t)}}},[a("i",{staticClass:"el-icon-close"})])],1),e._v(" "),a("v-table",{attrs:{groupDatas:e.groupData,loopTitle:e.loopTitle,rules:e.rules}})],1)],1):a("grid-item",{key:t.i,attrs:{x:t.x,y:t.y,w:t.w,h:t.h,i:t.i,dragAllowFrom:"div.header"}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"100%",width:"100%"}},[a("div",{staticClass:"text-center header",staticStyle:{"font-size":"16px","line-height":"22px"},attrs:{slot:"header"},slot:"header"},[e._v("\n                    "+e._s(t.modelName)+"\n                    "),a("el-button",{staticStyle:{float:"right",padding:"8px",position:"relative",top:"-4px"},attrs:{type:"text"},on:{click:function(a){e.deleteGridItem(t)}}},[a("i",{staticClass:"el-icon-close"})])],1),e._v(" "),a("v-config",{attrs:{msaStat:e.msaStat,configData:e.configData,personLen:e.personLen,partLen:e.partLen,rowLen:e.rowLen}})],1)],1):a("grid-item",{key:t.i,attrs:{x:t.x,y:t.y,w:t.w,h:t.h,i:t.i,dragAllowFrom:"div.header"}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"100%",width:"100%"}},[a("div",{staticClass:"text-center header",staticStyle:{"font-size":"16px","line-height":"22px"},attrs:{slot:"header"},slot:"header"},[e._v("\n                    "+e._s(t.modelName)+"\n                    "),a("el-button",{staticStyle:{float:"right",padding:"8px",position:"relative",top:"-4px"},attrs:{type:"text"},on:{click:function(a){e.deleteGridItem(t)}}},[a("i",{staticClass:"el-icon-close"})])],1),e._v(" "),a("v-controlinfo",{attrs:{controlInfo:e.controlInfo,show:!0},on:{view:e.getMsaView}})],1)],1)]})],2)],1),e._v(" "),a("v-folder",{directives:[{name:"show",rawName:"v-show",value:e.$store.getters.showFolderTask,expression:"$store.getters.showFolderTask"}]}),e._v(" "),a("div",{staticClass:"Dialog"},[a("el-dialog",{attrs:{title:"辅助及原因追查",visible:e.dialogAttachVisible,width:"700px"},on:{"update:visible":function(t){e.dialogAttachVisible=t}}},[a("v-pdf-info",{attrs:{pdfInfo:{}},on:{close:function(t){e.dialogAttachVisible=!1,e.pdfInfo.J=[],e.pdfInfo={}},"show-pdf":e.showPdfPanel}})],1)],1),e._v(" "),a("v-pdf",{attrs:{showPdf:e.showPdf,name:e.configData.msaTaskName,panel:e.selectePanel},on:{close:function(t){e.showPdf=!1}}},[a("v-pdf-info",{attrs:{slot:"100",pdfInfo:e.pdfInfo},slot:"100"}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.selectePanel[1],expression:"selectePanel[1]"}],staticStyle:{border:"1px solid #999",padding:"20px 20px 0 0"},attrs:{slot:"1"},slot:"1"},[a("v-controlinfo",{attrs:{controlInfo:e.controlInfo,show:!1,recentInfo:e.recentInfo},on:{view:e.getMsaView}})],1),e._v(" "),a("v-config",{directives:[{name:"show",rawName:"v-show",value:e.selectePanel[2],expression:"selectePanel[2]"}],attrs:{slot:"2",msaStat:e.msaStat,configData:e.configData,personLen:e.personLen,partLen:e.partLen,rowLen:e.rowLen},slot:"2"}),e._v(" "),a("v-analysis",{directives:[{name:"show",rawName:"v-show",value:e.selectePanel[4],expression:"selectePanel[4]"}],attrs:{slot:"4",msaStat:e.msaStat,TRR:e.TRR},slot:"4"}),e._v(" "),a("v-rules",{directives:[{name:"show",rawName:"v-show",value:e.selectePanel[5],expression:"selectePanel[5]"}],attrs:{slot:"5",rules:e.rules},slot:"5"}),e._v(" "),e.XcharData.rows.length>0&&e.selectePanel[7]?a("v-linex",{attrs:{slot:"7",chartData:e.XcharData,ucl:e.ucl_x,lcl:e.lcl_x,H6:"400",W6:"100%"},slot:"7"}):e._e(),e._v(" "),e.RcharData.rows.length>0&&e.selectePanel[8]?a("v-liner",{attrs:{slot:"8",chartData:e.RcharData,ucl:e.ucl_r,lcl:e.lcl_r,H7:"400",W7:"100%"},slot:"8"}):e._e(),e._v(" "),e.HcharData.rows.length>0&&e.selectePanel[9]?a("v-histogram",{attrs:{slot:"9",charData:e.HcharData,H8:"400",W8:"100%"},slot:"9"}):e._e(),e._v(" "),e.PartOne.rows.length>0&&e.selectePanel[10]?a("v-one",{attrs:{slot:"10",chartData:e.PartOne,xPart:e.msaStat.xPart,H9:"400",W9:"100%"},slot:"10"}):e._e(),e._v(" "),e.PartMore.rows.length>0&&e.selectePanel[11]?a("v-more",{attrs:{slot:"11",chartData:e.PartMore,H10:"400",W10:"100%"},slot:"11"}):e._e(),e._v(" "),e.Box.values.length>0&&e.selectePanel[12]?a("v-box",{attrs:{slot:"12",boxObj:e.Box,H11:"400",W11:"100%"},slot:"12"}):e._e()],1)],1)},staticRenderFns:[]};var Es,Ps=a("/Xao")($s,zs,!1,function(e){a("i9s8")},null,null).exports,js={data:function(){return{folder:{folderName:""},rules:{folderName:[{required:!0,message:"请填写文件夹名称",trigger:"change,blur"}]},loadingSave:!1}},methods:{submit:function(){var e=this;this.$refs.folder.validate(function(t){if(t){e.loadingSave=!0;var a=k();a?(s={folderName:e.folder.folderName,createbyUserId:a},pe({url:"tb/folder/editor/add",method:"post",data:s})).then(function(t){e.loadingSave=!1,200==t.code?(e.$refs.folder.resetFields(),e.$router.push("/tb/user/folder"),e.$message.success("创建文件夹成功")):e.$message.error(t.message)}):(w(),e.$router.replace("/login"),e.$message.error("用户信息获取失败，请重新登录"))}var s})}}},Vs={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticStyle:{"border-bottom":"1px solid #dcdfe6",padding:"5px 20px"}},[a("el-col",{staticClass:"text-right",attrs:{span:24}},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.$router.go(-1)}}},[a("svg-icon",{staticStyle:{"font-size":"20px"},attrs:{"icon-class":"back"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"app-container"},[a("el-row",[a("el-col",{attrs:{xs:{span:20,offset:2},sm:{span:18,offset:3},md:{span:16,offset:4},lg:{span:16,offset:4},xl:{span:16,offset:4}}},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-form",{ref:"folder",staticClass:"Form m-t",attrs:{"label-position":"right","label-width":"120px",model:e.folder,rules:e.rules,size:"mini"}},[a("el-row",{staticStyle:{overflow:"hidden"}},[a("el-col",{staticClass:"setting",attrs:{span:22}},[a("el-form-item",{staticClass:"required",attrs:{label:"文件夹名称 :",prop:"folderName"}},[a("el-input",{model:{value:e.folder.folderName,callback:function(t){e.$set(e.folder,"folderName",t)},expression:"folder.folderName"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticStyle:{"border-top":"1px solid #ebeef5","text-align":"center","padding-top":"20px","margin-bottom":"10px"}},[a("el-button",{attrs:{type:"primary",size:"mini",loading:e.loadingSave},on:{click:e.submit}},[e._v("创建")])],1)])],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]},Os=a("/Xao")(js,Vs,!1,null,null,null).exports;function qs(e){return pe({url:"piping/gateway/cep/program/update",method:"post",data:e})}function Bs(e){return pe({url:"piping/gateway/cep/program/detail",method:"post",params:e})}var Us={data:function(){return{showMovelist:!1,updateFolderLoading:!1,deleteFolderLoading:!1,deleteListLoading:!1,loading:!1,selctedFolder:{folderId:""},folderRules:{folderId:[{required:!0,message:"请选择文件夹",trigger:"change,blur"}]},folderId:"",showAddPermission:!1,checkedAll:!1,empty:[],activeName:"Dashboard",searchDashboard:"",checkedDashboard:[],permission:[{id:1,name:"View"},{id:2,name:"Edit"},{id:3,name:"Admin"}],Form:{type:"",folderId:"",userId:"",permissionType:"",role:"",permission:""},rules:{type:[{required:!0,message:"请选择分类",trigger:"change,blur"}],userId:[{required:!0,message:"请选择用户",trigger:"changeblur"}],role:[{required:!0,message:"请选择角色",trigger:"change,blur"}],permission:[{required:!0,message:"请选择权限",trigger:"change,blur"}]},userList:[],roleList:[{id:5,name:"角色1"},{id:6,name:"角色2"}],permissionList:{user:[],role:{}},folderTasks:{msa:[],spc:[]},filterFolderTasks:{msa:[],spc:[]},updatePermissionId:"",newFolderName:"11111",oldFolderName:"",folderList:[],LOADING:{lock:!0,text:"数据处理中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.6)"},fullLoading:null}},methods:(Es={checked:function(){Number(this.filterFolderTasks.piping.length)+Number(this.filterFolderTasks.msa.length)+Number(this.filterFolderTasks.spc.length)==this.checkedDashboard.length?this.checkedAll=!0:this.checkedAll=!1},checkAll:function(){var e=this;this.checkedDashboard=[],this.checkedAll?(this.filterFolderTasks.msa.length>0&&this.filterFolderTasks.msa.forEach(function(t){e.checkedDashboard.push(t.msaTaskId)}),this.filterFolderTasks.spc.length>0&&this.filterFolderTasks.spc.forEach(function(t){e.checkedDashboard.push(t.spcTaskId)}),this.filterFolderTasks.piping.length>0&&this.filterFolderTasks.piping.forEach(function(t){e.checkedDashboard.push(t.cepProgramId)})):this.checkedDashboard=[]},getUserList:function(){},getFolderTasks:function(){var e=this;Xe({folderId:this.folderId}).then(function(t){200==t.code?(e.folderTasks.msa=t.data.msa,e.folderTasks.spc=t.data.spc,e.folderTasks.piping=t.data.piping,e.filterFolderTasks.msa=t.data.msa.slice(),e.filterFolderTasks.spc=t.data.spc.slice(),e.filterFolderTasks.piping=t.data.piping.slice()):e.$message.error(t.message)})}},It()(Es,"getUserList",function(){var e=this;oe().then(function(t){200==t.code?e.userList=t.data.list:e.$message.error(t.message)})}),It()(Es,"folderPermission",function(){var e=this;this.$refs.Form.validate(function(t){if(t){if(1==e.Form.type){var a={folderId:e.folderId,userId:e.Form.userId,permissionType:e.Form.permission};e.fullLoading=e.$loading(e.LOADING),function(e){return pe({url:"tb/permission/user/folder/editor/add",method:"post",data:e})}(a).then(function(t){e.fullLoading.close(),200==t.code?(e.$message.success(t.message),e.getFolderUserList()):e.$message.error(t.message)})}if(2==e.Form.type){var s={folderId:e.folderId,createbyUserId:k()};1==e.Form.role&&(s.permissionView=e.Form.permission),2==e.Form.role&&(s.permissionEdit=e.Form.permission),3==e.Form.role&&(s.permissionAdmin=e.Form.permission),e.fullLoading=e.$loading(e.LOADING),He(s).then(function(t){e.fullLoading.close(),200==t.code?(e.$message.success(t.message),e.getFolderRoleList()):e.$message.error(t.message)})}}})}),It()(Es,"getFolderUserList",function(){var e,t=this;(e={folderId:this.folderId},pe({url:"tb/permission/user/folder/viewer/list",method:"post",params:e})).then(function(e){200==e.code?t.permissionList.user=e.data:t.$message.error(e.message)})}),It()(Es,"getFolderRoleList",function(){var e,t=this;(e={folderId:this.folderId},pe({url:"tb/folder/viewer/detail",method:"post",params:e})).then(function(e){200==e.code?t.permissionList.role=e.data:t.$message.error(e.message)})}),It()(Es,"getUsernameByUserId",function(e){if(this.userList.length>0){var t=this.userList.filter(function(t){return t.userId==e});return t.length>0?t[0]:{}}return{}}),It()(Es,"updateFolder",function(e){var t=this;if("edit"==e){var a=Z()({},this.permissionList.role);a.permissionEdit=-1,this.$confirm("确定删除Edit角色?","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning"}).then(function(){t.fullLoading=t.$loading(t.LOADING),He(a).then(function(e){t.fullLoading.close(),200==e.code?(t.$message.success(e.message),t.permissionList.role.permissionEdit=-1):t.$message.error(e.message)})}).catch(function(){})}else if("view"==e){var s=Z()({},this.permissionList.role);s.permissionView=-1,this.$confirm("确定删除View角色?","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning"}).then(function(){t.fullLoading=t.$loading(t.LOADING),He(s).then(function(e){t.fullLoading.close(),200==e.code?(t.$message.success(e.message),t.permissionList.role.permissionView=-1):t.$message.error(e.message)})}).catch(function(){})}else this.fullLoading=this.$loading(this.LOADING),He(this.permissionList.role).then(function(e){t.fullLoading.close(),200==e.code?t.$message.success(e.message):t.$message.error(e.message),t.getFolderRoleList()})}),It()(Es,"updateFolderUser",function(e){var t,a=this;this.fullLoading=this.$loading(this.LOADING),(t=e,pe({url:"tb/permission/user/folder/editor/update",method:"post",data:t})).then(function(e){a.fullLoading.close(),200==e.code?a.$message.success(e.message):a.$message.error(e.message)})}),It()(Es,"deleteFolderUser",function(e){var t=this;this.$confirm("确定删除用户?","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning"}).then(function(){var a;t.fullLoading=t.$loading(t.LOADING),(a={tbPermissionUserFolderId:e.tbPermissionUserFolderId},pe({url:"tb/permission/user/folder/editor/delete",method:"post",params:a})).then(function(e){t.fullLoading.close(),200==e.code?(t.$message.success(e.message),t.getFolderUserList()):t.$message.error(e.message)})}).catch(function(){})}),It()(Es,"deleteFolder",function(){var e=this;this.$confirm("确定删除文件夹"+this.permissionList.role.folderName+"?","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning"}).then(function(){var t;e.fullLoading=e.$loading(e.LOADING),(t={folderId:e.folderId},pe({url:"tb/folder/editor/delete",method:"post",params:t})).then(function(t){e.fullLoading.close(),200==t.code?(e.$router.push("/tb/user/folder"),e.$message.success(t.message)):e.$message.error(t.message)})}).catch(function(){})}),It()(Es,"deleteList",function(){var e=this;this.$confirm("确定删除选中的数据?","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning"}).then(function(){var t=e.moveDel(),a=[],s=[],r=[];t.msa.length>0&&t.msa.forEach(function(e){a.push(pe({url:"msa/task/editor/delete",method:"post",params:e}))}),t.spc.length>0&&t.spc.forEach(function(e){s.push(pe({url:"spc/task/editor/delete",method:"post",params:e}))}),t.piping.length>0&&t.piping.forEach(function(e){r.push(pe({url:"piping/gateway/cep/program/delete",method:"post",params:e}))}),e.fullLoading=e.$loading(e.LOADING),K.a.all([].concat(s,a,r)).then(function(t){e.checkedDashboard=[],e.fullLoading.close(),e.getFolderTasks(),t.forEach(function(t){200==t.code?e.$message.success(t.message):e.$message.error(t.message)})})}).catch(function(){})}),It()(Es,"getFolderList",function(){var e=this;Ge().then(function(t){200==t.code?e.folderList=t.data.list:e.$message.error(t.message)})}),It()(Es,"moveList",function(){var e=this;if(this.selctedFolder.folderId){var t=this.moveDel(),a=[],s=[],r=[];t.msa.length>0&&t.msa.forEach(function(e){a.push(Ha(Msa))}),t.spc.length>0&&t.spc.forEach(function(e){s.push(We(e))}),t.piping.length>0&&t.piping.forEach(function(e){r.push(qs(e))}),this.fullLoading=this.$loading(this.LOADING),K.a.all([].concat(s,a,r)).then(function(t){e.checkedDashboard=[],e.fullLoading.close(),e.showMovelist=!1,e.getFolderTasks()})}else this.$message.warning("请先选择文件夹")}),It()(Es,"moveDel",function(){var e=this,t=[],a=[],s=[];return this.checkedDashboard.forEach(function(r){e.folderTasks.msa.length>0&&e.folderTasks.msa.forEach(function(a){a.msaTaskId==r&&t.push({msaTaskId:r,folderId:e.selctedFolder.folderId})}),e.folderTasks.spc.length>0&&e.folderTasks.spc.forEach(function(t){t.spcTaskId==r&&a.push({spcTaskId:r,folderId:e.selctedFolder.folderId})}),e.folderTasks.piping.length>0&&e.folderTasks.piping.forEach(function(t){t.cepProgramId==r&&s.push({cepProgramId:r,folderId:e.selctedFolder.folderId})})}),{msa:t,spc:a,piping:s}}),It()(Es,"filterTasks",function(){if(this.checkedDashboard=[],this.checkedAll=!1,this.searchDashboard){var e=new RegExp("^"+this.searchDashboard,"gi");this.folderTasks.spc.length>0?this.filterFolderTasks.spc=this.folderTasks.spc.filter(function(t){return e.test(t.spcTaskName)}):this.filterFolderTasks.spc=this.folderTasks.spc.slice(),this.folderTasks.msa.length>0?this.filterFolderTasks.msa=this.folderTasks.msa.filter(function(t){return e.test(t.msaTaskName)}):this.filterFolderTasks.msa=this.folderTasks.msa.slice(),this.folderTasks.piping.length>0?this.filterFolderTasks.piping=this.folderTasks.piping.filter(function(t){return e.test(t.programName)}):this.filterFolderTasks.piping=this.folderTasks.piping.slice()}else this.filterFolderTasks.spc=this.folderTasks.spc.slice(),this.filterFolderTasks.msa=this.folderTasks.msa.slice(),this.filterFolderTasks.piping=this.folderTasks.piping.slice()}),Es),computed:{chooseList:function(){return 1==this.userRolePermission.type?this.userList:2==this.userRolePermission.type?this.roleList:[]}},watch:{"Form.type":function(){1==this.Form.type?(this.rules.role=[],this.rules.userId=[{required:!0,message:"请选择用户",trigger:"change,blur"}]):2==this.Form.type&&(this.rules.role=[{required:!0,message:"请选择角色",trigger:"change,blur"}],this.rules.userId=[])}},created:function(){this.folderId=this.$route.params.id,this.getFolderTasks(),this.getUserList(),this.getFolderUserList(),this.getFolderRoleList(),this.getFolderList()}},Hs={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",[a("el-col",{attrs:{xs:{span:20,offset:2},sm:{span:18,offset:3},md:{span:16,offset:4},lg:{span:16,offset:4},xl:{span:16,offset:4}}},[a("el-tabs",{attrs:{type:"border-card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{name:"Dashboard"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-menu m-r-5"}),e._v("Dashboard")]),e._v(" "),a("div",[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{"prefix-icon":"el-icon-search"},on:{input:e.filterTasks},model:{value:e.searchDashboard,callback:function(t){e.searchDashboard=t},expression:"searchDashboard"}})],1),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:12}},[a("el-button",{attrs:{type:"success",size:"small"}},[a("i",{staticClass:"el-icon-plus m-r-5"}),e._v("仪表盘\n                                  ")])],1)],1),e._v(" "),a("div",{staticClass:"m-t"},[a("el-row",[a("el-col",{staticStyle:{"line-height":"32px","padding-left":"11px"},attrs:{span:12}},[a("el-checkbox",{on:{change:e.checkAll},model:{value:e.checkedAll,callback:function(t){e.checkedAll=t},expression:"checkedAll"}})],1),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:12}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.checkedDashboard.length>0,expression:"checkedDashboard.length>0"}],attrs:{type:"primary",size:"small"},on:{click:function(t){e.showMovelist=!0}}},[a("i",{staticClass:" m-r-5"}),e._v("移动到")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.checkedDashboard.length>0,expression:"checkedDashboard.length>0"}],attrs:{type:"warning",size:"small",loading:e.deleteListLoading},on:{click:e.deleteList}},[a("i",{staticClass:"el-icon-delete m-r-5"}),e._v("删除")])],1)],1),e._v(" "),a("div",{staticClass:"m-t SETTING CardList"},[e._l(e.filterFolderTasks.msa,function(t){return a("el-card",{directives:[{name:"show",rawName:"v-show",value:e.filterFolderTasks.msa.length>0,expression:"filterFolderTasks.msa.length>0"}],key:t.msaTaskId+"msa",staticClass:"box-card m-t-5",attrs:{"body-style":{padding:"10px"}}},[a("el-row",[a("el-col",{attrs:{span:20}},[a("el-checkbox",{attrs:{label:t.msaTaskId},on:{change:e.checked},model:{value:e.checkedDashboard,callback:function(t){e.checkedDashboard=t},expression:"checkedDashboard"}}),e._v(" "),a("i",{staticClass:"el-icon-menu",staticStyle:{margin:"0 8px","font-size":"16px",color:"#999",position:"relative",top:"2px"}}),e._v(" "),a("span",[e._v(e._s(t.msaTaskName))])],1),e._v(" "),a("el-col",{staticClass:"text-right",staticStyle:{"padding-right":"15px",color:"#bbb"},attrs:{span:4}},[e._v("\n                                              MSA\n                                          ")])],1)],1)}),e._v(" "),e._l(e.filterFolderTasks.spc,function(t){return a("el-card",{directives:[{name:"show",rawName:"v-show",value:e.filterFolderTasks.spc.length>0,expression:"filterFolderTasks.spc.length>0"}],key:t.spcTaskId+"spc",staticClass:"box-card m-t-5",attrs:{"body-style":{padding:"10px"}}},[a("el-row",[a("el-col",{attrs:{span:20}},[a("el-checkbox",{attrs:{label:t.spcTaskId},on:{change:e.checked},model:{value:e.checkedDashboard,callback:function(t){e.checkedDashboard=t},expression:"checkedDashboard"}}),e._v(" "),a("i",{staticClass:"el-icon-menu",staticStyle:{margin:"0 8px","font-size":"16px",color:"#999",position:"relative",top:"2px"}}),e._v(" "),a("span",[e._v(e._s(t.spcTaskName))])],1),e._v(" "),a("el-col",{staticClass:"text-right",staticStyle:{"padding-right":"15px",color:"#bbb"},attrs:{span:4}},[e._v("\n                                              SPC\n                                          ")])],1)],1)}),e._v(" "),e._l(e.filterFolderTasks.piping,function(t){return a("el-card",{directives:[{name:"show",rawName:"v-show",value:e.filterFolderTasks.piping.length>0,expression:"filterFolderTasks.piping.length>0"}],key:t.cepProgramId+"piping",staticClass:"box-card m-t-5",attrs:{"body-style":{padding:"10px"}}},[a("el-row",[a("el-col",{attrs:{span:20}},[a("el-checkbox",{attrs:{label:t.cepProgramId},on:{change:e.checked},model:{value:e.checkedDashboard,callback:function(t){e.checkedDashboard=t},expression:"checkedDashboard"}}),e._v(" "),a("i",{staticClass:"el-icon-menu",staticStyle:{margin:"0 8px","font-size":"16px",color:"#999",position:"relative",top:"2px"}}),e._v(" "),a("span",[e._v(e._s(t.programName))])],1),e._v(" "),a("el-col",{staticClass:"text-right",staticStyle:{"padding-right":"15px",color:"#bbb"},attrs:{span:4}},[e._v("\n                                              Piping\n                                          ")])],1)],1)}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.folderTasks.piping&&e.folderTasks.msa&&e.folderTasks.spc&&0==e.folderTasks.piping.length&&0==e.folderTasks.msa.length&&0==e.folderTasks.spc.length,expression:"folderTasks.piping && folderTasks.msa && folderTasks.spc &&  folderTasks.piping.length==0 && folderTasks.msa.length==0 && folderTasks.spc.length==0"}],staticClass:"Empty text-center"},[e._v("\n                                      该文件夹还没有绑定任何数据\n                                  ")])],2)],1)],1)]),e._v(" "),a("el-tab-pane",{attrs:{name:"permission"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-goods m-r-5"}),e._v("权限")]),e._v(" "),a("div",[a("el-row",[a("el-col",{staticClass:"text-right",attrs:{span:24}},[a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(t){e.showAddPermission=!0}}},[a("i",{staticClass:"el-icon-plus m-r-5"}),e._v("添加权限\n                                 ")])],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.showAddPermission,expression:"showAddPermission"}],staticClass:"addPermission m-t ",attrs:{span:24}},[a("el-card",{staticClass:"box-card"},[a("div",{attrs:{slot:"header"},slot:"header"},[a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(t){e.showAddPermission=!1}}},[a("i",{staticClass:"el-icon-close"})])],1),e._v(" "),a("div",[a("el-form",{ref:"Form",staticClass:"Form",attrs:{inline:!0,model:e.Form,rules:e.rules}},[a("el-form-item",{attrs:{prop:"type"}},[a("el-select",{attrs:{size:"mini"},on:{change:function(t){e.Form.userId="",e.Form.role="",e.Form.permission=""}},model:{value:e.Form.type,callback:function(t){e.$set(e.Form,"type",t)},expression:"Form.type"}},[a("el-option",{attrs:{label:"用户",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"角色",value:"2"}})],1)],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1==e.Form.type,expression:"Form.type==1"}],attrs:{label:"用户",prop:"userId"}},[a("el-select",{attrs:{size:"mini"},model:{value:e.Form.userId,callback:function(t){e.$set(e.Form,"userId",t)},expression:"Form.userId"}},e._l(e.userList,function(e){return a("el-option",{key:e.username,attrs:{label:e.username,value:e.userId}})}))],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2==e.Form.type,expression:"Form.type==2"}],attrs:{prop:"role",label:"角色"}},[a("el-select",{attrs:{size:"mini"},model:{value:e.Form.role,callback:function(t){e.$set(e.Form,"role",t)},expression:"Form.role"}},e._l(e.permission,function(e){return a("el-option",{directives:[{name:"show",rawName:"v-show",value:!(3==e.id),expression:"!(p.id==3)"}],key:"@"+e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{prop:"permission",label:"权限"}},[a("el-select",{attrs:{size:"mini"},model:{value:e.Form.permission,callback:function(t){e.$set(e.Form,"permission",t)},expression:"Form.permission"}},e._l(e.permission,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"success",size:"mini",loading:e.loading},on:{click:e.folderPermission}},[e._v("保存")])],1)],1)],1)])],1)],1),e._v(" "),a("div",{staticClass:"m-t CardList"},[a("el-card",{directives:[{name:"show",rawName:"v-show",value:e.permissionList.role.permissionAdmin>0,expression:"permissionList.role.permissionAdmin>0"}],staticClass:"box-card m-t-5",staticStyle:{position:"relative"},attrs:{"body-style":{padding:"6px"}}},[a("el-row",[a("el-col",{staticStyle:{"line-height":"28px"},attrs:{span:12}},[a("i",{staticClass:"el-icon-menu",staticStyle:{margin:"0 8px","font-size":"16px",color:"#999",position:"relative",top:"2px"}}),e._v(" "),a("span",[e._v(e._s(e.permission[2].name)+"(role)")])]),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:12}},[a("el-select",{attrs:{size:"mini"},on:{change:function(t){e.updateFolderRole()}},model:{value:e.permissionList.role.permissionAdmin,callback:function(t){e.$set(e.permissionList.role,"permissionAdmin",t)},expression:"permissionList.role.permissionAdmin"}},e._l(e.permission,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),e._v(" "),a("el-button",{attrs:{size:"mini"}},[a("i",{staticClass:"el-icon-goods"})])],1)],1),e._v(" "),a("div",{staticStyle:{"z-index":"10",position:"absolute",top:"0",left:"0",height:"100%",width:"100%",background:"#ddd",cursor:"not-allowed",opacity:"0.3"}})],1),e._v(" "),a("el-card",{directives:[{name:"show",rawName:"v-show",value:e.permissionList.role.permissionEdit>0,expression:"permissionList.role.permissionEdit>0"}],staticClass:"box-card m-t-5",attrs:{"body-style":{padding:"6px"}}},[a("el-row",{staticStyle:{position:"relative"}},[a("el-row",[a("el-col",{staticStyle:{"line-height":"28px"},attrs:{span:12}},[a("i",{staticClass:"el-icon-menu",staticStyle:{margin:"0 8px","font-size":"16px",color:"#999",position:"relative",top:"2px"}}),e._v(" "),a("span",[e._v(e._s(e.permission[1].name)+"(role)")])]),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:12}},[a("el-select",{attrs:{size:"mini"},on:{change:e.updateFolder},model:{value:e.permissionList.role.permissionEdit,callback:function(t){e.$set(e.permissionList.role,"permissionEdit",t)},expression:"permissionList.role.permissionEdit"}},e._l(e.permission,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){e.updateFolder("edit")}}},[a("i",{staticClass:"el-icon-close"})])],1)],1)],1)],1),e._v(" "),a("el-card",{directives:[{name:"show",rawName:"v-show",value:e.permissionList.role.permissionView>0,expression:"permissionList.role.permissionView>0"}],staticClass:"box-card m-t-5",attrs:{"body-style":{padding:"6px"}}},[a("el-row",{directives:[{name:"show",rawName:"v-show",value:e.permissionList.role.permissionView>0,expression:"permissionList.role.permissionView>0"}]},[a("el-col",{staticStyle:{"line-height":"28px"},attrs:{span:12}},[a("i",{staticClass:"el-icon-menu",staticStyle:{margin:"0 8px","font-size":"16px",color:"#999",position:"relative",top:"2px"}}),e._v(" "),a("span",[e._v(e._s(e.permission[0].name)+"(role)")])]),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:12}},[a("el-select",{attrs:{size:"mini"},on:{change:e.updateFolder},model:{value:e.permissionList.role.permissionView,callback:function(t){e.$set(e.permissionList.role,"permissionView",t)},expression:"permissionList.role.permissionView"}},e._l(e.permission,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){e.updateFolder("view")}}},[a("i",{staticClass:"el-icon-close"})])],1)],1)],1),e._v(" "),e._l(e.permissionList.user,function(t){return a("el-card",{key:"user"+t.userId,staticClass:"box-card m-t-5",attrs:{"body-style":{padding:"6px"}}},[a("el-row",[a("el-col",{staticStyle:{"line-height":"28px"},attrs:{span:12}},[a("i",{staticClass:"el-icon-menu",staticStyle:{margin:"0 8px","font-size":"16px",color:"#999",position:"relative",top:"2px"}}),e._v(" "),a("span",[e._v(e._s(e.getUsernameByUserId(t.userId).username)+"(user)")])]),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:12}},[a("el-select",{attrs:{size:"mini"},on:{change:function(a){e.updateFolderUser(t)}},model:{value:t.permissionType,callback:function(a){e.$set(t,"permissionType",a)},expression:"user.permissionType"}},e._l(e.permission,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){e.deleteFolderUser(t)}}},[a("i",{staticClass:"el-icon-close"})])],1)],1)],1)})],2)],1)]),e._v(" "),a("el-tab-pane",{attrs:{name:"setting"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-setting m-r-5"}),e._v("配置")]),e._v(" "),a("div",[a("el-form",{staticClass:"Form m-t",attrs:{"label-position":"right","label-width":"120px",size:"mini"}},[a("el-form-item",{attrs:{label:"文件夹名称 :"}},[a("el-input",{model:{value:e.permissionList.role.folderName,callback:function(t){e.$set(e.permissionList.role,"folderName",t)},expression:"permissionList.role.folderName"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini",loading:e.updateFolderLoading},on:{click:e.updateFolder}},[e._v("保存")]),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini",loading:e.deleteFolderLoading},on:{click:e.deleteFolder}},[a("i",{staticClass:"el-icon-delete m-r-5"}),e._v("删除")])],1),e._v(" "),a("el-row")],1)],1)])],1)],1)],1),e._v(" "),a("el-dialog",{staticClass:"dialog setting-form",attrs:{"close-on-click-modal":!1,visible:e.showMovelist,"show-close":!1,width:"500px"},on:{"update:visible":function(t){e.showMovelist=t}}},[a("el-form",{ref:"move",staticClass:"Form",attrs:{model:e.selctedFolder,"label-width":"80px",size:"mini",rules:e.folderRules}},[a("el-form-item",{attrs:{label:"文件夹 :"}},[a("el-select",{model:{value:e.selctedFolder.folderId,callback:function(t){e.$set(e.selctedFolder,"folderId",t)},expression:"selctedFolder.folderId"}},e._l(e.folderList,function(t){return a("el-option",{directives:[{name:"show",rawName:"v-show",value:!(t.folderId==e.folderId),expression:"!(folder.folderId==folderId)"}],key:t.folderId,attrs:{label:t.folderName,value:t.folderId}})}))],1)],1),e._v(" "),a("div",{staticStyle:{"border-top":"1px solid #ebeef5","margin-top":"20px","text-align":"center","padding-top":"20px","margin-bottom":"-10px"}},[a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"mini",loading:e.updateFolderLoading},on:{click:e.moveList}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.showMovelist=!1,e.updateFolderLoading=!1}}},[e._v("取消")])],1)])],1)],1)},staticRenderFns:[]};var Gs=a("/Xao")(Us,Hs,!1,function(e){a("7N8t")},null,null).exports,Xs={components:{"v-folder":mt},data:function(){return{activeNames:"",collection:rt.a,folderList:[],viewList:[],collectionList:[],warning:[],username:"",logintime:""}},methods:{rowClick:function(e,t,a){},headerSetting:function(e){this.$router.push("/setting/"+e)},getFolderList:function(){var e=this;Ge().then(function(t){200==t.code?t.data.list.length>0&&(e.folderList=t.data.list.map(function(e){return e.spc=[],e.msa=[],e}),e.filterFolderList=e.folderList.slice()):e.$message.error(t.message)})},showTask:function(){this.$store.commit("SET_TASK",!0)},getViewList:function(){var e,t=this;(e={userId:k()},pe({url:"tb/user/view/viewer/list",method:"post",params:e})).then(function(e){200==e.code?t.viewList=e.data:t.$message.error(e.message)})},viewDelete:function(e,t){var a=this;this.$confirm("确定删除浏览记录"+e.viewResourcesName+"?","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning"}).then(function(){var s;(s={userViewId:e.userViewId},pe({url:"tb/user/view/viewer/delete",method:"post",params:s})).then(function(e){200==e.code?(a.viewList.splice(t,1),a.$message.success(e.message)):a.$message.error(e.message)})}).catch(function(){})},toDetail:function(e,t){"v"==e?1==t.viewResourcesType?this.$router.push("/spc/detail/"+t.viewResourcesId):2==t.viewResourcesType?this.$router.push("/msa/detail/"+t.viewResourcesId):3==t.viewResourcesType&&this.$router.push("/piping/gateway/cep/program/"+t.viewResourcesId):"c"==e&&(1==t.collectionResourcesType?this.$router.push("/spc/detail/"+t.collectionResourcesId):2==t.collectionResourcesType?this.$router.push("/msa/detail/"+t.collectionResourcesId):3==t.collectionResourcesType&&this.$router.push("/piping/gateway/cep/program/"+t.collectionResourcesId)),this.$store.commit("SET_TASK",!1)},getCollectionList:function(){var e,t=this;(e={userId:k()},pe({url:"tb/user/collection/viewer/list",method:"post",params:e})).then(function(e){200==e.code?t.collectionList=e.data:t.$message.error(e.message)})},collectionAction:function(e){var t=this;if(e.userCollectionId)ot({userCollectionId:e.userCollectionId}).then(function(a){200==a.code?(t.$set(e,"userCollectionId",""),t.$message.success(a.message)):t.$message.error(a.message)});else{var a={userId:k(),collectionResourcesId:e.collectionResourcesId,collectionResourcesType:e.collectionResourcesType,collectionTitle:e.collectionTitle};it(a).then(function(a){200==a.code?(t.$set(e,"userCollectionId",a.data.userCollectionId),t.$message.success(a.message)):t.$message.error(a.message)})}},getWarningList:function(){var e=this;ct({processingState:0}).then(function(t){200==t.code?t.data.length>0&&(e.warning=t.data):e.$message.error(t.message)})},toAlertingStep:function(e){this.$router.push("/spc/warning/step/"+e.spcTaskOnlineAlertingId+"_1_"+e.spcTaskOnlineId)}},created:function(){this.username=f.a.get(y),this.logintime=f.a.get(_),this.getViewList(),this.getCollectionList(),this.getWarningList()}},Ws={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticStyle:{"border-bottom":"1px solid #dcdfe6",padding:"10px 0","padding-left":"20px"}},[a("el-col",{attrs:{span:10}},[a("el-button",{attrs:{type:"text"},on:{click:e.showTask}},[a("i",{staticClass:"el-icon-menu el-icon--left"}),e._v("HOME"),a("i",{staticClass:"el-icon-caret-bottom el-icon--right"})])],1),e._v(" "),a("el-col",{attrs:{span:14}},[a("div",{staticClass:"text-right",staticStyle:{"margin-right":"50px","line-height":"36px"}},[a("span",[e._v("欢迎登录 !")]),e._v(" "),a("span",{staticStyle:{margin:"0 10px","font-size":"16px","font-weight":"600"}},[e._v(e._s(e.username))]),e._v(" "),a("span",[e._v(e._s(e.logintime))])])])],1),e._v(" "),a("div",{staticClass:"app-container "},[a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"HOME",attrs:{span:12}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticStyle:{"font-size":"16px"}},[e._v("浏览记录")])]),e._v(" "),a("div",{staticClass:"CardList"},[e._l(e.viewList,function(t,s){return a("el-card",{directives:[{name:"show",rawName:"v-show",value:e.viewList.length>0,expression:"viewList.length>0"}],key:"view"+t.userViewId+t.viewResourcesId,staticClass:"box-card m-t-5",attrs:{"body-style":{padding:"6px"}}},[a("el-row",{staticStyle:{"line-height":"28px","padding-left":"15px","padding-right":"20px"}},[a("el-col",{attrs:{span:20}},[a("div",{staticClass:"TaskCollection",on:{click:function(a){a.stopPropagation(),e.toDetail("v",t)}}},[a("span",[e._v(e._s(t.viewResourcesName))]),e._v(" "),a("span",{staticStyle:{color:"#ddd","padding-left":"10px"}},[e._v("("+e._s(["spc","msa","piping"][t.viewResourcesType-1])+")")]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#ccc"}},[e._v(e._s(e._f("unixTime")(t.createTime,!0)))])])]),e._v(" "),e.$store.getters.userRole<4?a("el-col",{attrs:{span:4}},[a("div",{staticClass:"text-right",staticStyle:{position:"relative"}},[a("el-button",{attrs:{size:"mini",type:"info",plain:""},on:{click:function(a){e.viewDelete(t,s)}}},[a("i",{staticClass:"el-icon-delete"})])],1)]):e._e()],1)],1)}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.viewList.length,expression:"viewList.length==0 "}],staticClass:"Empty text-center"},[e._v("\n                         暂时没有浏览记录\n                         ")])],2)])],1),e._v(" "),a("el-col",{staticClass:"HOME",attrs:{span:12}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticStyle:{"font-size":"16px"}},[e._v("我的收藏")])]),e._v(" "),a("div",{staticClass:"CardList"},[e._l(e.collectionList,function(t){return a("el-card",{directives:[{name:"show",rawName:"v-show",value:e.collectionList.length>0,expression:"collectionList.length>0"}],key:"collection"+t.userCollectionId+t.collectionResourcesId,staticClass:"box-card m-t-5",attrs:{"body-style":{padding:"6px"}}},[a("el-row",{staticStyle:{"line-height":"28px","padding-left":"15px","padding-right":"20px"}},[a("el-col",{attrs:{span:20}},[a("div",{staticClass:"TaskCollection",on:{click:function(a){a.stopPropagation(),e.toDetail("c",t)}}},[a("span",[e._v(e._s(t.collectionTitle))]),e._v(" "),a("span",{staticStyle:{color:"#ddd","padding-left":"10px"}},[e._v("( "+e._s(["spc","msa","piping"][t.collectionResourcesType])+" )")]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#ccc"}},[e._v(e._s(e._f("unixTime")(t.createTime,!0)))])])]),e._v(" "),e.$store.getters.userRole<4?a("el-col",{attrs:{span:4}},[a("div",{staticStyle:{position:"relative"}},[a("span",{staticClass:"IconCollection",on:{click:function(a){e.collectionAction(t)}}},[a("svg-icon",{attrs:{"icon-class":t.userCollectionId?"star":"collection"}})],1)])]):e._e()],1)],1)}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.collectionList.length,expression:"collectionList.length==0 "}],staticClass:"Empty text-center"},[e._v("\n                         暂时没有收藏\n                         ")])],2)])],1),e._v(" "),a("el-col",{staticClass:"HOME m-t",attrs:{span:12}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticStyle:{"font-size":"16px"}},[e._v("预警信息")])]),e._v(" "),a("div",{staticClass:"CardList"},[a("el-row",{staticClass:" ConfigListTitle"},[a("el-col",{staticStyle:{"padding-left":"26px"},attrs:{span:16}},[e._v("预警标题")]),e._v(" "),a("el-col",{attrs:{span:4}},[e._v("预警时间")]),e._v(" "),a("el-col",{attrs:{span:4}},[e._v("处理状态")])],1),e._v(" "),e._l(e.warning,function(t,s){return a("el-card",{directives:[{name:"show",rawName:"v-show",value:e.warning.length>0,expression:"warning.length>0"}],key:s+"warning",staticClass:"box-card m-t-5",attrs:{"body-style":{padding:"6px"}}},[a("div",{on:{click:function(a){e.toAlertingStep(t)}}},[a("el-row",[a("el-col",{staticStyle:{"line-height":"28px","padding-left":"20px"},attrs:{span:16}},[e._v("\n                                     \n                                      "),a("span",[e._v(e._s(t.warningTitle))])]),e._v(" "),a("el-col",{staticStyle:{"line-height":"28px"},attrs:{span:4}},[e._v("\n                                     \n                                      "),a("span",[e._v(e._s(e._f("unixTime")(t.createTime,!0)))])]),e._v(" "),a("el-col",{staticStyle:{"line-height":"28px"},attrs:{span:4}},[e._v("\n                                     \n                                      "),a("span",[e._v("待处理")])])],1)],1)])})],2)])],1)],1)],1),e._v(" "),a("v-folder",{directives:[{name:"show",rawName:"v-show",value:e.$store.getters.showFolderTask,expression:"$store.getters.showFolderTask"}]})],1)},staticRenderFns:[]},Js=a("/Xao")(Xs,Ws,!1,null,null,null).exports,Ys=a("wmTB"),Zs=a.n(Ys),Qs={render:function(){var e=this.$createElement;return(this._self._c||e)("ve-line",{attrs:{data:this.chartData,settings:this.chartSettings,"legend-visible":!1,grid:this.grid,extend:this.extend}})},staticRenderFns:[]},Ks=a("/Xao")({data:function(){return this.chartSettings={},this.extend={xAxis:{axisLine:{show:!0,lineStyle:{color:"#999",width:2}},axisTick:{show:!0,lineStyle:{color:"#999",width:2}},axisLabel:{formatter:function(e,t){return 0==t?"11-22 "+e:e}}},yAxis:{name:"实时",position:"left",axisLine:{show:!0,lineStyle:{color:"#999",width:2}},axisTick:{show:!0,lineStyle:{color:"#999",width:2}}}},{chartData:{columns:["日期","访问用户","下单用户","下单率"],rows:[{"日期":"12:01:00","访问用户":3792,"下单用户":3492,"下单率":2992},{"日期":"12:02:00","访问用户":4593,"下单用户":4293,"下单率":3793},{"日期":"12:03:00","访问用户":2923,"下单用户":2623,"下单率":2123},{"日期":"12:04:00","访问用户":1393,"下单用户":1093,"下单率":593},{"日期":"12:05:00","访问用户":3530,"下单用户":3230,"下单率":2730},{"日期":"12:06:00","访问用户":2923,"下单用户":2623,"下单率":2123},{"日期":"12:07:00","访问用户":1723,"下单用户":1423,"下单率":923},{"日期":"12:08:00","访问用户":1723,"下单用户":1423,"下单率":923},{"日期":"12:08:00","访问用户":3792,"下单用户":3492,"下单率":2992},{"日期":"12:10:00","访问用户":4593,"下单用户":4293,"下单率":3793}]},grid:{top:30,bottom:10,right:20}}}},Qs,!1,null,null,null).exports,er={render:function(){var e=this.$createElement;return(this._self._c||e)("ve-pie",{attrs:{data:this.chartData,settings:this.chartSettings}})},staticRenderFns:[]},tr=a("/Xao")({data:function(){return this.chartSettings={roseType:"radius"},{chartData:{columns:["日期","访问用户"],rows:[{"日期":"1/1","访问用户":1393},{"日期":"1/2","访问用户":3530},{"日期":"1/3","访问用户":2923},{"日期":"1/4","访问用户":1723},{"日期":"1/5","访问用户":3792},{"日期":"1/6","访问用户":4593}]}}}},er,!1,null,null,null).exports,ar={render:function(){var e=this.$createElement;return(this._self._c||e)("ve-histogram",{attrs:{data:this.chartData,settings:this.chartSettings,grid:this.grid,extend:this.extend}})},staticRenderFns:[]},sr=a("/Xao")({data:function(){return this.chartSettings={stack:{"用户":["刀具","扩展数据","基础数据"]}},this.extend={xAxis:{axisLine:{show:!0,lineStyle:{color:"#999",width:2}},axisTick:{show:!0,lineStyle:{color:"#999",width:2}},axisLabel:{formatter:function(e,t){return 0==t?"2018-"+e:e}}},yAxis:{name:"历史",position:"left",axisLine:{show:!0,lineStyle:{color:"#999",width:2}},axisTick:{show:!0,lineStyle:{color:"#999",width:2}}}},{chartData:{columns:["日期","扩展数据","基础数据","刀具"],rows:[{"日期":"11-5","扩展数据":1393,"基础数据":1093,"刀具":593},{"日期":"11-6","扩展数据":3530,"基础数据":1230,"刀具":3230},{"日期":"11-7","扩展数据":2923,"基础数据":2623,"刀具":568},{"日期":"11-8","扩展数据":1723,"基础数据":1423,"刀具":653},{"日期":"11-9","扩展数据":3792,"基础数据":492,"刀具":697},{"日期":"11-10","扩展数据":4593,"基础数据":4293,"刀具":392},{"日期":"11-11","扩展数据":1393,"基础数据":1093,"刀具":693},{"日期":"11-12","扩展数据":3530,"基础数据":3230,"刀具":1230},{"日期":"11-13","扩展数据":2923,"基础数据":623,"刀具":1568},{"日期":"11-14","扩展数据":1723,"基础数据":1423,"刀具":953},{"日期":"11-15","扩展数据":3792,"基础数据":3492,"刀具":1697},{"日期":"11-16","扩展数据":4593,"基础数据":4293,"刀具":2392}]},grid:{top:30,bottom:10}}}},ar,!1,null,null,null).exports,rr={components:{CountTo:Zs.a,"v-line":Ks,"v-pie":tr,"v-histogram":sr},methods:{handleSetLineChartData:function(e){this.$emit("handleSetLineChartData",e)}}},ir={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container BPY"},[a("el-row",{staticClass:"panel-group",attrs:{gutter:20}},[a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("el-row",[a("div",{staticClass:"card-panel"},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v("当前加功批次")]),e._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":81212,duration:3e3}})],1)]),e._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v("当前加功状态")]),e._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":81212,duration:3e3}})],1)]),e._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v("当前加功刀号")]),e._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":81212,duration:3e3}})],1)])],1)])],1),e._v(" "),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel"},[a("div",{staticClass:"card-panel-icon-wrapper icon-message"},[a("svg-icon",{attrs:{"icon-class":"db","class-name":"card-panel-icon"}})],1),e._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v("基础数据")]),e._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":81212,duration:3e3}})],1)])]),e._v(" "),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel"},[a("div",{staticClass:"card-panel-icon-wrapper icon-money"},[a("svg-icon",{attrs:{"icon-class":"db","class-name":"card-panel-icon"}})],1),e._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v("扩展数据")]),e._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":9280,duration:3200}})],1)])]),e._v(" "),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel"},[a("div",{staticClass:"card-panel-icon-wrapper icon-shopping"},[a("svg-icon",{attrs:{"icon-class":"db","class-name":"card-panel-icon"}})],1),e._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v("刀具")]),e._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":13600,duration:3600}})],1)])]),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-card",{staticClass:"box-card"},[a("v-line")],1)],1),e._v(" "),a("el-col",{staticClass:"m-t",attrs:{span:24}},[a("el-card",{staticClass:"box-card"},[a("v-histogram")],1)],1)],1)],1)},staticRenderFns:[]};var or=a("/Xao")(rr,ir,!1,function(e){a("JoGB")},"data-v-aac300b2",null).exports;function nr(e){return pe({url:"cnc/tool/data/digitalTwinReal",method:"post",params:e})}a("UOol");var lr={data:function(){return{model:"",Form:{number:""},numbers:[],rule:{number:[{required:!0,message:"请选择编码",trigger:"change,blur"}]},myChart:"",acTime:"",data:[],filterDatas:[],toolIds:[],color:["#313695","#4575b4","#74add1","#abd9e9","#e0f3f8","#ffffbf","#fee090","#fdae61","#f46d43","#d73027","#a50026","#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3","#c1e4e9","#a2d7dd","#a0d8ef","#89c3eb","#84a2d4","#83ccd2","#f9c89b","#f4dda5","#e0c38c","#f3bf88","#eb9b6f","#df7163"],selTool:[],fullLoading:null,LOADING:{lock:!0,text:"数据加载中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.6)"},lastId:""}},methods:{drawLine:function(){this.myChart=this.$echarts.init(this.$refs.d3),this.myChart.setOption({tooltip:{formatter:function(e){var t=e.data;return e.marker+"<br/> x : "+t[0]+" <br/> y : "+t[1]+" <br/> z : "+t[2]+" <br/> 速度 : "+t[3]+" <br/> 刀号 : "+t[4]}},backgroundColor:"#fff",visualMap:{show:!1,dimension:2,min:0,max:30,inRange:{color:["#313695","#4575b4","#74add1","#abd9e9","#e0f3f8","#ffffbf","#fee090","#fdae61","#f46d43","#d73027","#a50026"]}},xAxis3D:{type:"value"},yAxis3D:{type:"value"},zAxis3D:{type:"value"},grid3D:{show:!0,viewControl:{projection:"orthographic"}},series:[{type:"line3D",data:this.filterDatas,smooth:!1,showAllSymbol:!0,lineStyle:{width:1}}]})},getBpyReal:function(e){this.data=e,this.filterDatas=e.slice()},getBpyByTime:function(){var e=this,t={};this.acTime&&(t.acTime=this.acTime),bpyList(t).then(function(t){200==t.code?(e.acTime=t.data.configDataanalysis,t.data.pathPosition.length>0&&(e.data=[].concat(Ne()(e.data),Ne()(t.data.pathPosition))),e.drawLine()):(e.$message,error(t.message))})},getBpyHistory:function(){var e=this;this.$refs.history.validate(function(t){var a;t&&(e.fullLoading=e.$loading(e.LOADING),e.getbpyTools(),(a={jiagongNum:e.Form.number},pe({url:"cnc/tool/data/digitalTwin",method:"post",params:a})).then(function(t){e.fullLoading.close(),e.data=t,e.filterDatas=t.slice(),e.drawLine()}))})},selectTool:function(e){if(0==this.selTool.length)this.selTool.push(e);else{var t=-1;this.selTool.forEach(function(a,s){a==e&&(t=s)}),t>=0?this.selTool.splice(t,1):this.selTool.push(e)}this.filterData(),this.drawLine()},aboutColor:function(e){return this.selTool.indexOf(e)>=0?"#ddd":this.color[e-1]},filterData:function(){var e=this;0==this.selTool.length||0==this.data.length?this.filterDatas=this.data:this.filterDatas=this.data.filter(function(t){return-1==e.selTool.indexOf(t[4])})},refres:function(){var e,t=(e=Aa()(Da.a.mark(function e(){var t;return Da.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.fullLoading=a.$loading(a.LOADING),e.next=3,nr();case 3:t=e.sent,a.getBpyReal(t),a.fullLoading.close(),a.drawLine(),a.myChart.resize();case 8:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)}),a=this;t(),this.getbpyTools()},getbpyNums:function(){var e,t=this;pe({url:"cnc/tool/data/jiagongNums",method:"post",params:e}).then(function(e){200==e.code?t.numbers=e.data:t.$message.error(e.message)})},getbpyTools:function(){var e,t=this;this.toolIds=[],(e={jiagongNum:this.Form.number},pe({url:"cnc/tool/data/tools",method:"post",params:e})).then(function(e){200==e.code?t.toolIds=e.data:t.$message.error(e.message)})}},beforeRouteLeave:function(e,t,a){this.fullLoading.close(),this.getBpyByTime=function(){},this.acTime="",a()},created:function(){var e,t=(e=Aa()(Da.a.mark(function e(){var t;return Da.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.fullLoading=a.$loading(a.LOADING),e.next=3,nr();case 3:t=e.sent,a.getBpyReal(t),a.fullLoading.close(),a.drawLine(),a.myChart.resize();case 8:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)}),a=this;t(),this.getbpyNums(),this.getbpyTools()},beforeDestroy:function(){this.myChart.clear()}},cr={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticStyle:{"border-bottom":"1px solid #dcdfe6",padding:"5px 20px"}},[a("el-col",{staticClass:"text-right",attrs:{span:24}},[a("el-popover",{attrs:{placement:"bottom",width:"300",trigger:"click"}},[a("el-button",{attrs:{slot:"reference"},slot:"reference"},[e._v("历史查看")]),e._v(" "),a("el-form",{ref:"history",staticClass:"Form ",attrs:{inline:!0,model:e.Form,rules:e.rule,"label-position":"right","label-width":"0",size:"mini"}},[a("el-form-item",[a("el-select",{attrs:{prop:"number"},model:{value:e.Form.number,callback:function(t){e.$set(e.Form,"number",t)},expression:"Form.number"}},e._l(e.numbers,function(e){return a("el-option",{key:"@"+e.jiagongNum,attrs:{label:e.jiagongNum,value:e.jiagongNum}})}))],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.getBpyHistory}},[e._v("确定")])],1)],1)],1),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"刷新",placement:"top-start"}},[a("el-button",{attrs:{size:"mini"},on:{click:e.refres}},[a("svg-icon",{staticStyle:{"font-size":"18px"},attrs:{"icon-class":"refresh"}})],1)],1)],1)],1),e._v(" "),a("div",{ref:"d3",staticStyle:{width:"100%"},style:{height:e.$Height()-47+"px"}}),e._v(" "),a("div",{staticStyle:{position:"fixed",right:"50px",top:"100px"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.toolIds.length>0,expression:"toolIds.length>0"}],staticClass:"text-center",staticStyle:{"font-size":"16px"}},[e._v("刀号")]),e._v(" "),a("ul",e._l(e.toolIds,function(t){return a("li",{key:t,staticStyle:{"font-size":"14px","margin-top":"10px"}},[a("span",{staticStyle:{display:"inline-block",width:"100px","padding-right":"10px","text-align":"right",color:"#666","line-height":"20px"}},[e._v(e._s(t)+"号刀")]),e._v(" "),a("span",{staticStyle:{display:"inline-block",width:"40px",height:"20px","border-radius":"5px",cursor:"pointer"},style:{backgroundColor:e.aboutColor(t)},on:{click:function(a){e.selectTool(t)}}})])}))]),e._v(" "),a("div")],1)},staticRenderFns:[]},ur=a("/Xao")(lr,cr,!1,null,null,null).exports;function dr(e){return pe({url:"cnc/external/as/model/tools",method:"post",params:e})}function pr(e){return pe({url:"cnc/external/as/model/realTool",method:"post",params:e})}function mr(e){return pe({url:"cnc/external/as/model/realToolModel",method:"post",params:e})}function hr(e){return pe({url:"cnc/external/as/model/historyTool",method:"post",params:e})}function fr(e){return pe({url:"cnc/external/as/model/continuity",method:"post",params:e})}function gr(e){return pe({url:"cnc/external/as/model/realToolControl",method:"post",params:e})}function vr(e){return pe({url:"cnc/external/as/model/jiagongNums",method:"post",params:e})}var br={props:["chartData","name","height","setColor"],data:function(){return{width:"100%",myChart:"",color:["#c23531","#4575b4","#74add1","#abd9e9","#e0f3f8","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],option:{dataZoom:[{type:"slider",start:0,end:100,zoomOnMouseWheel:!0}],color:["#c23531","#4575b4","#74add1","#abd9e9","#e0f3f8","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],grid:{left:60,right:50,bottom:60,top:50},xAxis:{type:"category",boundaryGap:!1,axisLine:{show:!0,lineStyle:{color:"#999",width:2}},axisTick:{show:!0,lineStyle:{color:"#999",width:2}}},yAxis:{type:"value",name:this.name,axisLine:{show:!0,lineStyle:{color:"#999",width:2}},axisTick:{show:!0,lineStyle:{color:"#999",width:2}}},series:[]}}},methods:{drawLine:function(){var e=this;this.myChart=this.$echarts.init(this.$refs.step,"shine"),this.chartData.length>0&&(this.chartData.forEach(function(t,a){if(t.length>0){var s={smooth:!0,type:"line",data:t,itemStyle:{opacity:0},z:0==a?5:2,lineStyle:{}};if(e.setColor){var r=Math.ceil(e.chartData.length/10);if(0==a)s.lineStyle.color=e.color[0];else{var i=Math.ceil(a/r);s.lineStyle.color=e.color[i]}}e.option.series.push(s)}}),this.myChart.setOption(this.option,!0))}},watch:{chartData:function(){this.option.series=[],this.drawLine()}},computed:{},mounted:function(){this.drawLine()},beforeDestroy:function(){this.myChart.clear()}},yr={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{ref:"step",style:{height:this.height,width:this.width}})])},staticRenderFns:[]},_r=a("/Xao")(br,yr,!1,null,null,null).exports,xr={components:{"v-line":_r},data:function(){return{height:"420px",showSelectTool:!1,Form:{number:""},rule:{number:[{required:!0,message:"请选择编码",trigger:"change,blur"}]},fullLoading:null,LOADING:{lock:!0,text:"数据加载中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.6)"},toolIdList:[],NumberList:[],selTool:[],color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#FF6600","#CC3399","#815463","#815476","#003371","#1BE9BF","#63C2FF","#FF7993","#FFCB8C","#0071B6","#D7C6FA","#61a0a8","#FF00FF"],showFullLoading:!0,interval:null,chartData1:[[]],chartData2:[[]],chartData3:[[],[],[]],chartData4:[[],[],[]],lastIndex:"-1",beginTime:"",endTime:""}},computed:{filterData4:function(){return this.filter("chartData4")},filterData3:function(){return this.filter("chartData3")},filterData2:function(){return this.filter("chartData2")},filterData1:function(){return this.filter("chartData1")}},methods:{filter:function(e){var t=this;if(0==this.selTool.length)return this[e];var a=[];return this[e].forEach(function(e){if(!(e.length>0))return[];a.push(e.filter(function(e){if(-1==t.selTool.indexOf(e[2]))return e}))}),a},aboutColor:function(e){return this.selTool.indexOf(e)>=0?"#ddd":this.color[e-1]},selectTool:function(e){if(0==this.selTool.length)this.selTool.push(e);else{var t=-1;this.selTool.forEach(function(a,s){a==e&&(t=s)}),t>=0?this.selTool.splice(t,1):this.selTool.push(e)}},getCncReal:function(){var e=this;this.showSelectTool=!1,this.showFullLoading&&(this.fullLoading=this.$loading(this.LOADING));var t={};this.lastIndex>0&&(t.index=this.lastIndex),this.Form.number&&(t.jiagongNum=this.Form.number),fr(t).then(function(t){e.fullLoading.close(),200==t.code?(e.Form.number,e.chartData1.splice(0,1,t.data.vData1),e.chartData2.splice(0,1,t.data.vData4),e.chartData3.splice(0,1,t.data.aData1),e.chartData4.splice(0,1,t.data.aData4),e.toolIdList=t.data.tools):e.$message.error(t.message)})},getControlSd:function(){var e,t=this;pe({url:"cnc/external/as/model/contControl",method:"post",params:e}).then(function(e){200==e.code?(t.$set(t.chartData3,1,[].concat(Ne()(t.chartData3[1]),Ne()(e.data.uData1))),t.$set(t.chartData3,2,[].concat(Ne()(t.chartData3[2]),Ne()(e.data.lData1))),t.$set(t.chartData4,1,[].concat(Ne()(t.chartData4[1]),Ne()(e.data.udata4))),t.$set(t.chartData4,2,[].concat(Ne()(t.chartData4[2]),Ne()(e.data.ldata4)))):t.$message.error(e.message)})},getCncToolId:function(){var e=this;dr({jiagongNum:this.Form.number}).then(function(t){200==t.code?(e.toolIdList=[],t.data.length>0&&t.data.forEach(function(t){e.toolIdList.push(t.toolId)})):e.$message.error(t.message)})},getCncNums:function(){var e=this;cncNumbers().then(function(t){200==t.code?e.NumberList=t.data:e.$message.error(t.message)})},refresh:function(){this.selTool=[],this.showFullLoading=!0,this.lastElectricId="",this.lastVibrationId="",this.getCncReal()},getCncModelHistorySd:function(){var e,t=this;pe({url:"cnc/external/as/model/conPer",method:"post",params:e}).then(function(e){if(200==e.code){if(i()(e.data).length>0)for(var a in e.data)if(i()(e.data[a]).length>0)for(var s in e.data[a]){if("vData1"==s){var r=t.chartData1.length;t.$set(t.chartData1,r,e.data[a][s])}if("vData4"==s){var o=t.chartData2.length;t.$set(t.chartData2,o,e.data[a][s])}}}else t.$message.error(e.message)})},setInterval:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=this;this.interval=setInterval(function(){e.showFullLoading=!1,e.getCncReal()},5e3)}),config:function(){this.$router.push("/cncConfig/history")},getNums:function(){var e=this;this.fullLoading=this.$loading(this.LOADING),vr({beginTime:this.beginTime,endTime:this.endTime}).then(function(t){e.fullLoading.close(),200==t.code?e.NumberList=t.data:e.$message.error(t.message)})},history:function(){this.getCncReal()}},created:function(){this.getCncReal(),this.getControlSd(),this.getCncModelHistorySd()},beforeDestroy:function(){clearInterval(this.interval),this.interval=null,this.fullLoading&&this.fullLoading.close()}},wr={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"BPY"},[a("el-row",{staticStyle:{position:"fixed",top:"0","z-index":"99",background:"#fff",left:"66px",right:"0","border-bottom":"1px solid #dcdfe6",padding:"5px 20px"}},[a("el-col",{staticClass:"cnc",attrs:{span:24}},[a("el-col",{attrs:{span:16}},[a("el-form",{attrs:{size:"mini",inline:!0,"label-width":"40"}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"时间 :"}},[a("el-date-picker",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选则开始日期"},model:{value:e.beginTime,callback:function(t){e.beginTime=t},expression:"beginTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"至"}},[a("el-date-picker",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选则结束日期"},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{size:"mini",type:"primary",disabled:!e.beginTime&&!e.endTime},on:{click:e.getNums}},[a("i",{staticClass:"el-icon-search"})])],1),e._v(" "),a("el-form-item",{attrs:{label:"模板 :"}},[a("el-select",{attrs:{filterable:""},model:{value:e.Form.number,callback:function(t){e.$set(e.Form,"number",t)},expression:"Form.number"}},e._l(e.NumberList,function(e){return a("el-option",{key:e.jiagongNum,attrs:{label:e.jiagongNum,value:e.jiagongNum}})}))],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{size:"mini",type:"primary",disabled:!e.Form.number},on:{click:e.history}},[e._v("历史查看")])],1)],1)],1)],1),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:8}},[a("el-tooltip",{staticClass:"item",staticStyle:{position:"relative",top:"2px",left:"2px"},attrs:{effect:"light",content:"配置",placement:"top-start"}},[a("el-button",{attrs:{size:"mini"},on:{click:e.config}},[a("svg-icon",{staticStyle:{"font-size":"20px"},attrs:{"icon-class":"setting"}})],1)],1),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"刷新",placement:"top-start"}},[a("el-button",{attrs:{size:"mini"},on:{click:e.refresh}},[a("svg-icon",{staticStyle:{"font-size":"18px"},attrs:{"icon-class":"refresh"}})],1)],1)],1)],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.toolIdList.length>0,expression:"toolIdList.length>0"}],staticStyle:{position:"fixed",right:"20px",top:"70px","z-index":"999"}},[a("div",{staticClass:"text-center",staticStyle:{"font-size":"16px"}},[e._v("刀号")]),e._v(" "),a("ul",e._l(e.toolIdList,function(t){return a("li",{key:"tool"+t,staticStyle:{"font-size":"14px","margin-top":"10px"}},[a("span",{staticStyle:{display:"inline-block",width:"100px","padding-right":"10px","text-align":"right",color:"#666","line-height":"20px"}},[e._v(e._s(t)+"号刀")]),e._v(" "),a("span",{staticStyle:{display:"inline-block",width:"40px",height:"20px","border-radius":"5px",cursor:"pointer"},style:{backgroundColor:e.aboutColor(t)},on:{click:function(a){e.selectTool(t)}}})])}))]),e._v(" "),a("el-row",{staticStyle:{padding:"0 20px","margin-top":"50px"}},[a("el-col",{staticClass:"m-t",style:{height:e.height},attrs:{span:22}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"100%"}},[a("v-line",{attrs:{chartData:e.filterData1,name:"CH1 (感知分析)",height:e.height}})],1)],1),e._v(" "),a("el-col",{staticClass:"m-t",style:{height:e.height},attrs:{span:22}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"100%"}},[a("v-line",{attrs:{chartData:e.filterData2,name:"CH4 (感知分析)",height:e.height}})],1)],1),e._v(" "),a("el-col",{staticClass:"m-t",style:{height:e.height},attrs:{span:22}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"100%"}},[a("v-line",{attrs:{chartData:e.filterData3,name:"CH1 (感知控制)",height:e.height}})],1)],1),e._v(" "),a("el-col",{staticClass:"m-t",staticStyle:{"margin-bottom":"20px"},style:{height:e.height},attrs:{span:22}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"100%"}},[a("v-line",{attrs:{chartData:e.filterData4,name:"CH4 (感知控制)",height:e.height}})],1)],1)],1)],1)},staticRenderFns:[]};var kr=a("/Xao")(xr,wr,!1,function(e){a("y88L")},null,null).exports,Tr={components:{"v-line":_r},data:function(){return{stop:!0,height:"600px",showSelectTool:!1,Form:{time:"1000",number:"",toolId:""},rule:{time:[{required:!0,message:"请选择时间周期",trigger:"change,blur"}]},fullLoading:null,LOADING:{lock:!0,text:"数据加载中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.6)"},toolIdList:[],selTool:[],color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#FF6600","#CC3399","#815463","#815476","#003371","#1BE9BF","#63C2FF","#FF7993","#FFCB8C","#0071B6","#D7C6FA","#61a0a8","#FF00FF"],showFullLoading:!0,interval:null,chartData1:[[]],chartData2:[[]],lastIndex:"-1",stopPromise:!1,clear:!1,proxy:"",toolId:"",toolIds:[],jiagongNum:"",timeout:null,now:[],beginTime:"",endTime:"",NumberList:[],toolList:[]}},computed:{filterData2:function(){return this.filter("chartData2")},filterData1:function(){return this.filter("chartData1")}},methods:{filter:function(e){var t=this;if(0==this.selTool.length)return this[e];var a=[];return this[e].forEach(function(e){if(!(e.length>0))return[];a.push(e.filter(function(e){if(-1==t.selTool.indexOf(e[2]))return e}))}),a},getCncReal:function(e){var t=this;if(200==e.code){if(e.data){var a=[],s=[];if((0==this.chartData1[0].length||this.chartData1[0].length>0&&""!=this.chartData1[0][0][1])&&e.data.vData1&&this.chartData1[1]&&e.data.vData1.length>0&&this.chartData1[1].length>0)for(var r=e.data.vData1[0][0],i=this.chartData1[1].length,o=0;o<i&&this.chartData1[1][o][0]<r;o++)a.push([this.chartData1[1][o][0],"",this.chartData1[1][o][2]]);for(var n=0;n<this.chartData1[0].length&&""==this.chartData1[0][n][1];n++)a.push(this.chartData1[0][n]);if((0==this.chartData2[0].length||this.chartData2[0].length>0&&""!=this.chartData2[0][0][1])&&e.data.vData4&&this.chartData2[1]&&e.data.vData4.length>0&&this.chartData2[1].length>0)for(var l=e.data.vData4[0][0],c=this.chartData2[1].length,u=0;u<c&&this.chartData2[1][u][0]<l;u++)s.push([this.chartData2[1][u][0],"",this.chartData2[1][u][2]]);for(var d=0;d<this.chartData2[0].length&&""==this.chartData2[0][d][1];d++)s.push(this.chartData2[0][d]);this.chartData1.splice(0,1,[].concat(a,Ne()(e.data.vData1))),this.chartData2.splice(0,1,[].concat(s,Ne()(e.data.vData4))),this.lastIndex=e.data.lastIndex,this.jiagongNum=e.data.jiagongNum,this.toolId=e.data.toolId,this.toolIds.length<2?this.toolIds.push(e.data.toolId):(this.toolIds.shift(),this.toolIds.push(e.data.toolId))}}else this.$message.error(e.message);this.stopPromise||(this.timeout=setTimeout(function(){t.promise()},this.Form.time))},refresh:function(){this.stopPromise=!this.stopPromise,this.stopPromise||this.promise()},getCncModelHistorySd:function(e){if(200==e.code){if(this.chartData1.splice(1,1),this.chartData2.splice(1,1),e.data&&i()(e.data).length>0)for(var t in e.data)if(i()(e.data[t]).length>0)for(var a in e.data[t]){if("vData1"==a){var s=[];if(e.data[t][a].length>0)for(var r=0;r<e.data[t][a].length&&(e.data[t][a][r]&&e.data[t][a][r].length>0&&this.chartData1[0]&&this.chartData1[0].length>0)&&e.data[t][a][r][0]<this.chartData1[0][0][0];r++)s.push([e.data[t][a][r][0],"",e.data[t][a][r][2]]);this.chartData1.splice(0,1,[].concat(s,Ne()(this.chartData1[0]))),this.chartData1.push(e.data[t][a])}if("vData4"==a){var o=[];if(e.data[t][a].length>0)for(var n=0;n<e.data[t][a].length&&(e.data[t][a][n]&&e.data[t][a][n].length>0&&this.chartData2[0]&&this.chartData2[0].length>0)&&e.data[t][a][n][0]<this.chartData2[0][0][0];n++)o.push([e.data[t][a][n][0],"",e.data[t][a][n][2]]);this.chartData2.splice(0,1,[].concat(o,Ne()(this.chartData2[0]))),this.chartData2.push(e.data[t][a])}}}else this.$message.error(e.message)},setTime:function(){this.stopPromise=!this.stopPromise},promise:function(){var e=this;this.clear=!1,this.showSelectTool=!1,this.showFullLoading&&(this.fullLoading=this.$loading(this.LOADING));var t=[];this.Form.toolId&&this.Form.toolId,t.push(pr()),0==this.toolIds.length?t.push(mr()):2==this.toolIds.length&&this.toolIds[0]!=this.toolIds[1]&&(t.push(mr()),this.chartData1=[[]],this.chartData2=[[]]),K.a.all(t).then(function(t){e.fullLoading.close(),e.showFullLoading=!1,e.getCncReal(t[0]),t.length>1&&e.getCncModelHistorySd(t[1])})},config:function(){this.$router.push("/cncConfig/real")},getNums:function(){var e=this;this.fullLoading=this.$loading(this.LOADING),vr({beginTime:this.beginTime,endTime:this.endTime}).then(function(t){e.fullLoading.close(),200==t.code?e.NumberList=t.data:e.$message.error(t.message)})},getToolList:function(){var e=this;dr({jiagongNum:this.Form.number}).then(function(t){200==t.code?e.toolList=t.data:e.$message.error(t.message)})},history:function(){var e=this;mr({toolId:this.Form.toolId}).then(function(t){e.getCncModelHistorySd(t),e.chartData1.splice(0,1,[]),e.chartData2.splice(0,1,[]),hr({jiagongNum:e.Form.number,toolId:e.Form.toolId}).then(function(t){e.getCncReal(t)})})}},created:function(){this.promise()},beforeDestroy:function(){clearInterval(this.interval),this.interval=null,this.fullLoading&&this.fullLoading.close()}},Sr={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"BPY"},[a("el-row",{staticStyle:{"border-bottom":"1px solid #dcdfe6",padding:"5px 20px"}},[a("el-col",{attrs:{span:24}},[a("el-col",{staticClass:"cnc",attrs:{span:18}},[a("el-form",{attrs:{size:"mini",inline:!0,"label-width":"40"}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"时间 :"}},[a("el-date-picker",{attrs:{disabled:!e.stopPromise,type:"datetime",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选则开始日期"},model:{value:e.beginTime,callback:function(t){e.beginTime=t},expression:"beginTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"至"}},[a("el-date-picker",{attrs:{disabled:!e.stopPromise,type:"datetime",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选则结束日期"},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{size:"mini",type:"primary",disabled:!e.beginTime&&!e.endTime},on:{click:e.getNums}},[a("i",{staticClass:"el-icon-search"})])],1),e._v(" "),a("el-form-item",{attrs:{label:"模板 :"}},[a("el-select",{attrs:{disabled:!e.stopPromise,filterable:""},on:{change:e.getToolList},model:{value:e.Form.number,callback:function(t){e.$set(e.Form,"number",t)},expression:"Form.number"}},e._l(e.NumberList,function(e){return a("el-option",{key:e.jiagongNum,attrs:{label:e.jiagongNum,value:e.jiagongNum}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"刀号 :"}},[a("el-select",{attrs:{disabled:!e.stopPromise,placeholder:"请选择刀号"},model:{value:e.Form.toolId,callback:function(t){e.$set(e.Form,"toolId",t)},expression:"Form.toolId"}},e._l(e.toolList,function(e){return a("el-option",{key:e.toolId+"tool",attrs:{label:e.toolId,value:e.toolId}})}))],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini",disabled:!(e.Form.number&&e.Form.toolId)},on:{click:e.history}},[e._v("历史查看")])],1)],1)],1)],1),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:6}},[a("el-tooltip",{staticClass:"item",staticStyle:{position:"relative",top:"2px",right:"15px"},attrs:{effect:"light",content:"配置",placement:"top-start"}},[a("el-button",{attrs:{size:"mini"},on:{click:e.config}},[a("svg-icon",{staticStyle:{"font-size":"20px"},attrs:{"icon-class":"setting"}})],1)],1),e._v(" "),a("el-popover",{attrs:{placement:"bottom",width:"300",trigger:"click"}},[a("el-button",{attrs:{slot:"reference"},slot:"reference"},[e._v("时间周期")]),e._v(" "),a("el-form",{ref:"history",staticClass:"Form ",attrs:{model:e.Form,rules:e.rule,"label-position":"right","label-width":"0",size:"mini"}},[a("el-form-item",{attrs:{prop:"number"}},[a("el-select",{model:{value:e.Form.time,callback:function(t){e.$set(e.Form,"time",t)},expression:"Form.time"}},[a("el-option",{attrs:{label:"0.2s",value:"200"}}),e._v(" "),a("el-option",{attrs:{label:"0.5s",value:"500"}}),e._v(" "),a("el-option",{attrs:{label:"1s",value:"1000"}}),e._v(" "),a("el-option",{attrs:{label:"2s",value:"2000"}}),e._v(" "),a("el-option",{attrs:{label:"5s",value:"5000"}}),e._v(" "),a("el-option",{attrs:{label:"10s",value:"10000"}})],1)],1)],1)],1),e._v(" "),a("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"15px"},attrs:{effect:"light",manual:""}},[a("el-button",{attrs:{size:"mini",type:e.stopPromise?"primary":"warning"},on:{click:e.refresh}},[e._v("\r\n                   "+e._s(e.stopPromise?"实时模式":"关闭实时模式")+"\r\n                   ")])],1)],1)],1)],1),e._v(" "),a("el-row",{staticClass:"m-t",staticStyle:{padding:"0 20px"}},[a("el-col",{staticClass:"m-t",staticStyle:{"padding-right":"10px"},style:{height:e.height},attrs:{span:12}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"100%"}},[a("v-line",{attrs:{chartData:e.filterData1,name:"CH1 (感知分析)",height:e.height}})],1)],1),e._v(" "),a("el-col",{staticClass:"m-t",staticStyle:{"padding-left":"10px"},style:{height:e.height},attrs:{span:12}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"100%"}},[a("v-line",{attrs:{chartData:e.filterData2,name:"CH4 (感知分析)",height:e.height}})],1)],1),e._v(" "),a("el-col",{staticClass:"m-t",attrs:{span:24}},[a("el-card",{staticClass:"box-card text-center"},[a("el-button",{staticStyle:{margin:"15px 0"},attrs:{type:"primary"}},[e._v("当前刀号 ： "+e._s(e.toolId))])],1)],1)],1)],1)},staticRenderFns:[]};var Lr=a("/Xao")(Tr,Sr,!1,function(e){a("j9CW")},null,null).exports,Nr={components:{"v-line":_r},data:function(){return{stop:!0,height:"600px",showSelectTool:!1,Form:{time:"5000",number:"",toolId:""},rule:{time:[{required:!0,message:"请选择时间周期",trigger:"change,blur"}]},fullLoading:null,LOADING:{lock:!0,text:"数据加载中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.6)"},toolList:[],toolIdList:[],NumberList:[],selTool:[],color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#FF6600","#CC3399","#815463","#815476","#003371","#1BE9BF","#63C2FF","#FF7993","#FFCB8C","#0071B6","#D7C6FA","#61a0a8","#FF00FF"],showFullLoading:!0,interval:null,chartData3:[[]],chartData4:[[]],lastIndex:"-1",toolId:"",stopPromise:!1,toolIds:[],beginTime:"",endTime:""}},computed:{filterData3:function(){return this.filter("chartData3")},filterData4:function(){return this.filter("chartData4")}},methods:{filter:function(e){var t=this;if(0==this.selTool.length)return this[e];var a=[];return this[e].forEach(function(e){if(!(e.length>0))return[];a.push(e.filter(function(e){if(-1==t.selTool.indexOf(e[2]))return e}))}),a},aboutColor:function(e){return this.selTool.indexOf(e)>=0?"#ddd":this.color[e-1]},selectTool:function(e){if(0==this.selTool.length)this.selTool.push(e);else{var t=-1;this.selTool.forEach(function(a,s){a==e&&(t=s)}),t>=0?this.selTool.splice(t,1):this.selTool.push(e)}},getCncReal:function(e){if(200==e.code){if(e.data){var t=[],a=[];if((0==this.chartData3[0].length||this.chartData3[0].length>0&&""!=this.chartData3[0][0][1])&&e.data.aData1&&this.chartData3[1]&&e.data.aData1.length>0&&this.chartData3[1].length>0)for(var s=e.data.aData1[0][0],r=this.chartData3[1].length,i=0;i<r&&this.chartData3[1][i][0]<s;i++)t.push([this.chartData3[1][i][0],"",this.chartData3[1][i][2]]);for(var o=0;o<this.chartData3[0].length&&""==this.chartData3[0][o][1];o++)t.push(this.chartData3[0][o]);if((0==this.chartData4[0].length||this.chartData4[0].length>0&&""!=this.chartData4[0][0][1])&&e.data.aData4&&this.chartData4[1]&&e.data.aData4.length>0&&this.chartData4[1].length>0)for(var n=e.data.aData4[0][0],l=this.chartData4[1].length,c=0;c<l&&this.chartData4[1][c][0]<n;c++)a.push([this.chartData4[1][c][0],"",this.chartData4[1][c][2]]);for(var u=0;u<this.chartData4[0].length&&""==this.chartData4[0][u][1];u++)a.push(this.chartData3[0][u]);this.chartData3.splice(0,1,[].concat(t,Ne()(e.data.aData1))),this.chartData4.splice(0,1,[].concat(a,Ne()(e.data.aData4))),this.toolId=e.data.toolId,this.toolIds.length<2?this.toolIds.push(e.data.toolId):(this.toolIds.shift(),this.toolIds.push(e.data.toolId))}}else this.$message.error(e.message)},refresh:function(){this.stopPromise=!this.stopPromise,this.stopPromise||this.promise()},getControlSd:function(e){if(200==e.code){var t=[];if((0==this.chartData3[0].length||this.chartData3[0].length>0&&""!=this.chartData3[0][0][1])&&e.data.uData1&&this.chartData3[1]&&e.data.uData1.length>0&&this.chartData3[1].length>0)for(var a=e.data.uData1[0][0],s=this.chartData3[1].length,r=0;r<s&&this.chartData3[1][r][0]<a;r++)t.push([this.chartData3[1][r][0],"",this.chartData3[1][r][2]]);this.chartData3.splice(0,1,[].concat(t,Ne()(this.chartData3[0]))),this.chartData4.splice(0,1,[].concat(t,Ne()(this.chartData4[0]))),this.$set(this.chartData3,1,[].concat(Ne()(e.data.uData1))),this.$set(this.chartData3,2,[].concat(Ne()(e.data.lData1))),this.$set(this.chartData4,1,[].concat(Ne()(e.data.udata4))),this.$set(this.chartData4,2,[].concat(Ne()(e.data.ldata4)))}else this.$message.error(e.message)},Interval:function(){var e=this;this.interval=setInterval(function(){e.showFullLoading=!1,e.promise()},this.Form.time)},setTime:function(){var e=this;clearInterval(this.interval),this.interval=null,this.fullLoading=this.$loading(this.LOADING),this.interval=setInterval(function(){e.showFullLoading=!1,e.promise()},this.Form.time)},promise:function(){var e=this;this.showSelectTool=!1,this.showFullLoading&&(this.fullLoading=this.$loading(this.LOADING));var t=[];t.push(pr()),0==this.toolIds.length?t.push(gr()):2==this.toolIds.length&&this.toolIds[0]!=this.toolIds[1]&&(t.push(gr()),this.chartData3=[[]],this.chartData4=[[]]),K.a.all(t).then(function(t){e.fullLoading.close(),e.showFullLoading=!1,e.getCncReal(t[0]),t.length>1&&e.getControlSd(t[1]),e.stopPromise||setTimeout(function(){e.promise()},e.Form.time)})},config:function(){this.$router.push("/cncConfig/control")},getNums:function(){var e=this;this.fullLoading=this.$loading(this.LOADING),vr({beginTime:this.beginTime,endTime:this.endTime}).then(function(t){e.fullLoading.close(),200==t.code?e.NumberList=t.data:e.$message.error(t.message)})},getToolList:function(){var e=this;dr({jiagongNum:this.Form.number}).then(function(t){200==t.code?e.toolList=t.data:e.$message.error(t.message)})},history:function(){var e=this;gr({toolId:this.Form.toolId}).then(function(t){e.getControlSd(t),e.chartData3.splice(0,1,[]),e.chartData4.splice(0,1,[]),hr({jiagongNum:e.Form.number,toolId:e.Form.toolId}).then(function(t){e.getCncReal(t)})})}},created:function(){this.promise()},beforeDestroy:function(){clearInterval(this.interval),this.interval=null,this.fullLoading&&this.fullLoading.close()}},Cr={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"BPY"},[a("el-row",{staticStyle:{"border-bottom":"1px solid #dcdfe6",padding:"5px 20px"}},[a("el-col",{attrs:{span:24}},[a("el-col",{staticClass:"cnc",attrs:{span:18}},[a("el-form",{attrs:{size:"mini",inline:!0,"label-width":"40"}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"时间 :"}},[a("el-date-picker",{attrs:{disabled:!e.stopPromise,type:"datetime",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选则开始日期"},model:{value:e.beginTime,callback:function(t){e.beginTime=t},expression:"beginTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"至"}},[a("el-date-picker",{attrs:{disabled:!e.stopPromise,type:"datetime",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选则结束日期"},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{size:"mini",type:"primary",disabled:!e.beginTime&&!e.endTime},on:{click:e.getNums}},[a("i",{staticClass:"el-icon-search"})])],1),e._v(" "),a("el-form-item",{attrs:{label:"模板 :"}},[a("el-select",{attrs:{filterable:"",disabled:!e.stopPromise},on:{change:e.getToolList},model:{value:e.Form.number,callback:function(t){e.$set(e.Form,"number",t)},expression:"Form.number"}},e._l(e.NumberList,function(e){return a("el-option",{key:e.jiagongNum,attrs:{label:e.jiagongNum,value:e.jiagongNum}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"刀号 :"}},[a("el-select",{attrs:{disabled:!e.stopPromise,placeholder:"请选择刀号"},model:{value:e.Form.toolId,callback:function(t){e.$set(e.Form,"toolId",t)},expression:"Form.toolId"}},e._l(e.toolList,function(e){return a("el-option",{key:e.toolId+"tool",attrs:{label:e.toolId,value:e.toolId}})}))],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini",disabled:!(e.Form.number&&e.Form.toolId)},on:{click:e.history}},[e._v("历史查看")])],1)],1)],1)],1),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:6}},[a("el-tooltip",{staticClass:"item",staticStyle:{position:"relative",top:"2px",right:"15px"},attrs:{effect:"light",content:"配置",placement:"top-start"}},[a("el-button",{attrs:{size:"mini"},on:{click:e.config}},[a("svg-icon",{staticStyle:{"font-size":"20px"},attrs:{"icon-class":"setting"}})],1)],1),e._v(" "),a("el-popover",{attrs:{placement:"bottom",width:"300",trigger:"click"}},[a("el-button",{attrs:{slot:"reference"},slot:"reference"},[e._v("时间周期")]),e._v(" "),a("el-form",{ref:"history",staticClass:"Form ",attrs:{model:e.Form,rules:e.rule,"label-position":"right","label-width":"0",size:"mini"}},[a("el-form-item",{attrs:{prop:"number"}},[a("el-select",{model:{value:e.Form.time,callback:function(t){e.$set(e.Form,"time",t)},expression:"Form.time"}},[a("el-option",{attrs:{label:"0.2s",value:"200"}}),e._v(" "),a("el-option",{attrs:{label:"0.5s",value:"500"}}),e._v(" "),a("el-option",{attrs:{label:"1s",value:"1000"}}),e._v(" "),a("el-option",{attrs:{label:"2s",value:"2000"}}),e._v(" "),a("el-option",{attrs:{label:"5s",value:"5000"}}),e._v(" "),a("el-option",{attrs:{label:"10s",value:"10000"}})],1)],1)],1)],1),e._v(" "),a("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"15px"},attrs:{effect:"light",placement:"top",manual:""}},[a("el-button",{attrs:{size:"mini",type:e.stopPromise?"success":"warning"},on:{click:e.refresh}},[e._v("\r\n                   "+e._s(e.stopPromise?"实时模式":"关闭实时模式")+"\r\n                   ")])],1)],1)],1)],1),e._v(" "),a("el-row",{staticClass:"m-t",staticStyle:{padding:"0 20px"}},[a("el-col",{staticClass:"m-t",staticStyle:{"padding-right":"10px"},style:{height:e.height},attrs:{span:12}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"100%"}},[a("v-line",{attrs:{chartData:e.filterData3,name:"CH1 (感知控制)",height:e.height}})],1)],1),e._v(" "),a("el-col",{staticClass:"m-t",staticStyle:{"padding-left":"10px"},style:{height:e.height},attrs:{span:12}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"100%"}},[a("v-line",{attrs:{chartData:e.filterData4,name:"CH4 (感知控制)",height:e.height}})],1)],1),e._v(" "),a("el-col",{staticClass:"m-t",attrs:{span:24}},[a("el-card",{staticClass:"box-card text-center"},[a("el-button",{staticStyle:{margin:"15px 0"},attrs:{type:"primary"}},[e._v("当前刀号 ： "+e._s(e.toolId))])],1)],1)],1)],1)},staticRenderFns:[]};var Dr=a("/Xao")(Nr,Cr,!1,function(e){a("tn9E")},null,null).exports,Ir={components:{"v-line":_r},data:function(){var e;return e={stop:!0,height:"420px",showSelectTool:!1,Form:{time:"1000",number:""},rule:{time:[{required:!0,message:"请选择时间周期",trigger:"change,blur"}]},fullLoading:null,LOADING:{lock:!0,text:"数据加载中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.6)"},toolIdList:[],NumberList:[],selTool:[],color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#FF6600","#CC3399","#815463","#815476","#003371","#1BE9BF","#63C2FF","#FF7993","#FFCB8C","#0071B6","#D7C6FA","#61a0a8","#FF00FF"],showFullLoading:!0,interval:null,chartData1:[],chartData2:[],lastIndex:"-1",toolId:"",beginTime:"",endTime:""},It()(e,"Form",{number:""}),It()(e,"NumberList",[]),e},computed:{},methods:{aboutColor:function(e){return this.selTool.indexOf(e)>=0?"#ddd":this.color[e-1]},selectTool:function(e){if(0==this.selTool.length)this.selTool.push(e);else{var t=-1;this.selTool.forEach(function(a,s){a==e&&(t=s)}),t>=0?this.selTool.splice(t,1):this.selTool.push(e)}},refresh:function(){this.getCncList(),this.getCncReal()},getCncList:function(){var e,t=this;this.fullLoading=this.$loading(this.LOADING),pe({url:"cnc/external/as/model/overlay",method:"post",params:e}).then(function(e){if(t.fullLoading.close(),200==e.code){if(e.data&&i()(e.data).length>0)for(var a in e.data)t.chartData1.push(e.data[a].vData1),t.chartData2.push(e.data[a].vData4)}else t.$message.error(e.message)})},getCncReal:function(){var e=this;fr().then(function(t){200==t.code?(e.chartData1.unshift(t.data.vData1),e.chartData2.unshift(t.data.vData4)):e.$message.error(t.message)})},config:function(){this.$router.push("/cncConfig/overlay")},getNums:function(){var e=this;this.fullLoading=this.$loading(this.LOADING),vr({beginTime:this.beginTime,endTime:this.endTime}).then(function(t){e.fullLoading.close(),200==t.code?e.NumberList=t.data:e.$message.error(t.message)})},history:function(){var e=this;fr({jiagongNum:this.Form.number}).then(function(t){200==t.code?(e.chartData1.unshift(t.data.vData1),e.chartData2.unshift(t.data.vData4)):e.$message.error(t.message)})}},created:function(){this.getCncList(),this.getCncReal()},beforeDestroy:function(){this.fullLoading&&this.fullLoading.close(),clearInterval(this.interval)}},Ar={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"BPY"},[a("el-row",{staticStyle:{"border-bottom":"1px solid #dcdfe6",padding:"5px 20px"}},[a("el-col",{staticClass:"cnc",attrs:{span:20}},[a("el-form",{attrs:{size:"mini",inline:!0,"label-width":"40"}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"时间 :"}},[a("el-date-picker",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选则开始日期"},model:{value:e.beginTime,callback:function(t){e.beginTime=t},expression:"beginTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"至"}},[a("el-date-picker",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选则结束日期"},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{size:"mini",type:"primary",disabled:!e.beginTime&&!e.endTime},on:{click:e.getNums}},[a("i",{staticClass:"el-icon-search"})])],1),e._v(" "),a("el-form-item",{attrs:{label:"模板 :"}},[a("el-select",{attrs:{filterable:""},on:{change:e.getCncReal},model:{value:e.Form.number,callback:function(t){e.$set(e.Form,"number",t)},expression:"Form.number"}},e._l(e.NumberList,function(e){return a("el-option",{key:e.jiagongNum,attrs:{label:e.jiagongNum,value:e.jiagongNum}})}))],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{size:"mini",type:"primary",disabled:!e.Form.number},on:{click:e.history}},[e._v("历史查看")])],1)],1)],1)],1),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:4}},[a("el-tooltip",{staticClass:"item",staticStyle:{position:"relative",right:"15px"},attrs:{effect:"light",content:"配置",placement:"top-start"}},[a("el-button",{attrs:{size:"mini"},on:{click:e.config}},[a("svg-icon",{staticStyle:{"font-size":"20px"},attrs:{"icon-class":"setting"}})],1)],1),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"刷新",placement:"top-start"}},[a("el-button",{attrs:{size:"mini"},on:{click:e.refresh}},[a("svg-icon",{staticStyle:{"font-size":"18px"},attrs:{"icon-class":"refresh"}})],1)],1)],1)],1),e._v(" "),a("el-row",{staticStyle:{padding:"0 20px"}},[a("el-col",{staticClass:"m-t",style:{height:e.height},attrs:{span:24}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"100%"}},[a("v-line",{attrs:{chartData:e.chartData1,name:"CH1 (叠加)",height:e.height,setColor:!0}})],1)],1),e._v(" "),a("el-col",{staticClass:"m-t",style:{height:e.height},attrs:{span:24}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"100%"}},[a("v-line",{attrs:{chartData:e.chartData2,name:"CH4 (叠加)",height:e.height,setColor:!0}})],1)],1)],1)],1)},staticRenderFns:[]};var Fr=a("/Xao")(Ir,Ar,!1,function(e){a("wcaq")},null,null).exports,Mr={data:function(){var e=this;return{activeName:"first",LOADING:{lock:!0,text:"数据处理中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.6)"},fullLoading:null,pickerOptionsStart:{disabledDate:function(t){return e.endTime?t.getTime()>Date.now()-864e5+764e5||t.getTime()>=e.endTime:t.getTime()>Date.now()-864e5+764e5}},pickerOptionsEnd:{disabledDate:function(t){return t.getTime()<=e.beginTime}},endTime:"",beginTime:"",models:[],nowModules:[],selectedModel:[],jiagongNum:"",radio:-1,type:""}},methods:{back:function(){this.$router.go(-1)},handleSelectionChange:function(e){this.selectedModel=e},handleCurrentChange:function(){},showRow:function(e){this.radio=this.models.indexOf(e)},getCurrentRow:function(e,t){},getNums:function(){var e=this;this.fullLoading=this.$loading(this.LOADING),vr({beginTime:this.beginTime,endTime:this.endTime}).then(function(t){e.fullLoading.close(),200==t.code?e.models=t.data:e.$message.error(t.message)})},setReal:function(){var e,t=this;this.fullLoading=this.$loading(this.LOADING),(e={jiagongNum:this.jiagongNum},pe({url:"cnc/external/as/model/realSetting",method:"post",params:e})).then(function(e){t.fullLoading.close(),200==e.code?t.$message.success(e.message):t.$message.error(e.message)})},setHistory:function(){var e,t=this;this.fullLoading=this.$loading(this.LOADING),(e={jiagongNum:this.jiagongNum},pe({url:"cnc/external/as/model/historySetting",method:"post",params:e})).then(function(e){t.fullLoading.close(),200==e.code?t.$message.success(e.message):t.$message.error(e.message)})},setOverlay:function(){var e=this;if(this.selectedModel.length>=100)this.$message.warning("最多只能设置100个模板");else{this.fullLoading=this.$loading(this.LOADING);var t,a=[];this.selectedModel.forEach(function(e){a.push(e.jiagongNum)}),(t={jiagongNums:a.join(",")},pe({url:"cnc/external/as/model/overlaySetting",method:"post",params:t})).then(function(t){e.fullLoading.close(),200==t.code?(e.selectedModel=[],e.$message.success(t.message)):e.$message.error(t.message)})}},setControl:function(){var e,t=this;this.fullLoading=this.$loading(this.LOADING),(e={jiagongNum:this.jiagongNum},pe({url:"cnc/external/as/model/controlSetting",method:"post",params:e})).then(function(e){t.fullLoading.close(),200==e.code?t.$message.success(e.message):t.$message.error(e.message)})},submit:function(){if("overlay"==this.type)this.setOverlay();else{if(this.radio<0)return void this.$message.warning("请选择加工编码");this.jiagongNum=this.models[this.radio].jiagongNum,"real"==this.type?this.setReal():"history"==this.type?this.setHistory():"control"==this.type&&this.setControl()}},getModelInfo:function(){var e,t=this,a=void 0;switch(this.type){case"real":a=1;break;case"history":a=2;break;case"overlay":a=3;break;case"control":a=4}(e={modelType:a},pe({url:"cnc/external/as/model/modelSetted",method:"post",params:e})).then(function(e){t.nowModules=e.data})}},created:function(){this.type=this.$route.params.type,["real","history","control","overlay"].includes(this.type+"")||this.$router.replace("/404"),this.getModelInfo()}},Rr={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticStyle:{position:"fixed",top:"0",left:"66px",right:"0","z-index":"999","border-bottom":"1px solid #dcdfe6",padding:"5px 20px",background:"#fff"}},[a("el-col",{staticClass:"text-right",attrs:{span:24}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.back}},[a("svg-icon",{staticStyle:{"font-size":"20px"},attrs:{"icon-class":"back"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"app-container"},[a("el-row",{staticClass:"vertical-tabs"},[a("el-col",{staticStyle:{position:"relative"},attrs:{xs:{span:20,offset:2},sm:{span:18,offset:3},md:{span:16,offset:4},lg:{span:16,offset:4},xl:{span:16,offset:4}}},[a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"47px"},attrs:{"body-style":{"min-height":e.$Height()-90+"px"}}},[a("el-form",{staticClass:"Form m-t",attrs:{"label-position":"right","label-width":"120px",size:"mini"}},[a("el-form-item",{attrs:{label:"时间范围 :"}},[a("el-row",[a("el-col",{attrs:{span:9}},[a("el-date-picker",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选则开始日期"},model:{value:e.beginTime,callback:function(t){e.beginTime=t},expression:"beginTime"}})],1),e._v(" "),a("el-col",{staticClass:"text-center",attrs:{span:2}},[e._v("\r\n                                    -\r\n                                ")]),e._v(" "),a("el-col",{attrs:{span:9}},[a("el-date-picker",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选则结束日期"},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:2}},[a("el-button",{attrs:{size:"mini",type:"primary",disabled:!e.beginTime&&!e.endTime},on:{click:e.getNums}},[a("i",{staticClass:"el-icon-search"})])],1)],1)],1)],1),e._v(" "),a("div",{staticStyle:{"margin-left":"120px"}},["overlay"==e.type?a("div",[a("el-col",{staticClass:"cncConfigTable",attrs:{span:22}},[a("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"当前模板",name:"first"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",size:"small",data:e.nowModules,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{width:"40"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n                                                        "+e._s(t.$index)+"\r\n                                                    ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"jiagongNum",label:"模板列表"}})],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"模板列表",name:"second"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",size:"small",data:e.models,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"40"}}),e._v(" "),a("el-table-column",{attrs:{prop:"jiagongNum",label:"模板列表"}})],1)],1)],1)],1)],1):e._e(),e._v(" "),"overlay"!=e.type?a("div",[a("el-col",{staticClass:"cncConfigTable",attrs:{span:22}},[a("el-col",{attrs:{span:4}},[a("h3",[e._v("当前模板 ：")])]),e._v(" "),a("el-col",{attrs:{span:18}},[a("h3",[e._v("\r\n                                        "+e._s(e.nowModules[0]?e.nowModules[0].jiagongNum:"还没有设置模板")+"\r\n                                    ")])]),e._v(" "),a("el-table",{staticStyle:{width:"100%","z-index":"99"},attrs:{border:"",size:"small",data:e.models,"tooltip-effect":"dark"},on:{"current-change":e.handleCurrentChange,"row-click":e.showRow}},[a("el-table-column",{attrs:{width:"40"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-radio",{staticClass:"radio",attrs:{label:t.$index},nativeOn:{change:function(a){e.getCurrentRow(t.$index)}},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v(" ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"jiagongNum",label:"模板列表"}})],1)],1)],1):e._e()]),e._v(" "),a("el-form",{staticClass:"Form m-t",attrs:{"label-position":"right","label-width":"120px",size:"mini"}},[a("el-form-item",[a("div",{staticClass:"text-center btnBlock"},[a("el-col",{attrs:{span:22}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:"overlay"==e.type,expression:"type=='overlay'"}],staticStyle:{"margin-left":"0","margin-top":"20px"},attrs:{type:"primary",size:"large",disabled:e.selectedModel.length<=0},on:{click:e.submit}},[e._v("设置模板")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"overlay"!=e.type,expression:"type!='overlay'"}],staticStyle:{"margin-left":"0","margin-top":"20px"},attrs:{type:"primary",size:"large",disabled:e.radio<0},on:{click:e.submit}},[e._v("设置模板")])],1)],1)])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]},$r=a("/Xao")(Mr,Rr,!1,null,null,null).exports,zr={data:function(){return{loadingSave:!1,cep:{folderId:"",gatewayId:"",programName:"",comment:"",createByUserId:""},rules:{folderId:[{required:!0,message:"请选择文件夹",trigger:"change,blur"}],gatewayId:[{required:!0,message:"请选择网关",trigger:"change,blur"}],programName:[{required:!0,message:"请填写cep项目名称",trigger:"change,blur"}]},folderList:[],gatewayList:[]}},methods:{getFolderList:function(){var e=this;Ge().then(function(t){200==t.code?e.folderList=t.data.list:e.$message.error(t.message)})},getGatewayList:function(){var e=this;je().then(function(t){200==t.code?e.gatewayList=t.data.list.slice():e.$message.error(t.message)})},submit:function(){var e=this;this.$refs.cep.validate(function(t){var a;t&&(e.cep.createByUserId=k(),e.loadingSave=!0,(a=e.cep,pe({url:"piping/gateway/cep/program/add",method:"post",data:a})).then(function(t){e.loadingSave=!1,200==t.code?(e.$router.push("/piping/gateway/cep/program/"+t.data.cepProgramId),e.$refs.cep.resetFields(),e.$message.success(t.message)):e.$message.error(t.message)}))})}},created:function(){this.getFolderList(),this.getGatewayList()}},Er={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticStyle:{"border-bottom":"1px solid #dcdfe6",padding:"5px 20px"}},[a("el-col",{staticClass:"text-right",attrs:{span:24}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e.$router.go(-1)}}},[a("svg-icon",{staticStyle:{"font-size":"20px"},attrs:{"icon-class":"back"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"app-container"},[a("el-row",[a("el-col",{attrs:{xs:{span:20,offset:2},sm:{span:18,offset:3},md:{span:16,offset:4},lg:{span:16,offset:4},xl:{span:16,offset:4}}},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-form",{ref:"cep",staticClass:"Form m-t",attrs:{"label-position":"right","label-width":"120px",model:e.cep,rules:e.rules,size:"mini"}},[a("el-row",{staticStyle:{overflow:"hidden"}},[a("el-col",{staticClass:"setting",attrs:{span:22}},[a("el-form-item",{attrs:{label:"文件夹名称 :",prop:"folderId"}},[a("el-select",{attrs:{placeholder:"请选择文件夹"},model:{value:e.cep.folderId,callback:function(t){e.$set(e.cep,"folderId",t)},expression:"cep.folderId"}},e._l(e.folderList,function(e){return a("el-option",{key:"folder"+e.folderId,attrs:{label:e.folderName,value:e.folderId}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"网关名称 :",prop:"gatewayId"}},[a("el-select",{attrs:{placeholder:"请选择网关"},model:{value:e.cep.gatewayId,callback:function(t){e.$set(e.cep,"gatewayId",t)},expression:"cep.gatewayId"}},e._l(e.gatewayList,function(e){return a("el-option",{key:"gateway"+e.gatewayId,attrs:{label:e.gatewayName,value:e.gatewayId}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"项目名称 :",prop:"programName"}},[a("el-input",{model:{value:e.cep.programName,callback:function(t){e.$set(e.cep,"programName",t)},expression:"cep.programName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述 :"}},[a("el-input",{model:{value:e.cep.comment,callback:function(t){e.$set(e.cep,"comment",t)},expression:"cep.comment"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticStyle:{"border-top":"1px solid #ebeef5","text-align":"center","padding-top":"20px","margin-bottom":"10px"}},[a("el-button",{attrs:{type:"primary",size:"mini",loading:e.loadingSave},on:{click:e.submit}},[e._v("创建")])],1)])],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]},Pr=a("/Xao")(zr,Er,!1,null,null,null).exports,jr=a("HzJ8"),Vr=a.n(jr),Or=a("yYpm"),qr=a.n(Or),Br=a("CizF"),Ur=a.n(Br);var Hr=a("f3Zc"),Gr=a("blzN"),Xr=a("OzVx"),Wr=a("V703"),Jr={name:"ElFormItem",componentName:"ElFormItem",mixins:[Gr.a],provide:function(){return{elFormItem:this}},inject:["elForm"],props:{label:String,labelWidth:String,prop:String,required:{type:Boolean,default:void 0},rules:[Object,Array],error:String,validateStatus:String,for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:String},watch:{error:function(e){this.validateMessage=e,this.validateState=e?"error":""},validateStatus:function(e){this.validateState=e}},computed:{labelFor:function(){return this.for||this.prop},labelStyle:function(){var e={};if("top"===this.form.labelPosition)return e;var t=this.labelWidth||this.form.labelWidth;return t&&(e.width=t),e},contentStyle:function(){var e={},t=this.label;if("top"===this.form.labelPosition||this.form.inline)return e;if(!t&&!this.labelWidth&&this.isNested)return e;var a=this.labelWidth||this.form.labelWidth;return a&&(e.marginLeft=a),e},form:function(){for(var e=this.$parent,t=e.$options.componentName;"ElForm"!==t;)"ElFormItem"===t&&(this.isNested=!0),t=(e=e.$parent).$options.componentName;return e},fieldValue:{cache:!1,get:function(){var e=this.form.model;if(e&&this.prop){var t=this.prop;return-1!==t.indexOf(":")&&(t=t.replace(/:/,".")),Object(Wr.a)(e,t,!0).v}}},isRequired:function(){var e=this.getRules(),t=!1;return e&&e.length&&e.every(function(e){return!e.required||(t=!0,!1)}),t},_formSize:function(){return this.elForm.size},elFormItemSize:function(){return this.size||this._formSize},sizeClass:function(){return(this.$ELEMENT||{}).size||this.elFormItemSize}},data:function(){return{validateState:"",validateMessage:"",validateDisabled:!1,validator:{},isNested:!1}},methods:{validate:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wr.b;this.validateDisabled=!1;var s=this.getFilteredRule(e);if((!s||0===s.length)&&void 0===this.required)return a(),!0;this.validateState="validating";var r={};s&&s.length>0&&s.forEach(function(e){delete e.trigger}),r[this.prop]=s;var i=new Hr.default(r),o={};o[this.prop]=this.fieldValue,i.validate(o,{firstFields:!0},function(e,s){t.validateState=e?"error":"success",t.validateMessage=e?e[0].message:"",a(t.validateMessage)})},clearValidate:function(){this.validateState="",this.validateMessage="",this.validateDisabled=!1},resetField:function(){this.validateState="",this.validateMessage="";var e=this.form.model,t=this.fieldValue,a=this.prop;-1!==a.indexOf(":")&&(a=a.replace(/:/,"."));var s=Object(Wr.a)(e,a,!0);Array.isArray(t)?(this.validateDisabled=!0,s.o[s.k]=[].concat(this.initialValue)):(this.validateDisabled=!0,s.o[s.k]=this.initialValue)},getRules:function(){var e=this.form.rules,t=this.rules,a=void 0!==this.required?{required:!!this.required}:[];return e=e?Object(Wr.a)(e,this.prop||"").v:[],[].concat(t||e||[]).concat(a)},getFilteredRule:function(e){return this.getRules().filter(function(t){return!t.trigger||-1!==t.trigger.indexOf(e)}).map(function(e){return Object(Xr.a)({},e)})},onFieldBlur:function(){this.validate("blur")},onFieldChange:function(){this.validateDisabled?this.validateDisabled=!1:this.validate("change")}},mounted:function(){if(this.prop){this.dispatch("ElForm","el.form.addField",[this]);var e=this.fieldValue;Array.isArray(e)&&(e=[].concat(e)),Object.defineProperty(this,"initialValue",{value:e}),(this.getRules().length||void 0!==this.required)&&(this.$on("el.form.blur",this.onFieldBlur),this.$on("el.form.change",this.onFieldChange))}},beforeDestroy:function(){this.dispatch("ElForm","el.form.removeField",[this])}},Yr={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el-form-item",class:[{"el-form-item--feedback":e.elForm&&e.elForm.statusIcon,"is-error":"error"===e.validateState,"is-validating":"validating"===e.validateState,"is-success":"success"===e.validateState,"is-required":e.isRequired||e.required},e.sizeClass?"el-form-item--"+e.sizeClass:""]},[e.label||e.$slots.label?a("label",{staticClass:"el-form-item__label",style:e.labelStyle,attrs:{for:e.labelFor}},[e._t("label",[e._v(e._s(e.label+e.form.labelSuffix))])],2):e._e(),e._v(" "),a("div",{staticClass:"el-form-item__content",style:e.contentStyle},[e._t("default"),e._v(" "),a("transition",{attrs:{name:"el-zoom-in-top"}},["error"===e.validateState&&e.showMessage&&e.form.showMessage?a("div",{staticClass:"el-form-item__error",class:{"el-form-item__error--inline":"boolean"==typeof e.inlineMessage?e.inlineMessage:e.elForm&&e.elForm.inlineMessage||!1}},[e._v("\n        "+e._s(e.validateMessage)+"\n      ")]):e._e()])],2)])},staticRenderFns:[]},Zr=a("/Xao")(Jr,Yr,!1,null,null,null).exports,Qr={components:{ElFormItem:Zr,codemirror:Fe.codemirror},data:function(){return{jobId:"",loading:!1,job:{cepJobName:"",cepJobContent:"",comment:"",published:0},useTemplate:"0",jobUserTemplateList:[],jobPublicTemplateList:[],templateIndex:"",rules:{cepJobName:[{required:!0,message:"请填写节点名称",trigger:"change,blur"},{validator:this.$checkName,trigger:"change,blur"}],cepJobContent:[{required:!0,message:"请填Content",trigger:"change,blur"}]},mySqlOption:{tabSize:4,styleActiveLine:!0,lineNumbers:!0,line:!0,mode:"text/x-sql",lineWrapping:!0,theme:"rubyblue",autoRefresh:!0},fullLoading:null,LOADING:{LOADING:{lock:!0,text:"数据处理中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.6)"}}}},methods:{jobDetail:function(){var e,t=this;(e={cepJobId:this.jobId},pe({url:"piping/gateway/cep/job/detail",method:"post",params:e})).then(function(e){200==e.code?t.job=Z()({},t.job,e.data):t.$message.error(e.message)})},submit:function(){var e=this;this.$refs.job.validate(function(t){var a;t&&(e.job.cepJobId=e.jobId,e.fullLoading=e.$loading(e.LOADING),(a=e.job,pe({url:"piping/gateway/cep/job/update",method:"post",data:a})).then(function(t){e.fullLoading.close(),200==t.code?(e.$message.success(t.message),e.$emit("cepUpdate")):e.$message.error(t.message)}))})},changeName:function(e){e.indexOf("_")>=0||this.$emit("changeName",e),this.$emit("changeName",e)},change:function(){this.$refs.job.validateField("cepJobContent")},setTemplate:function(){if(this.useTemplate>0){if(1==this.useTemplate){var e=Z()({},this.jobUserTemplateList[this.templateIndex]);delete e.cepJobName,Z()(this.job,e)}if(2==this.useTemplate){var t=Z()({},this.jobPublicTemplateList[this.templateIndex]);delete t.cepJobName,Z()(this.job,t)}}},getTemplate:function(){var e,t=this;pe({url:"piping/gateway/cep/job/template",method:"post",params:e}).then(function(e){200==e.code?e.data&&Array.isArray(e.data)&&e.data.length>0&&(t.jobUserTemplateList=e.data):t.$message.error(e.message)})},getPublicTemplate:function(){var e,t=this;pe({url:"piping/gateway/cep/job/public/list",method:"post",params:e}).then(function(e){200==e.code?e.data&&Array.isArray(e.data)&&e.data.length>0&&(t.jobPublicTemplateList=e.data):t.$message.error(e.message)})}},computed:{jobTemplateList:function(){return this.useTemplate>0?1==this.useTemplate?this.jobUserTemplateList:2==this.useTemplate?this.jobPublicTemplateList:void 0:[]}},watch:{},mounted:function(){var e=this;e.$on("job",function(t){e.jobId=t,e.$refs.job.resetFields(),e.useTemplate=0,e.templateIndex="",e.jobDetail(),e.getTemplate(),e.getPublicTemplate()})}},Kr={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"job",staticClass:"Form",attrs:{"label-position":"right",model:e.job,rules:e.rules,"label-width":"100px",size:"mini"}},[a("el-form-item",{attrs:{label:"Job Name :",prop:"cepJobName"}},[a("el-col",{attrs:{span:22}},[a("el-input",{on:{input:e.changeName},model:{value:e.job.cepJobName,callback:function(t){e.$set(e.job,"cepJobName",t)},expression:"job.cepJobName"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"使用模板 : "}},[a("el-col",{attrs:{span:22}},[a("el-radio-group",{on:{change:function(t){e.templateIndex=""}},model:{value:e.useTemplate,callback:function(t){e.useTemplate=t},expression:"useTemplate"}},[a("el-radio",{attrs:{label:"2"}},[e._v("系统模板")]),e._v(" "),a("el-radio",{attrs:{label:"1"}},[e._v("自定义模板")]),e._v(" "),a("el-radio",{attrs:{label:"0"}},[e._v("否")])],1)],1)],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.useTemplate>0,expression:"useTemplate>0"}],attrs:{label:"模板 : "}},[a("el-col",{attrs:{span:22}},[a("el-select",{on:{change:e.setTemplate},model:{value:e.templateIndex,callback:function(t){e.templateIndex=t},expression:"templateIndex"}},e._l(e.jobTemplateList,function(e,t){return a("el-option",{key:t+"_"+e.cepJobName,attrs:{label:e.cepJobName,value:t}})}))],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Content :",prop:"cepJobContent"}},[a("el-row",[a("el-col",{staticClass:"CODEMIRROE CODEMIRROESource",staticStyle:{"margin-top":"10px",position:"relative"},attrs:{span:22}},[a("codemirror",{staticClass:"code",staticStyle:{"line-height":"20px"},attrs:{options:e.mySqlOption},on:{changes:e.change},model:{value:e.job.cepJobContent,callback:function(t){e.$set(e.job,"cepJobContent",t)},expression:"job.cepJobContent"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Comment :"}},[a("el-row",[a("el-col",{attrs:{span:22}},[a("el-input",{model:{value:e.job.comment,callback:function(t){e.$set(e.job,"comment",t)},expression:"job.comment"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"设置为模板 : "}},[a("el-col",{attrs:{span:22}},[a("el-radio-group",{model:{value:e.job.published,callback:function(t){e.$set(e.job,"published",t)},expression:"job.published"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-col",{staticClass:"btnBlock",attrs:{span:22}},[a("el-button",{attrs:{type:"primary",size:"mini",loading:e.loading},on:{click:e.submit}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]},ei=a("/Xao")(Qr,Kr,!1,null,null,null).exports;function ti(e){return pe({url:"piping/gateway/cep/source/update",method:"post",data:e})}function ai(e){return pe({url:"piping/gateway/cep/source/detail",method:"post",params:e})}function si(e){return pe({url:"piping/gateway/cep/source/map/add",method:"post",data:e})}function ri(e){return pe({url:"piping/gateway/cep/stream/detail",method:"post",params:e})}function ii(e){return pe({url:"piping/gateway/cep/stream/column/detailByCepStreamId",method:"post",params:e})}var oi={props:["hasStream"],data:function(){return{sourceTemplate:[],useTemplate:!1,templateIndex:"",fullLoading:null,LOADING:{LOADING:{lock:!0,text:"数据处理中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.6)"}},sourceId:"",loading:!1,showAddMapping:!1,showMapping:!1,cepProgramId:"",source:{source:{cepSourceId:"",cepSourceName:"",comment:"",messageFormat:"",cepSourceType:"",published:0},http:{cepSourceHttpId:"",cepSourceId:"",receiverUrl:""},kafka:{cepSourceKafkaId:"",cepSourceId:"",bootstrapServers:"",topicList:"",groupId:"",threadingOption:"",partitionNoList:""},mqtt:{cepSourceMqttId:"",cepSourceId:"",url:"",username:"",password:"",clientid:"",topic:""},tcp:{cepSourceTcpId:"",cepSourceId:"",context:""}},rules:{source:{cepSourceName:[{required:!0,message:"请填写节点名称",trigger:"change,blur"},{validator:this.$checkName,trigger:"change,blur"}],messageFormat:[{required:!0,message:"请选择数据格式",trigger:"change,blur"}],cepSourceType:[{required:!0,message:"请选择节点类型",trigger:"change,blur"}]},http:{receiverUrl:[{required:!0,message:"请填写receiverUrl",trigger:"change,blur"}]},kafka:{bootstrapServers:[{required:!0,message:"请填写bootstrapServers",trigger:"change,blur"}],topicList:[{required:!0,message:"请填写topicList",trigger:"change,blur"}],groupId:[{required:!0,message:"请填写groupId",trigger:"change,blur"}],threadingOption:[{required:!0,message:"请选择threadingOption",trigger:"change,blur"}],partitionNoList:[{required:!0,message:"请填写partitionNoList",trigger:"change,blur"}]},mqtt:{url:[{required:!0,message:"请填写 url",trigger:"change,blur"}],username:[{required:!0,message:"请填写 username",trigger:"change,blur"}],password:[{required:!0,message:"请填写 password",trigger:"change,blur"}],clientid:[{required:!0,message:"请填写 clientid",trigger:"change,blur"}],topic:[{required:!0,message:"请填写 topic",trigger:"change,blur"}]},tcp:{context:[{required:!0,message:"请填写 context",trigger:"change,blur"}]}},hasAddedStreamColumn:[],mapping:{cepStreamColumnId:"",regex:"",cepSourceMapId:"",cepSourceId:""},cepStreamColumn:[],sourceType:[{num:1,value:"http"},{num:2,value:"kafka"},{num:3,value:"mqtt"},{num:4,value:"tcp"}],kafkaThreadOption:[{value:"single.thread",num:1},{value:"topic-wise",num:2},{value:"partition.wise",num:3}],messageFormat:[{value:"text",num:1},{value:"json",num:2}]}},methods:{addMapping:function(){this.showMapping=!0},sourceDetail:function(){var e=this,t={};t.cepSourceId=this.sourceId,ai(t).then(function(t){200==t.code?e.source.source=Z()({},e.source.source,t.data):e.$message.error(t.message)})},sourceUpdate:function(){var e=this;this.source.source.cepSourceId=this.sourceId,ti(this.source.source).then(function(t){200==t.code?(e.$message.success(t.message),e.$emit("cepUpdate")):e.$message.error(t.message)})},StreamId:function(e){var t=this;"0"==e?(t.showAddMapping=!1,t.showMapping=!1):ii({cepStreamId:e}).then(function(e){200==e.code?e.data&&e.data.length>0?(t.cepStreamColumn=e.data,t.showAddMapping=!0,t.selectedMapList()):(t.showAddMapping=!1,t.showMapping=!1):t.$message.error(e.message)})},createMapping:function(e){var t=this,a=void 0;(a=t.hasAddedStreamColumn[e]).cepSourceId=t.sourceId,si(a).then(function(a){200==a.code?t.hasAddedStreamColumn.splice(e,1,a.data):t.$message.error(a.message)})},createMappingFirst:function(){var e=this;e.mapping.cepSourceId=e.sourceId,si(e.mapping).then(function(t){200==t.code?(e.hasAddedStreamColumn.push(t.data),e.$message.success(t.message)):e.$message.error(t.message)})},selectedMapList:function(){var e,t={},a=this;t.cepSourceId=a.sourceId,(e=t,pe({url:"piping/gateway/cep/source/map/detailByCepSourceId",method:"post",params:e})).then(function(e){200==e.code?e.data&&(a.hasAddedStreamColumn=e.data):a.$message.error(e.message)})},addMapplist:function(){this.hasAddedStreamColumn.push({cepStreamColumnId:"",regex:"",cepSourceId:""})},mapDelete:function(e,t){var a=this;this.$confirm("确定删除列"+e.regex+"?","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning"}).then(function(){var s;(s={cepSourceMapId:e.cepSourceMapId},pe({url:"piping/gateway/cep/source/map/delete",method:"post",params:s})).then(function(e){200==e.code?(a.hasAddedStreamColumn.splice(t,1),a.$message.success(e.message)):a.$message.error(e.message)})}).catch(function(){})},submit:function(){var e=this;this.$refs.source.validate(function(t){if(t){var a=[ti(e.source.source)];1==e.source.source.cepSourceType?(e.source.http.cepSourceId=e.sourceId,e.source.http.cepSourceHttpId?a.push(function(e){return pe({url:"piping/gateway/cep/source/http/update",method:"post",data:e})}(e.source.http)):a.push((s=e.source.http,pe({url:"piping/gateway/cep/source/http/add",method:"post",data:s})))):2==e.source.source.cepSourceType?(e.source.kafka.cepSourceId=e.sourceId,e.source.kafka.cepSourceKafkaId?a.push(function(e){return pe({url:"piping/gateway/cep/source/kafka/update",method:"post",data:e})}(e.source.kafka)):a.push(function(e){return pe({url:"piping/gateway/cep/source/kafka/add",method:"post",data:e})}(e.source.kafka))):3==e.source.source.cepSourceType?(e.source.mqtt.cepSourceId=e.sourceId,e.source.mqtt.cepSourceMqttId?a.push(function(e){return pe({url:"piping/gateway/cep/source/mqtt/update",method:"post",data:e})}(e.source.mqtt)):a.push(function(e){return pe({url:"piping/gateway/cep/source/mqtt/add",method:"post",data:e})}(e.source.mqtt))):4==e.source.source.cepSourceType&&(e.source.tcp.cepSourceId=e.sourceId,e.source.tcp.cepSourceTcpId?a.push(function(e){return pe({url:"piping/gateway/cep/source/tcp/update",method:"post",data:e})}(e.source.tcp)):a.push(function(e){return pe({url:"piping/gateway/cep/source/tcp/add",method:"post",data:e})}(e.source.tcp))),e.fullLoading=e.$loading(e.LOADING),K.a.all(a).then(function(t){e.fullLoading.close(),t.forEach(function(t){200==t.code?e.$message.success(t.message):e.$message.error(t.message)})})}var s})},changeName:function(e){e.indexOf("_")>=0||this.$emit("changeName",e)},getHttpDetail:function(){var e,t=this;(e={cepSourceId:this.sourceId},pe({url:"piping/gateway/cep/source/http/detailByCepSourceId",method:"post",params:e})).then(function(e){200==e.code?t.source.http=Z()({},t.source.http,e.data):t.$message.error(e.message)})},getKafkaDetail:function(){var e,t=this;(e={cepSourceId:this.sourceId},pe({url:"piping/gateway/cep/source/kafka/detailByCepSourceId",method:"post",params:e})).then(function(e){200==e.code?t.source.kafka=Z()({},t.source.kafka,e.data):t.$message.error(e.message)})},getMqttDetail:function(){var e,t=this;(e={cepSourceId:this.sourceId},pe({url:"piping/gateway/cep/source/mqtt/detailByCepSourceId",method:"post",params:e})).then(function(e){200==e.code?t.source.mqtt=Z()({},t.source.mqtt,e.data):t.$message.error(e.message)})},getTcpDetail:function(){var e,t=this;(e={cepSourceId:this.sourceId},pe({url:"piping/gateway/cep/source/tcp/detailByCepSourceId",method:"post",params:e})).then(function(e){200==e.code?t.source.tcp=Z()({},t.source.tcp,e.data):t.$message.error(e.message)})},getStreamName:function(e){if(this.cepStreamColumn.length>0){var t=this.cepStreamColumn.find(function(t){return t.cepStreamColumnId==e});if(t)return t.streamColumnName}},setTemplate:function(){if(this.useTemplate&&this.templateIndex>=0){var e=this.sourceType[this.source.source.cepSourceType-1].value;Z()(this.source[e],this.sourceTemplate[this.templateIndex]["cepSource"+e.slice(0,1).toUpperCase()+e.slice(1)])}},setTemplateAttr:function(){if(this.source.source.cepSourceType>0){var e=this.sourceType[this.source.source.cepSourceType-1].value;Z()(this.source[e],this.sourceTemplate[this.templateIndex]["cepSource"+e.slice(0,1).toUpperCase()+e.slice(1)])}},getSourceTemplate:function(){var e,t=this;pe({url:"piping/gateway/cep/source/template",method:"post",params:e}).then(function(e){200==e.code?e.data&&Array.isArray(e.data)&&e.data.length>0&&(t.sourceTemplate=e.data.filter(function(e){return e.cepSourceId!=t.sourceId})):t.$message.error(e.message)})}},computed:{showStreamColumn:function(){var e=[],t=this;return t.cepStreamColumn.forEach(function(a){if(!(t.hasAddedStreamColumn.length>0))return e=t.cepStreamColumn;var s=!0;t.hasAddedStreamColumn.forEach(function(e){e.cepStreamColumnId==a.cepStreamColumnId&&e.cepSourceMapId>0&&(s=!1)}),s?e.push(a):s=!0}),e},width:function(){return 2==this.source.source.cepSourceType?"150px":"100px"}},watch:{"source.source.cepSourceType":function(){1==this.source.source.cepSourceType?(this.rules.http={receiverUrl:[{required:!0,message:"请填写receiverUrl",trigger:"change,blur"}]},this.rules.kafka={bootstrapServers:[],topicList:[],groupId:[],threadingOption:[],partitionNoList:[]},this.rules.mqtt={url:[],username:[],password:[],clientid:[],topic:[]},this.rules.tcp={context:[]}):2==this.source.source.cepSourceType?(this.rules.http={receiverUrl:[]},this.rules.kafka={bootstrapServers:[{required:!0,message:"请填写bootstrapServers",trigger:"change,blur"}],topicList:[{required:!0,message:"请填写topicList",trigger:"change,blur"}],groupId:[{required:!0,message:"请填写groupId",trigger:"change,blur"}],threadingOption:[{required:!0,message:"请选择threadingOption",trigger:"change,blur"}],partitionNoList:[{required:!0,message:"请填写partitionNoList",trigger:"change,blur"}]},this.rules.mqtt={url:[],username:[],password:[],clientid:[],topic:[]},this.rules.tcp={context:[]}):3==this.source.source.cepSourceType?(this.rules.http={receiverUrl:[]},this.rules.kafka={bootstrapServers:[],topicList:[],groupId:[],threadingOption:[],partitionNoList:[]},this.rules.mqtt={url:[{required:!0,message:"请填写 url",trigger:"change,blur"}],username:[{required:!0,message:"请填写 username",trigger:"change,blur"}],password:[{required:!0,message:"请填写 password",trigger:"change,blur"}],clientid:[{required:!0,message:"请填写 clientid",trigger:"change,blur"}],topic:[{required:!0,message:"请填写 topic",trigger:"change,blur"}]},this.rules.tcp={context:[]}):4==this.source.source.cepSourceType&&(this.rules.http={receiverUrl:[]},this.rules.kafka={bootstrapServers:[],topicList:[],groupId:[],threadingOption:[],partitionNoList:[]},this.rules.mqtt={url:[],username:[],password:[],clientid:[],topic:[]},this.rules.tcp={context:[{required:!0,message:"请填写 context",trigger:"change,blur"}]})}},mounted:function(){this.cepProgramId=this.$route.params.cep_id;var e=this;e.$on("source",function(t){e.sourceId=t.source,e.useTemplate=!1,e.templateIndex="",e.sourceDetail(),e.StreamId(t.stream),e.getHttpDetail(),e.getKafkaDetail(),e.getMqttDetail(),e.getTcpDetail(),e.getSourceTemplate()})}},ni={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"source",staticClass:"Form ",attrs:{"label-position":"right",model:e.source,rules:e.rules,"label-width":e.width,size:"mini"}},[a("el-form-item",{attrs:{label:"节点名称 :",prop:"source.cepSourceName"}},[a("el-col",{attrs:{span:22}},[a("el-input",{attrs:{placeholder:"Source节点名称不能包含下划线_"},on:{input:e.changeName},model:{value:e.source.source.cepSourceName,callback:function(t){e.$set(e.source.source,"cepSourceName",t)},expression:"source.source.cepSourceName"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"描述 :"}},[a("el-col",{attrs:{span:22}},[a("el-input",{model:{value:e.source.source.comment,callback:function(t){e.$set(e.source.source,"comment",t)},expression:"source.source.comment"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"使用模板 : "}},[a("el-col",{attrs:{span:22}},[a("el-radio-group",{on:{change:function(t){e.templateIndex=""}},model:{value:e.useTemplate,callback:function(t){e.useTemplate=t},expression:"useTemplate"}},[a("el-radio",{attrs:{label:!0}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:!1}},[e._v("否")])],1)],1)],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.useTemplate,expression:"useTemplate"}],attrs:{label:"模板 : "}},[a("el-col",{attrs:{span:22}},[a("el-select",{on:{change:e.setTemplateAttr},model:{value:e.templateIndex,callback:function(t){e.templateIndex=t},expression:"templateIndex"}},e._l(e.sourceTemplate,function(e,t){return a("el-option",{key:t+"_"+e.cepSourceName,attrs:{label:e.cepSourceName,value:t}})}))],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"数据格式 :",prop:"source.messageFormat"}},[a("el-col",{attrs:{span:22}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.source.source.messageFormat,callback:function(t){e.$set(e.source.source,"messageFormat",t)},expression:"source.source.messageFormat"}},e._l(e.messageFormat,function(e){return a("el-option",{key:e.value,attrs:{label:e.value,value:e.num}})}))],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"节点类型 :",prop:"source.cepSourceType"}},[a("el-col",{attrs:{span:22}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.setTemplate},model:{value:e.source.source.cepSourceType,callback:function(t){e.$set(e.source.source,"cepSourceType",t)},expression:"source.source.cepSourceType"}},e._l(e.sourceType,function(e){return a("el-option",{key:e.value,attrs:{label:e.value,value:e.num}})}))],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"1"==e.source.source.cepSourceType,expression:"source.source.cepSourceType=='1'"}]},[a("el-form-item",{attrs:{label:"Receiver Url :",prop:"http.receiverUrl"}},[a("el-col",{attrs:{span:22}},[a("el-input",{model:{value:e.source.http.receiverUrl,callback:function(t){e.$set(e.source.http,"receiverUrl",t)},expression:"source.http.receiverUrl"}})],1)],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"2"==e.source.source.cepSourceType,expression:"source.source.cepSourceType=='2'"}]},[a("el-form-item",{attrs:{label:"Bootstrap Servers :",prop:"kafka.bootstrapServers"}},[a("el-col",{attrs:{span:22}},[a("el-input",{model:{value:e.source.kafka.bootstrapServers,callback:function(t){e.$set(e.source.kafka,"bootstrapServers",t)},expression:"source.kafka.bootstrapServers"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Topic List :",prop:"kafka.topicList"}},[a("el-col",{attrs:{span:22}},[a("el-input",{model:{value:e.source.kafka.topicList,callback:function(t){e.$set(e.source.kafka,"topicList",t)},expression:"source.kafka.topicList"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Group Id :",prop:"kafka.groupId"}},[a("el-col",{attrs:{span:22}},[a("el-input",{model:{value:e.source.kafka.groupId,callback:function(t){e.$set(e.source.kafka,"groupId",t)},expression:"source.kafka.groupId"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Threading Option :",prop:"kafka.threadingOption"}},[a("el-col",{attrs:{span:22}},[a("el-select",{model:{value:e.source.kafka.threadingOption,callback:function(t){e.$set(e.source.kafka,"threadingOption",t)},expression:"source.kafka.threadingOption"}},e._l(e.kafkaThreadOption,function(e){return a("el-option",{key:e.value,attrs:{label:e.value,value:e.num}})}))],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Partition No List :",prop:"kafka.partitionNoList"}},[a("el-col",{attrs:{span:22}},[a("el-input",{model:{value:e.source.kafka.partitionNoList,callback:function(t){e.$set(e.source.kafka,"partitionNoList",t)},expression:"source.kafka.partitionNoList"}})],1)],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"3"==e.source.source.cepSourceType,expression:"source.source.cepSourceType=='3'"}]},[a("el-form-item",{attrs:{label:"Client Id :",prop:"mqtt.clientid"}},[a("el-col",{attrs:{span:22}},[a("el-input",{model:{value:e.source.mqtt.clientid,callback:function(t){e.$set(e.source.mqtt,"clientid",t)},expression:"source.mqtt.clientid"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Url :",prop:"mqtt.url"}},[a("el-col",{attrs:{span:22}},[a("el-input",{model:{value:e.source.mqtt.url,callback:function(t){e.$set(e.source.mqtt,"url",t)},expression:"source.mqtt.url"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Username :",prop:"mqtt.username"}},[a("el-col",{attrs:{span:22}},[a("el-input",{model:{value:e.source.mqtt.username,callback:function(t){e.$set(e.source.mqtt,"username",t)},expression:"source.mqtt.username"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Password :",prop:"mqtt.password"}},[a("el-col",{attrs:{span:22}},[a("el-input",{attrs:{type:"password"},model:{value:e.source.mqtt.password,callback:function(t){e.$set(e.source.mqtt,"password",t)},expression:"source.mqtt.password"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Topic :",prop:"mqtt.topic"}},[a("el-col",{attrs:{span:22}},[a("el-input",{model:{value:e.source.mqtt.topic,callback:function(t){e.$set(e.source.mqtt,"topic",t)},expression:"source.mqtt.topic"}})],1)],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"4"==e.source.source.cepSourceType,expression:"source.source.cepSourceType=='4'"}]},[a("el-form-item",{attrs:{label:"Context :",prop:"tcp.context"}},[a("el-col",{attrs:{span:22}},[a("el-input",{model:{value:e.source.tcp.context,callback:function(t){e.$set(e.source.tcp,"context",t)},expression:"source.tcp.context"}})],1)],1)],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.showAddMapping,expression:"showAddMapping"}]},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.addMapping}},[e._v("添加Mapping")])],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.showMapping,expression:"showMapping"}],attrs:{label:"Mapping :"}},[e._l(e.hasAddedStreamColumn,function(t,s){return a("el-row",{directives:[{name:"show",rawName:"v-show",value:e.hasAddedStreamColumn.length>0,expression:"hasAddedStreamColumn.length>0"}],key:t.cepSourceMapId},[a("el-col",{attrs:{span:9}},[a("el-input",{attrs:{placeholder:"Regex",readonly:t.cepSourceMapId>0},model:{value:t.regex,callback:function(a){e.$set(t,"regex",a)},expression:"mapping.regex"}})],1),e._v(" "),t.cepSourceMapId>0?a("el-col",{attrs:{span:7,offset:1}},[a("el-input",{attrs:{readonly:"",value:e.getStreamName(t.cepStreamColumnId)}})],1):a("el-col",{attrs:{span:7,offset:1}},[a("el-select",{attrs:{placeholder:"streamColumnName"},model:{value:t.cepStreamColumnId,callback:function(a){e.$set(t,"cepStreamColumnId",a)},expression:"mapping.cepStreamColumnId"}},e._l(e.showStreamColumn,function(e){return a("el-option",{key:e.cepStreamColumnId,attrs:{label:e.streamColumnName,value:e.cepStreamColumnId}})}))],1),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:5}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.cepSourceMapId,expression:"!mapping.cepSourceMapId"}],attrs:{type:"primary",size:"mini",disabled:!t.regex||!t.cepStreamColumnId},on:{click:function(t){e.createMapping(s)}}},[e._v("提交")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.cepSourceMapId>0,expression:"mapping.cepSourceMapId>0"}],attrs:{type:"primary",size:"mini"},on:{click:function(a){e.mapDelete(t,s)}}},[a("i",{staticClass:"el-icon-delete"})])],1),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:22}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:s==e.hasAddedStreamColumn.length-1,expression:"index==hasAddedStreamColumn.length-1"}],attrs:{type:"primary",size:"mini"},on:{click:e.addMapplist}},[a("i",{staticClass:"el-icon-plus"})])],1)],1)}),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:0==e.hasAddedStreamColumn.length,expression:"hasAddedStreamColumn.length==0"}]},[a("el-col",{attrs:{span:9}},[a("el-col",{attrs:{span:20}},[a("el-input",{attrs:{placeholder:"Regex"},model:{value:e.mapping.regex,callback:function(t){e.$set(e.mapping,"regex",t)},expression:"mapping.regex"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:9}},[a("el-col",{attrs:{span:20}},[a("el-select",{attrs:{placeholder:"streamColumnName"},model:{value:e.mapping.cepStreamColumnId,callback:function(t){e.$set(e.mapping,"cepStreamColumnId",t)},expression:"mapping.cepStreamColumnId"}},e._l(e.showStreamColumn,function(e){return a("el-option",{key:e.cepStreamColumnId,attrs:{label:e.streamColumnName,value:e.cepStreamColumnId}})}))],1)],1),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:4}},[a("el-button",{attrs:{type:"primary",size:"mini",disabled:!e.mapping.regex||!e.mapping.cepStreamColumnId},on:{click:e.createMappingFirst}},[e._v("提交")])],1)],1)],2),e._v(" "),a("el-form-item",{attrs:{label:"设置为模板 : "}},[a("el-col",{attrs:{span:22}},[a("el-radio-group",{model:{value:e.source.source.published,callback:function(t){e.$set(e.source.source,"published",t)},expression:"source.source.published"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-col",{staticClass:"btnBlock",attrs:{span:22}},[a("el-button",{attrs:{type:"primary",size:"mini",loading:e.loading},on:{click:e.submit}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]};var li=a("/Xao")(oi,ni,!1,function(e){a("RykG")},null,null).exports;function ci(e){return pe({url:"piping/gateway/cep/sink/update",method:"post",data:e})}function ui(e){return pe({url:"piping/gateway/cep/sink/detail",method:"post",params:e})}var di={data:function(){return{topic:"",empty:"",tsdb:"",sinkId:"",project_id:"",gateway_id:"",cepId:"",projectDetail:"",gatewayDetail:"",cepDetail:"",loading:!1,sink:{sink:{cepSinkName:"",comment:"",messageFormat:"",cepSinkType:""},http:{cepSinkId:"",publisherUrl:"",method:""},kafka:{cepSinkId:"",topic:"",bootstrapServers:"",partitionNo:""},mqtt:{cepSinkId:"",mqttClientId:"",mqttBrokerUrl:"",mqttUsername:"",mqttPassword:"",topic:""},tcp:{cepSinkId:"",url:""}},rules:{sink:{cepSinkName:[{required:!0,message:"请填写节点名称",trigger:"change,blur"},{validator:this.$checkName,trigger:"change,blur"}],messageFormat:[{required:!0,message:"请选择数据格式",trigger:"change,blur"}],cepSinkType:[{required:!0,message:"请选择节点类型",trigger:"change,blur"}]},http:{publisherUrl:[{required:!0,message:"请填写publisherUrl",trigger:"change,blur"}],method:[{required:!0,message:"请选择method",trigger:"change,blur"}]},kafka:{topic:[{required:!0,message:"请填写topic",trigger:"change,blur"}],bootstrapServers:[{required:!0,message:"请填写bootstrapServers",trigger:"change,blur"}],partitionNo:[{required:!0,message:"请填写partitionNo",trigger:"change,blur"}]},mqtt:{mqttClientId:[{required:!0,message:"请填写mqttClientId",trigger:"change,blur"}],mqttBrokerUrl:[{required:!0,message:"请填写mqttBrokerUrl",trigger:"change,blur"}],mqttUsername:[{required:!0,message:"请填写mqttUsername",trigger:"change,blur"}],mqttPassword:[{required:!0,message:"请填写mqttPassword",trigger:"change,blur"}],topic:[{required:!0,message:"请填写topic",trigger:"change,blur"}]},tcp:{url:[{required:!0,message:"请填写url",trigger:"change,blur"}]}},sinkType:[{num:1,value:"http"},{num:2,value:"kafka"},{num:3,value:"mqtt"},{num:4,value:"tcp"}],httpType:[{num:1,value:"POST"},{num:2,value:"GET"},{num:3,value:"PUT"},{num:4,value:"DELETE"}],messageFormat:[{num:1,value:"text"},{num:2,value:"json"}],fullLoading:null,LOADING:{LOADING:{lock:!0,text:"数据处理中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.6)"}}}},methods:{sinkDetail:function(){var e=this;ui({cepSinkId:this.sinkId}).then(function(t){200==t.code?(t.data&&0==t.data.cepSinkType&&(t.data.cepSinkType=""),e.sink.sink=Z()({},e.sink.sink,t.data)):self.$message.error(t.message)})},sinkUpdate:function(){this.sink.sink.cepSinkId=this.sinkId,ci(this.sink.sink).then(function(e){200==e.code?(this.$message.success(e.message),this.$emit("cepUpdate")):this.$message.error(e.message)})},submit:function(){var e=this;this.$refs.sink.validate(function(t){if(t){var a=[ci(e.sink.sink)];1==e.sink.sink.cepSinkType?(e.sink.http.cepSinkId=e.sinkId,e.sink.http.cepSinkHttpId?a.push(function(e){return pe({url:"piping/gateway/cep/sink/http/update",method:"post",data:e})}(e.sink.http)):a.push((s=e.sink.http,pe({url:"piping/gateway/cep/sink/http/add",method:"post",data:s})))):2==e.sink.sink.cepSinkType?(e.sink.kafka.cepSinkId=e.sinkId,e.sink.kafka.cepSinkKafkaId?a.push(function(e){return pe({url:"piping/gateway/cep/sink/kafka/update",method:"post",data:e})}(e.sink.kafka)):a.push(function(e){return pe({url:"piping/gateway/cep/sink/kafka/add",method:"post",data:e})}(e.sink.kafka))):3==e.sink.sink.cepSinkType?(e.sink.mqtt.cepSinkId=e.sinkId,e.sink.mqtt.cepSinkMqttId?a.push(function(e){return pe({url:"piping/gateway/cep/sink/mqtt/update",method:"post",data:e})}(e.sink.mqtt)):a.push(function(e){return pe({url:"piping/gateway/cep/sink/mqtt/add",method:"post",data:e})}(e.sink.mqtt))):4==e.sink.sink.cepSinkType&&(e.sink.tcp.cepSinkId=e.sinkId,e.sink.tcp.cepSinkTcpId?a.push(function(e){return pe({url:"piping/gateway/cep/sink/tcp/update",method:"post",data:e})}(e.sink.tcp)):a.push(function(e){return pe({url:"piping/gateway/cep/sink/tcp/add",method:"post",data:e})}(e.sink.tcp))),e.fullLoading=e.$loading(e.LOADING),K.a.all(a).then(function(t){e.fullLoading.close(),t.forEach(function(t){200==t.code?e.$message.success(t.message):e.$message.error(t.message)})})}var s})},changeName:function(e){e.indexOf("_")>=0?this.$message.warning("节点名称不能包含下划线_"):this.$emit("changeName",e)},getProjectInfo:function(){var e=this;getProDetail({project_id:e.project_id}).then(function(t){0==t.resCode&&(e.projectDetail=t.data)})},getGatewayInfo:function(){var e=this;gatewayDetail({gateway_id:e.gateway_id}).then(function(t){0==t.resCode&&(e.gatewayDetail=t.data)})},getCepInfo:function(){var e=this;Bs({cep_program_id:e.cepId}).then(function(t){0==t.resCode&&(e.cepDetail=t.data)})},sinkTopic:function(e){var t,a=this;"1"==e&&(t={cepSinkId:a.sinkId,type:"1"},pe({url:"1/cep/sink/topic",method:"post",data:t})).then(function(e){0==e.resCode&&(a.topic=e.data.topic)})},getHttpDetail:function(){var e,t=this;(e={cepSinkId:this.sinkId},pe({url:"piping/gateway/cep/sink/http/detailByCepSinkId",method:"post",params:e})).then(function(e){200==e.code?t.sink.http=Z()({},t.sink.http,e.data):t.$message.error(e.message)})},getKafkaDetail:function(){var e,t=this;(e={cepSinkId:this.sinkId},pe({url:"piping/gateway/cep/sink/kafka/detailByCepSinkId",method:"post",params:e})).then(function(e){200==e.code?t.sink.kafka=Z()({},t.sink.kafka,e.data):t.$message.error(e.message)})},getMqttDetail:function(){var e,t=this;(e={cepSinkId:this.sinkId},pe({url:"piping/gateway/cep/sink/mqtt/detailByCepSinkId",method:"post",params:e})).then(function(e){200==e.code?t.sink.mqtt=Z()({},t.sink.mqtt,e.data):t.$message.error(e.message)})},getTcpDetail:function(){var e,t=this;(e={cepSinkId:this.sinkId},pe({url:"piping/gateway/cep/sink/tcp/detailByCepSinkId",method:"post",params:e})).then(function(e){200==e.code?t.sink.tcp=Z()({},t.sink.tcp,e.data):t.$message.error(e.message)})}},watch:{"sink.sink.cepSinkType":function(){1==this.sink.sink.cepSinkType?(this.rules.http={publisherUrl:[{required:!0,message:"请填写publisherUrl",trigger:"change,blur"}],method:[{required:!0,message:"请选择method",trigger:"change,blur"}]},this.rules.kafka={topic:[],bootstrapServers:[],partitionNo:[]},this.rules.mqtt={mqttClientId:[],mqttBrokerUrl:[],mqttUsername:[],mqttPassword:[],topic:[]},this.rules.tcp={url:[]}):2==this.sink.sink.cepSinkType?(this.rules.http={publisherUrl:[],method:[]},this.rules.kafka={topic:[{required:!0,message:"请填写topic",trigger:"change,blur"}],bootstrapServers:[{required:!0,message:"请填写bootstrapServers",trigger:"change,blur"}],partitionNo:[{required:!0,message:"请填写partitionNo",trigger:"change,blur"}]},this.rules.mqtt={mqttClientId:[],mqttBrokerUrl:[],mqttUsername:[],mqttPassword:[],topic:[]},this.rules.tcp={url:[]}):3==this.sink.sink.cepSinkType?(this.rules.http={publisherUrl:[],method:[]},this.rules.kafka={topic:[],bootstrapServers:[],partitionNo:[]},this.rules.mqtt={mqttClientId:[{required:!0,message:"请填写mqttClientId",trigger:"change,blur"}],mqttBrokerUrl:[{required:!0,message:"请填写mqttBrokerUrl",trigger:"change,blur"}],mqttUsername:[{required:!0,message:"请填写mqttUsername",trigger:"change,blur"}],mqttPassword:[{required:!0,message:"请填写mqttPassword",trigger:"change,blur"}],topic:[{required:!0,message:"请填写topic",trigger:"change,blur"}]},this.rules.tcp={url:[]}):4==this.sink.sink.cepSinkType&&(this.rules.http={publisherUrl:[],method:[]},this.rules.kafka={topic:[],bootstrapServers:[],partitionNo:[]},this.rules.mqtt={mqttClientId:[],mqttBrokerUrl:[],mqttUsername:[],mqttPassword:[],topic:[]},this.rules.tcp={url:[{required:!0,message:"请填写url",trigger:"change,blur"}]})}},computed:{width:function(){return 2==this.sink.sink.cepSinkType?"130px":"110px"}},mounted:function(){var e=this;e.cepId=this.$route.params.cepId,e.$on("sink",function(t){e.sinkId=t,e.sinkDetail(),e.getHttpDetail(),e.getKafkaDetail(),e.getMqttDetail(),e.getTcpDetail()})}},pi={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"sink",staticClass:"Form ",attrs:{"label-position":"right",model:e.sink,rules:e.rules,"label-width":e.width,size:"mini"}},[a("el-form-item",{attrs:{label:"节点名称 :",prop:"sink.cepSinkName"}},[a("el-col",{attrs:{span:22}},[a("el-input",{on:{input:e.changeName},model:{value:e.sink.sink.cepSinkName,callback:function(t){e.$set(e.sink.sink,"cepSinkName",t)},expression:"sink.sink.cepSinkName"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"描述 :"}},[a("el-col",{attrs:{span:22}},[a("el-input",{model:{value:e.sink.sink.comment,callback:function(t){e.$set(e.sink.sink,"comment",t)},expression:"sink.sink.comment"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"数据格式 :",prop:"sink.messageFormat"}},[a("el-col",{attrs:{span:22}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.sink.sink.messageFormat,callback:function(t){e.$set(e.sink.sink,"messageFormat",t)},expression:"sink.sink.messageFormat"}},e._l(e.messageFormat,function(e){return a("el-option",{key:e.value,attrs:{label:e.value,value:e.num}})}))],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"节点类型 :",prop:"sink.cepSinkType"}},[a("el-col",{attrs:{span:22}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.sink.sink.cepSinkType,callback:function(t){e.$set(e.sink.sink,"cepSinkType",t)},expression:"sink.sink.cepSinkType"}},e._l(e.sinkType,function(e){return a("el-option",{key:e.value,attrs:{label:e.value,value:e.num}})}))],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"1"==e.sink.sink.cepSinkType,expression:"sink.sink.cepSinkType=='1'"}]},[a("el-form-item",{attrs:{label:"Publisher Url :",prop:"http.publisherUrl"}},[a("el-col",{attrs:{span:22}},[a("el-input",{model:{value:e.sink.http.publisherUrl,callback:function(t){e.$set(e.sink.http,"publisherUrl",t)},expression:"sink.http.publisherUrl"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Method :",prop:"http.method"}},[a("el-col",{attrs:{span:22}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.sink.http.method,callback:function(t){e.$set(e.sink.http,"method",t)},expression:"sink.http.method"}},e._l(e.httpType,function(e){return a("el-option",{key:e.value,attrs:{label:e.value,value:e.num}})}))],1)],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"2"==e.sink.sink.cepSinkType,expression:"sink.sink.cepSinkType=='2'"}]},[a("el-form-item",{attrs:{label:"Bootstrap Servers :",prop:"kafka.bootstrapServers"}},[a("el-col",{attrs:{span:22}},[a("el-input",{model:{value:e.sink.kafka.bootstrapServers,callback:function(t){e.$set(e.sink.kafka,"bootstrapServers",t)},expression:"sink.kafka.bootstrapServers"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Topic:",prop:"kafka.topic"}},[a("el-col",{attrs:{span:22}},[a("el-input",{model:{value:e.sink.kafka.topic,callback:function(t){e.$set(e.sink.kafka,"topic",t)},expression:"sink.kafka.topic"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Partition No:",prop:"kafka.partitionNo"}},[a("el-col",{attrs:{span:22}},[a("el-input",{attrs:{placeholder:"只能填写整数",type:"number"},model:{value:e.sink.kafka.partitionNo,callback:function(t){e.$set(e.sink.kafka,"partitionNo",t)},expression:"sink.kafka.partitionNo"}})],1)],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"3"==e.sink.sink.cepSinkType,expression:"sink.sink.cepSinkType=='3'"}]},[a("el-form-item",{attrs:{label:"Client Id :",prop:"mqtt.mqttClientId"}},[a("el-col",{attrs:{span:22}},[a("el-input",{model:{value:e.sink.mqtt.mqttClientId,callback:function(t){e.$set(e.sink.mqtt,"mqttClientId",t)},expression:"sink.mqtt.mqttClientId"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Broker Url :",prop:"mqtt.mqttBrokerUrl"}},[a("el-col",{attrs:{span:22}},[a("el-input",{model:{value:e.sink.mqtt.mqttBrokerUrl,callback:function(t){e.$set(e.sink.mqtt,"mqttBrokerUrl",t)},expression:"sink.mqtt.mqttBrokerUrl"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Username :",prop:"mqtt.mqttUsername"}},[a("el-col",{attrs:{span:22}},[a("el-input",{model:{value:e.sink.mqtt.mqttUsername,callback:function(t){e.$set(e.sink.mqtt,"mqttUsername",t)},expression:"sink.mqtt.mqttUsername"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Password :",prop:"mqtt.mqttPassword"}},[a("el-col",{attrs:{span:22}},[a("el-input",{attrs:{type:"password"},model:{value:e.sink.mqtt.mqttPassword,callback:function(t){e.$set(e.sink.mqtt,"mqttPassword",t)},expression:"sink.mqtt.mqttPassword"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Topic :",prop:"mqtt.topic"}},[a("el-col",{attrs:{span:22}},[a("el-input",{model:{value:e.sink.mqtt.topic,callback:function(t){e.$set(e.sink.mqtt,"topic",t)},expression:"sink.mqtt.topic"}})],1)],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"4"==e.sink.sink.cepSinkType,expression:"sink.sink.cepSinkType=='4'"}]},[a("el-form-item",{attrs:{label:"Url :",prop:"tcp.url"}},[a("el-col",{attrs:{span:22}},[a("el-input",{model:{value:e.sink.tcp.url,callback:function(t){e.$set(e.sink.tcp,"url",t)},expression:"sink.tcp.url"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{lable:""}},[a("el-col",{staticClass:"btnBlock",attrs:{span:22}},[a("el-button",{attrs:{type:"primary",size:"mini",loading:e.loading},on:{click:e.submit}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]};var mi=a("/Xao")(di,pi,!1,function(e){a("0+TX")},null,null).exports;var hi={data:function(){return{idObj:{},loading:!1,storeId:"",storeType:["rdbms"],database:[{label:"mySql",value:1},{label:"sqlServer",value:2},{label:"oracle",value:3}],store:{store:{cepProgramId:"",cepStoreName:"",comment:"",cepStoreType:"",published:0},rdbms:{cepStoreRdbmsId:"",type:"",address:"",port:"",databaseName:"",tableName:"",username:"",password:"",poolNum:""},hbase:{tableName:"",columnFamily:"",hbaseZookeeperQuorum:"",clientPort:""}},useTemplate:!1,storeTemplateList:[],templateIndex:"",rules:{store:{cepStoreName:[{required:!0,message:"请填写节点名称",trigger:"change,blur"},{validator:this.$checkName,trigger:"change,blur"}],cepStoreType:[{required:!0,message:"请选择节点类型",trigger:"change,blur"}]},rdbms:{type:[{required:!0,message:"请选择type",trigger:"change,blur"}],address:[{required:!0,message:"请填写address",trigger:"change,blur"}],port:[{required:!0,message:"请填写port",trigger:"change,blur"}],databaseName:[{required:!0,message:"请填写databasName",trigger:"change,blur"}],tableName:[{required:!0,message:"请填写tableName",trigger:"change,blur"}],username:[{required:!0,message:"请填写username",trigger:"change,blur"}],password:[{required:!0,message:"请填写password",trigger:"change,blur"}],poolNum:[{required:!0,message:"请填写poolNum",trigger:"change,blur"}]},hbase:{tableName:[],columnFamily:[],hbaseZookeeperQuorum:[],clientPort:[]}},fullLoading:null,LOADING:{LOADING:{lock:!0,text:"数据处理中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.6)"}}}},methods:{storeDetail:function(){var e,t=this;(e={cepStoreId:this.storeId},pe({url:"piping/gateway/cep/store/detail",method:"post",params:e})).then(function(e){200==e.code?t.store.store=Z()({},t.store.store,e.data):t.$message.error(e.message)})},submit:function(){var e=this;this.$refs.store.validate(function(t){if(t){var a=[(s=e.store.store,pe({url:"piping/gateway/cep/store/update",method:"post",data:s}))];1==e.store.store.cepStoreType?(e.store.rdbms.cepStoreId=e.storeId,e.store.rdbms.cepStoreRdbmsId?a.push(function(e){return pe({url:"piping/gateway/cep/store/rdbms/update",method:"post",data:e})}(e.store.rdbms)):a.push(function(e){return pe({url:"piping/gateway/cep/store/rdbms/add",method:"post",data:e})}(e.store.rdbms))):2==e.store.store.cepStoreType&&(e.store.hbase.cepStoreId=e.storeId,e.store.hbase.cepStoreHbaseId?a.push(function(e){return pe({url:"piping/gateway/cep/store/hbase/update",method:"post",data:e})}(e.store.hbase)):a.push(function(e){return pe({url:"piping/gateway/cep/store/hbase/add",method:"post",data:e})}(e.store.hbase))),e.fullLoading=e.$loading(e.LOADING),K.a.all(a).then(function(t){e.fullLoading.close(),t.forEach(function(t){200==t.code?e.$message.success(t.message):e.$message.error(t.message)})})}var s})},changeName:function(e){this.$emit("changeName",e)},getRdbmsDetail:function(){var e,t=this;(e={cepStoreId:this.storeId},pe({url:"/piping/gateway/cep/store/rdbms/detailByCepStoreId",method:"post",params:e})).then(function(e){200==e.code?t.store.rdbms=Z()({},t.store.rdbms,e.data):t.$message.error(e.message)})},getHbaseDetail:function(){var e,t=this;(e={cepStoreId:this.storeId},pe({url:"piping/gateway/cep/store/hbase/detailByCepStoreId",method:"post",params:e})).then(function(e){200==e.code?t.store.rdbms=Z()({},t.store.rdbms,e.data):t.$message.error(e.message)})},getTemplate:function(){var e,t=this;pe({url:"piping/gateway/cep/store/template",method:"post",data:e}).then(function(e){200==e.code?e.data&&Array.isArray(e.data)&&e.data.length>0&&(t.storeTemplateList=e.data.filter(function(e){return e.cepStoreId!=t.storeId})):t.$message.error(e.message)})},setTemplate:function(){if(this.useTemplate&&this.templateIndex>=0){var e=this.storeType[this.store.store.cepStoreType-1];Z()(this.store[e],this.storeTemplateList[this.templateIndex]["cepStore"+e.slice(0,1).toUpperCase()+e.slice(1)])}},setTemplateAttr:function(){if(this.store.store.cepStoreType>0){var e=this.storeType[this.store.store.cepStoreType-1];Z()(this.store[e],this.storeTemplateList[this.templateIndex]["cepStore"+e.slice(0,1).toUpperCase()+e.slice(1)])}}},computed:{LabelWidth:function(){return"2"==this.store.cepStoreType?"220px":"150px"}},watch:{"store.store.cepStoreType":function(){1==this.store.store.cepStoreType?(this.rules.rdbms={type:[{required:!0,message:"请选择type",trigger:"change,blur"}],address:[{required:!0,message:"请填写address",trigger:"change,blur"}],port:[{required:!0,message:"请填写port",trigger:"change,blur"}],databaseName:[{required:!0,message:"请填写databasName",trigger:"change,blur"}],tableName:[{required:!0,message:"请填写tableName",trigger:"change,blur"}],username:[{required:!0,message:"请填写username",trigger:"change,blur"}],password:[{required:!0,message:"请填写password",trigger:"change,blur"}],poolNum:[{required:!0,message:"请填写poolNum",trigger:"change,blur"}]},this.rules.hbase={tableName:[],columnFamily:[],hbaseZookeeperQuorum:[],clientPort:[]}):2==this.store.store.cepStoreType&&(this.rules.rdbms={type:[],address:[],port:[],databasName:[],tableName:[],username:[],password:[],poolNum:[]},this.rules.hbase={tableName:[{required:!0,message:"请填写tableName",trigger:"change,blur"}],columnFamily:[{required:!0,message:"请填写columnFamily",trigger:"change,blur"}],hbaseZookeeperQuorum:[{required:!0,message:"请填写hbaseZookeeperQuorum",trigger:"change,blur"}],clientPort:[{required:!0,message:"请填写clientPort",trigger:"change,blur"}]})}},mounted:function(){var e=this;e.$on("store",function(t){e.$refs.store.resetFields(),e.useTemplate=!1,e.templateIndex="",e.idObj=t,e.storeId=t.storeId,e.storeDetail(),e.getRdbmsDetail(),e.getTemplate()})}},fi={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"store",staticClass:"Form ",attrs:{"label-position":"right","label-width":e.LabelWidth,model:e.store,rules:e.rules,size:"mini"}},[a("el-form-item",{attrs:{label:"节点名称 :",prop:"store.cepStoreName"}},[a("el-col",{attrs:{span:22}},[a("el-input",{on:{input:e.changeName},model:{value:e.store.store.cepStoreName,callback:function(t){e.$set(e.store.store,"cepStoreName",t)},expression:"store.store.cepStoreName"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"描述 :"}},[a("el-col",{attrs:{span:22}},[a("el-input",{model:{value:e.store.store.comment,callback:function(t){e.$set(e.store.store,"comment",t)},expression:"store.store.comment"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"使用模板 : "}},[a("el-col",{attrs:{span:22}},[a("el-radio-group",{on:{change:function(t){!e.useTemplate&&(e.templateIndex="")}},model:{value:e.useTemplate,callback:function(t){e.useTemplate=t},expression:"useTemplate"}},[a("el-radio",{attrs:{label:!0}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:!1}},[e._v("否")])],1)],1)],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.useTemplate,expression:"useTemplate"}],attrs:{label:"模板 : "}},[a("el-col",{attrs:{span:22}},[a("el-select",{on:{change:e.setTemplateAttr},model:{value:e.templateIndex,callback:function(t){e.templateIndex=t},expression:"templateIndex"}},e._l(e.storeTemplateList,function(e,t){return a("el-option",{key:t+"_"+e.cepStoreName,attrs:{label:e.cepStoreName,value:t}})}))],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"节点类型 :",prop:"store.cepStoreType"}},[a("el-col",{attrs:{span:22}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},on:{change:e.setTemplate},model:{value:e.store.store.cepStoreType,callback:function(t){e.$set(e.store.store,"cepStoreType",t)},expression:"store.store.cepStoreType"}},e._l(e.storeType,function(e,t){return a("el-option",{key:e,attrs:{label:e,value:Number(t)+Number(1)}})}))],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"1"==e.store.store.cepStoreType,expression:"store.store.cepStoreType=='1'"}]},[a("el-form-item",{attrs:{label:"Type :",prop:"rdbms.type"}},[a("el-col",{attrs:{span:22}},[a("el-select",{model:{value:e.store.rdbms.type,callback:function(t){e.$set(e.store.rdbms,"type",t)},expression:"store.rdbms.type"}},e._l(e.database,function(e){return a("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Address :",prop:"rdbms.address"}},[a("el-col",{attrs:{span:22}},[a("el-input",{model:{value:e.store.rdbms.address,callback:function(t){e.$set(e.store.rdbms,"address",t)},expression:"store.rdbms.address"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Port :",prop:"rdbms.port"}},[a("el-col",{attrs:{span:22}},[a("el-input",{model:{value:e.store.rdbms.port,callback:function(t){e.$set(e.store.rdbms,"port",t)},expression:"store.rdbms.port"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Database_name :",prop:"rdbms.databaseName"}},[a("el-col",{attrs:{span:22}},[a("el-input",{model:{value:e.store.rdbms.databaseName,callback:function(t){e.$set(e.store.rdbms,"databaseName",t)},expression:"store.rdbms.databaseName"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Table_name :",prop:"rdbms.tableName"}},[a("el-col",{attrs:{span:22}},[a("el-input",{model:{value:e.store.rdbms.tableName,callback:function(t){e.$set(e.store.rdbms,"tableName",t)},expression:"store.rdbms.tableName"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Username :",prop:"rdbms.username"}},[a("el-col",{attrs:{span:22}},[a("el-input",{model:{value:e.store.rdbms.username,callback:function(t){e.$set(e.store.rdbms,"username",t)},expression:"store.rdbms.username"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Password :",prop:"rdbms.password"}},[a("el-col",{attrs:{span:22}},[a("el-input",{model:{value:e.store.rdbms.password,callback:function(t){e.$set(e.store.rdbms,"password",t)},expression:"store.rdbms.password"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Pool_num :",prop:"rdbms.poolNum"}},[a("el-col",{attrs:{span:22}},[a("el-input",{model:{value:e.store.rdbms.poolNum,callback:function(t){e.$set(e.store.rdbms,"poolNum",t)},expression:"store.rdbms.poolNum"}})],1)],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"2"==e.store.store.cepStoreType,expression:"store.store.cepStoreType=='2'"}]},[a("el-form-item",{attrs:{label:"tableName :",prop:"hbase.tableName"}},[a("el-col",{attrs:{span:22}},[a("el-input",{model:{value:e.store.hbase.tableName,callback:function(t){e.$set(e.store.hbase,"tableName",t)},expression:"store.hbase.tableName"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"columnFamily :",prop:"hbase.columnFamily"}},[a("el-col",{attrs:{span:22}},[a("el-input",{model:{value:e.store.hbase.columnFamily,callback:function(t){e.$set(e.store.hbase,"columnFamily",t)},expression:"store.hbase.columnFamily"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"hbase.zookeeper.quorum :",prop:"hbase.hbaseZookeeperQuorum"}},[a("el-col",{attrs:{span:22}},[a("el-input",{model:{value:e.store.hbase.hbaseZookeeperQuorum,callback:function(t){e.$set(e.store.hbase,"hbaseZookeeperQuorum",t)},expression:"store.hbase.hbaseZookeeperQuorum"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"hbase.zookeeper.property.clientPort :",prop:"hbase.clientPort"}},[a("el-col",{attrs:{span:22}},[a("el-input",{model:{value:e.store.hbase.clientPort,callback:function(t){e.$set(e.store.hbase,"clientPort",t)},expression:"store.hbase.clientPort"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"设置为模板 : "}},[a("el-col",{attrs:{span:22}},[a("el-radio-group",{model:{value:e.store.store.published,callback:function(t){e.$set(e.store.store,"published",t)},expression:"store.store.published"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{lable:""}},[a("el-col",{staticClass:"btnBlock",attrs:{span:22}},[a("el-button",{attrs:{type:"success",size:"mini",loading:e.loading},on:{click:e.submit}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]};var gi=a("/Xao")(hi,fi,!1,function(e){a("XIcC")},null,null).exports;var vi={data:function(){return{cep_program_id:"",loading:!1,idObj:{},alert:{},alert_config:[],stream_column:[],addAlertConfig:{cep_stream_column_id:"",arithmetic_symbol:"",value:"",alert_level:""}}},methods:{changeName:function(e){this.$emit("changeName",e)},submit:function(){var e,t=this;t.loading=!0,(e={cepAlert:t.alert,cepAlertConfig:t.alert_config},pe({url:"1/cep/alert/update",method:"post",data:e})).then(function(e){if(0==e.resCode){if(t.$message({message:e.msg,type:"success"}),t.alert_config=e.data.cepAlertConfig,t.alert=e.data.cepAlert,t.alert_config.length>0){var a=!0,s=!1,r=void 0;try{for(var i,o=Vr()(t.alert_config);!(a=(i=o.next()).done);a=!0){var n=i.value;n.alert_level=""+n.alert_level,n.arithmetic_symbol=""+n.arithmetic_symbol}}catch(e){s=!0,r=e}finally{try{!a&&o.return&&o.return()}finally{if(s)throw r}}}}else t.$message({message:e.msg,type:"error"});t.loading=!1}),t.$emit("cepUpdate")},alertDetail:function(e){var t,a=this;(t={cep_alert_id:e.alertId,cep_stream_id:e.streamId},pe({url:"1/cep/alert/detail",method:"post",data:t})).then(function(e){if(0==e.resCode)if(a.alert=e.data.cepAlert,a.alert.comment=e.data.cepAlert.comment?e.data.cepAlert.comment:"",a.alert_config=e.data.cepAlertConfig,a.alert_config.length>0){var t=!0,s=!1,r=void 0;try{for(var i,o=Vr()(a.alert_config);!(t=(i=o.next()).done);t=!0){var n=i.value;n.alert_level=""+n.alert_level,n.arithmetic_symbol=""+n.arithmetic_symbol}}catch(e){s=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(s)throw r}}}else a.alert_config.push(Z()({},a.addAlertConfig));else a.$message({message:e.mag,type:"error"})}),ii({cep_stream_id:a.idObj.streamId}).then(function(e){0==e.resCode?a.stream_column=e.data:a.$message({message:e.msg,type:"error"})})},addConfig:function(){this.alert_config.push(Z()({},this.addAlertConfig))},deleteConfig:function(e,t){var a,s=this;e.cep_alert_config_id?(a={cep_alert_config_id:e.cep_alert_config_id},pe({url:"1/cep/alertConfig/destroy",method:"post",data:a})).then(function(e){0==e.resCode?(s.alert_config.splice(t,1),0==s.alert_config.length&&s.alert_config.push(Z()({},s.addAlertConfig))):s.$message({message:e.msg,type:"error"})}):s.alert_config.length>1&&s.alert_config.splice(t,1)}},computed:{},mounted:function(){this.cep_program_id=this.$route.params.cep_id;var e=this;e.$on("alert",function(t){e.idObj=t,e.alertDetail(t)})}},bi={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{staticClass:"Form ",attrs:{"label-position":"right","label-width":"150px",size:"mini"}},[a("el-form-item",{attrs:{label:"Alert Name :"}},[a("el-col",{attrs:{span:22}},[a("el-input",{on:{input:e.changeName},model:{value:e.alert.cep_alert_name,callback:function(t){e.$set(e.alert,"cep_alert_name",t)},expression:"alert.cep_alert_name"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Comment :"}},[a("el-col",{attrs:{span:22}},[a("el-input",{model:{value:e.alert.comment,callback:function(t){e.$set(e.alert,"comment",t)},expression:"alert.comment"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Alert Config :"}},e._l(e.alert_config,function(t,s){return a("el-row",{key:t.cep_alert_config_id},[a("el-col",{attrs:{span:11}},[a("el-select",{attrs:{disabled:t.cep_alert_config_id>0,placeholder:"stream_column"},model:{value:t.cep_stream_column_id,callback:function(a){e.$set(t,"cep_stream_column_id",a)},expression:"config.cep_stream_column_id"}},e._l(e.stream_column,function(e){return a("el-option",{key:e.cep_stream_column_id,attrs:{value:e.cep_stream_column_id,label:e.stream_column_name}})}))],1),e._v(" "),a("el-col",{attrs:{span:10,offset:1}},[a("el-select",{attrs:{placeholder:"arithmetic_symbol"},model:{value:t.arithmetic_symbol,callback:function(a){e.$set(t,"arithmetic_symbol",a)},expression:"config.arithmetic_symbol"}},[a("el-option",{attrs:{label:"<",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"<=",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:">",value:"3"}}),e._v(" "),a("el-option",{attrs:{label:">=",value:"4"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:11}},[a("el-input",{attrs:{type:"number",placeholder:"value"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"config.value"}})],1),e._v(" "),a("el-col",{attrs:{span:10,offset:1}},[a("el-select",{attrs:{placeholder:"alert_level"},model:{value:t.alert_level,callback:function(a){e.$set(t,"alert_level",a)},expression:"config.alert_level"}},[a("el-option",{attrs:{label:"warning",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"error",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"fatal",value:"3"}})],1)],1),e._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:22}},[a("el-button",{staticClass:"el-icon-delete",attrs:{size:"mini"},on:{click:function(a){e.deleteConfig(t,s)}}}),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:s==e.alert_config.length-1,expression:"index==alert_config.length-1"}],staticClass:"el-icon-plus",attrs:{size:"mini"},on:{click:e.addConfig}})],1)],1)})),e._v(" "),a("el-form-item",{attrs:{lable:""}},[a("el-col",{attrs:{span:22}},[a("el-button",{attrs:{type:"primary",size:"large",loading:e.loading},on:{click:e.submit}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]};var yi=a("/Xao")(vi,bi,!1,function(e){a("bkFG")},null,null).exports;var _i={data:function(){return{tableId:"",loading:!1,hasPrimaryKey:!1,table:{cepTableName:"",comment:""},cepTableColumn:{cepTableColumnId:"",tableColumnName:"",valueType:"",valueTypeName:"",primaryKey:"",tableIndex:""},tableColumn:[],valueType:[{label:"string",value:"1"},{label:"int",value:"2"},{label:"float",value:"3"},{label:"double",value:"4"}]}},methods:{tableDetail:function(e){var t,a=this;(t={cepTableId:e},pe({url:"piping/gateway/cep/table/detail",method:"post",params:t})).then(function(e){200==e.code?(a.table.cepTableName=e.data.cepTableName,a.table.comment=e.data.comment,a.tableColumn=e.data.cepTableColumn.slice(),a.tableColumn.forEach(function(e){1==e.tableIndex?e.tableIndex=!0:e.tableIndex=!1,1==e.primaryKey?e.primaryKey=!0:e.primaryKey=!1,a.valueType.forEach(function(t){t.value==e.valueType&&(e.valueTypeName=t.label)})})):a.$message.error(e.message)})},createtableColumn:function(e){var t=Z()({},e.row),a=this;t.cepTableId=a.tableId,t.tableIndex?t.tableIndex=1:t.tableIndex=0,t.primaryKey?t.primaryKey=1:t.primaryKey=0,function(e){return pe({url:"piping/gateway/cep/table/column/add",method:"post",data:e})}(t).then(function(t){if(200==t.code){var s=Z()({},t.data);1==s.tableIndex?s.tableIndex=!0:s.tableIndex=!1,1==s.primaryKey?s.primaryKey=!0:s.primaryKey=!1,a.valueType.forEach(function(e){e.value==t.data.valueType&&(s.valueTypeName=e.label)}),a.tableColumn.splice(e.$index,1,s)}else a.$message({message:t.message,type:"error"})})},addColumnList:function(){var e=this,t=!1;this.tableColumn.forEach(function(a){a.primaryKey&&(e.hasPrimaryKey=!0,t=!0)}),t||(this.hasPrimaryKey=!1),this.tableColumn.push(Z()({},e.cepTableColumn))},deleteColumn:function(e){var t=this,a=!1;this.$confirm("确定删除列"+e.row.tableColumnName+"?","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning"}).then(function(){var s;(s={cepTableColumnId:e.row.cepTableColumnId},pe({url:"piping/gateway/cep/table/column/delete",method:"post",params:s})).then(function(s){200==s.code?(t.tableColumn.splice(e.$index,1),t.tableColumn.forEach(function(e){e.primaryKey&&(t.hasPrimaryKey=!0,a=!0)}),a||(t.hasPrimaryKey=!1)):t.$message({message:s.message,type:"error"})})}).catch(function(){})},submit:function(){var e,t=this;t.table.cepTableName.indexOf("_")>=0?t.$message.warning("tableName 不能包含下划线_"):(t.loading=!0,t.table.cepTableId=t.tableId,(e=t.table,pe({url:"piping/gateway/cep/table/update",method:"post",data:e})).then(function(e){200==e.code?(t.$message({message:e.message,type:"success"}),t.$emit("cepUpdate")):t.$message({message:e.message,type:"error"}),t.loading=!1}))},changeName:function(e){e.indexOf("_")>=0?this.$message.warning("tableName 不能包含下划线_"):this.$emit("changeName",e)}},computed:{comtableColumn:function(){return 0==this.tableColumn.length&&this.tableColumn.push(Z()({},this.cepTableColumn)),this.tableColumn}},mounted:function(){var e=this;e.$on("table",function(t){e.tableId=t,e.tableDetail(t)})}},xi={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{staticClass:"Form ",attrs:{"label-position":"right","label-width":"100px",size:"mini"}},[a("el-form-item",{attrs:{label:"table Name :"}},[a("el-col",{attrs:{span:23}},[a("el-input",{on:{input:e.changeName},model:{value:e.table.cepTableName,callback:function(t){e.$set(e.table,"cepTableName",t)},expression:"table.cepTableName"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Comment :"}},[a("el-col",{attrs:{span:23}},[a("el-input",{model:{value:e.table.comment,callback:function(t){e.$set(e.table,"comment",t)},expression:"table.comment"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"table Column :"}},[a("el-col",{staticClass:" Table TableNoHover",attrs:{span:23}},[a("el-table",{attrs:{data:e.comtableColumn}},[a("el-table-column",{attrs:{align:"left",prop:"tableColumnName",label:"column_name","min-width":"50px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{readonly:t.row.cepTableColumnId>0},model:{value:t.row.tableColumnName,callback:function(a){e.$set(t.row,"tableColumnName",a)},expression:"scope.row.tableColumnName"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"valueType",label:"valueType","min-width":"50px"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.cepTableColumnId>0?a("el-input",{attrs:{readonly:t.row.cepTableColumnId>0},model:{value:t.row.valueTypeName,callback:function(a){e.$set(t.row,"valueTypeName",a)},expression:"scope.row.valueTypeName"}}):a("el-select",{model:{value:t.row.valueType,callback:function(a){e.$set(t.row,"valueType",a)},expression:"scope.row.valueType"}},e._l(e.valueType,function(e){return a("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})}))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"primaryKey",label:"primaryKey","min-width":"40px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{disabled:t.row.cepTableColumnId>0||e.hasPrimaryKey},model:{value:t.row.primaryKey,callback:function(a){e.$set(t.row,"primaryKey",a)},expression:"scope.row.primaryKey"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"tableIndex",label:"index","min-width":"25px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{disabled:t.row.cepTableColumnId>0},model:{value:t.row.tableIndex,callback:function(a){e.$set(t.row,"tableIndex",a)},expression:"scope.row.tableIndex"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left","min-width":"35px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.row.cepTableColumnId<"1",expression:"scope.row.cepTableColumnId <'1' "}],attrs:{size:"mini",type:"primary",disabled:!t.row.tableColumnName||!t.row.valueType},on:{click:function(a){e.createtableColumn(t)}}},[e._v("添加")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.row.cepTableColumnId>"0",expression:"scope.row.cepTableColumnId >'0'"}],attrs:{size:"mini",type:"primary"},on:{click:function(a){e.deleteColumn(t)}}},[a("i",{staticClass:"el-icon-delete"})]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.$index==e.tableColumn.length-1&&t.row.cepTableColumnId>"0",expression:"scope.$index==tableColumn.length-1 && scope.row.cepTableColumnId >'0'"}],attrs:{size:"mini",type:"primary"},on:{click:e.addColumnList}},[a("i",{staticClass:"el-icon-plus"})])]}}])})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{lable:""}},[a("el-col",{staticClass:"btnBlock",attrs:{span:22}},[a("el-button",{attrs:{type:"primary",size:"mini",loading:e.loading},on:{click:e.submit}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]};var wi=a("/Xao")(_i,xi,!1,function(e){a("j8LJ")},null,null).exports,ki={data:function(){var e;return e={useTemplate:!1,streamColumnTemplate:[],templateIndex:"",fullLoading:null,LOADING:{LOADING:{lock:!0,text:"数据处理中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.6)"}},streamId:"",loading:!1,stream:{cepStreamId:"",cepStreamName:"",comment:"",published:0},streamColumn:[{streamColumnName:"",valueType:""}]},It()(e,"streamColumnTemplate",[]),It()(e,"rules",{cepStreamName:[{required:!0,message:"请填写节点名称",trigger:"change,blur"},{validator:function(e,t,a){t.indexOf("_")>=0?a(new Error("节点名称不能包含下划线_")):a()},trigger:"change,blur"}]}),It()(e,"valueType",[{label:"int",value:1},{label:"string",value:2},{label:"double",value:3},{label:"float",value:4}]),e},methods:{streamDetail:function(){var e=this;ri({cepStreamId:this.streamId}).then(function(t){200==t.code?e.stream=t.data:e.$message.error(t.message)})},cepStreamColumnList:function(){var e,t=this;(e={cepStreamId:this.streamId},pe({url:"piping/gateway/cep/stream/column/list",method:"post",params:e})).then(function(e){200==e.code?Array.isArray(e.data)&&e.data.length>0?t.streamColumn=e.data:t.streamColumn=[{streamColumnName:"",valueType:""}]:t.$message.error(e.message)})},createStreamColumn:function(e,t){var a=this;if(0==this.streamColumn.length)return!1;var s=[];this.streamColumn.forEach(function(e){e.streamColumnName&&e.valueType&&(e.cepStreamId=a.streamId,s.push(e))}),function(e){return pe({url:"piping/gateway/cep/stream/column/add",method:"post",data:e})}(s).then(function(e){200==e.code?a.$message.success(e.message):a.$message.error(e.message)})},addColumnList:function(){this.streamColumn.push({streamColumnName:"",valueType:""})},deleteColumn:function(e,t){var a=this;this.$confirm("确定删除列"+e.streamColumnName+"?","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning"}).then(function(){a.streamColumn.splice(t,1),0==a.streamColumn.length&&a.streamColumn.push({streamColumnName:"",valueType:""})}).catch(function(){})},submit:function(){var e=this;this.$refs.stream.validate(function(t){var a;t&&(e.stream.cepStreamId=e.streamId,e.fullLoading=e.$loading(e.LOADING),(a=e.stream,pe({url:"piping/gateway/cep/stream/update",method:"post",data:a})).then(function(t){e.fullLoading.close(),200==t.code?(e.$message.success(t.message),e.$emit("cepUpdate")):e.$message.error(t.message)}),e.createStreamColumn())})},changeName:function(e){e.indexOf("_")>=0||this.$emit("changeName",e)},streamTemplate:function(){var e,t=this;pe({url:"piping/gateway/cep/stream/template",method:"post",data:e}).then(function(e){200==e.code?e.data&&Array.isArray(e.data)&&e.data.length>0&&(t.streamColumnTemplate=e.data.filter(function(e){return e.cepStreamId!=t.streamId})):t.$message.error(e.message)})},setTemplate:function(){var e=this;this.streamColumnTemplate[this.templateIndex].streamColumnList&&(this.streamColumn=[],this.streamColumnTemplate[this.templateIndex].streamColumnList.forEach(function(t){e.streamColumn.push(t)}))}},watch:{},mounted:function(){var e=this;e.$on("stream",function(t){e.useTemplate=!1,e.templateIndex="",e.streamId=t,e.streamDetail(),e.cepStreamColumnList(),e.streamTemplate()})}},Ti={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"stream",staticClass:"Form ",attrs:{"label-position":"right",model:e.stream,rules:e.rules,"label-width":"120px",size:"mini"}},[a("el-form-item",{attrs:{label:"节点名称 :",prop:"cepStreamName"}},[a("el-col",{attrs:{span:22}},[a("el-input",{on:{input:e.changeName},model:{value:e.stream.cepStreamName,callback:function(t){e.$set(e.stream,"cepStreamName",t)},expression:"stream.cepStreamName"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"描述 :"}},[a("el-col",{attrs:{span:22}},[a("el-input",{model:{value:e.stream.comment,callback:function(t){e.$set(e.stream,"comment",t)},expression:"stream.comment"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"使用模板 : "}},[a("el-col",{attrs:{span:22}},[a("el-radio-group",{on:{change:function(t){e.templateIndex=""}},model:{value:e.useTemplate,callback:function(t){e.useTemplate=t},expression:"useTemplate"}},[a("el-radio",{attrs:{label:!0}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:!1}},[e._v("否")])],1)],1)],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.useTemplate,expression:"useTemplate"}],attrs:{label:"模板 : "}},[a("el-col",{attrs:{span:22}},[a("el-select",{on:{change:e.setTemplate},model:{value:e.templateIndex,callback:function(t){e.templateIndex=t},expression:"templateIndex"}},e._l(e.streamColumnTemplate,function(e,t){return a("el-option",{key:t+"_"+e.cepStreamName,attrs:{label:e.cepStreamName,value:t}})}))],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Stream Column :"}},e._l(e.streamColumn,function(t,s){return a("el-row",{key:t.cepStreamColumId},[a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{placeholder:"列名称",readonly:t.cepStreamColumnId>0},model:{value:t.streamColumnName,callback:function(a){e.$set(t,"streamColumnName",a)},expression:"column.streamColumnName"}})],1),e._v(" "),a("el-col",{attrs:{span:8,offset:1}},[a("el-select",{attrs:{placeholder:"列类型"},model:{value:t.valueType,callback:function(a){e.$set(t,"valueType",a)},expression:"column.valueType"}},e._l(e.valueType,function(e){return a("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:5}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:""!=t.streamColumnName&&""!=t.valueType,expression:"(column.streamColumnName=='' || column.valueType=='')?false:true"}],attrs:{size:"mini",type:"primary"},on:{click:function(a){e.deleteColumn(t,s)}}},[a("i",{staticClass:"el-icon-delete"})]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:s==e.streamColumn.length-1,expression:"index==streamColumn.length-1"}],attrs:{size:"mini",disabled:""==t.streamColumnName||""==t.valueType,type:"primary"},on:{click:e.addColumnList}},[e._v("添加\n                             ")])],1)],1)})),e._v(" "),a("el-form-item",{attrs:{label:"设置为模板 : "}},[a("el-col",{attrs:{span:22}},[a("el-radio-group",{model:{value:e.stream.published,callback:function(t){e.$set(e.stream,"published",t)},expression:"stream.published"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-col",{staticClass:"btnBlock",attrs:{span:22}},[a("el-button",{attrs:{type:"primary",size:"mini",loading:e.loading},on:{click:e.submit}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]};var Si=a("/Xao")(ki,Ti,!1,function(e){a("i82a")},null,null).exports,Li={props:["cepDetail"],data:function(){return{cep_program_id:"",dialog:!1,disabled:!1,gatewayId:"",deviceData:[],deployLoading:!1,startLoading:!1,uninstallLoading:!1}},methods:{getDevice:function(){var e=this;e.disabled=!0,geDeviceList({gateway_id:e.gatewayId}).then(function(t){0==t.resCode?(e.dialog=!0,e.deviceData=t.data):e.$message({message:t.msg,type:"error"}),e.disabled=!1})},arduinoCreate:function(e){this.$emit("arduinoCreate",e)},startOrStop:function(){0==this.cepDetail.runningStatus?this.start():this.stop()},start:function(){var e=this;this.$confirm("确定启动cep程序?","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning"}).then(function(){var t;e.startLoading=!0,(t={cepProgramId:e.cepDetail.cepProgramId},pe({url:"1/cep/program/start",method:"post",params:t})).then(function(t){e.startLoading=!1,200==t.code?(e.cepDetail.runningStatus=1,e.$message.success(t.message)):e.$message.error(t.message)})}).catch(function(){})},stop:function(){var e=this;this.$confirm("确定关闭cep程序?","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning"}).then(function(){var t;e.startLoading=!0,(t={cepProgramId:e.cepDetail.cepProgramId},pe({url:"1/cep/program/disable",method:"post",params:t})).then(function(t){e.startLoading=!1,200==t.code?(e.cepDetail.runningStatus=0,e.$message.success(t.message)):e.$message.error(t.message)})}).catch(function(){})},uninstall:function(){var e=this;this.$confirm("确定卸载cep程序?","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning"}).then(function(){var t;e.uninstallLoading=!0,(t={cepProgramId:e.cepDetail.cepProgramId},pe({url:"1/cep/program/uninstall",method:"post",params:t})).then(function(t){e.uninstallLoading=!1,200==t.code?(e.cepDetail.deployStatus=0,e.$message.success(t.message)):e.$message.error(t.message)})}).catch(function(){})},deploy:function(){var e=this;this.$confirm("确定"+this.cepDetail.deployStatus==0?"":"重新部署cep程序?","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning"}).then(function(){var t;e.deployLoading=!0,(t={cepProgramId:e.cepDetail.cepProgramId},pe({url:"1/cep/program/deploy",method:"post",params:t})).then(function(t){e.deployLoading=!1,200==t.code?(0==e.cepDetail.deployStatus?e.cepDetail.deployStatus=1:e.cepDetail.deployStatus=0,e.$message.success(t.message)):e.$message.error(t.message)})}).catch(function(){})}},mounted:function(){this.gatewayId=this.$route.params.id,this.cep_program_id=this.$route.params.cep_id;var e=this;this.$on("showDeviceList",function(){e.dialog=!1})}},Ni={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticStyle:{"border-bottom":"1px solid #dcdfe6",padding:"5px 20px"}},[a("el-col",{staticStyle:{"font-size":"16px","font-weight":"bold","margin-top":"12px"},attrs:{span:4}},[a("div",{staticStyle:{display:"inline-block"}},[e._v("状态 : ")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.cepDetail.runningStatus,expression:"cepDetail.runningStatus==0"}],staticClass:"text-left",staticStyle:{color:"#E6A23C",display:"inline-block"}},[a("span",[a("i",{staticClass:"el-icon-info",staticStyle:{"margin-right":"2px"}})]),e._v(" "),a("span",[e._v("已关闭")])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1==e.cepDetail.runningStatus,expression:"cepDetail.runningStatus==1"}],staticClass:"text-right",staticStyle:{color:"#67C23A",display:"inline-block"}},[a("span",[a("i",{staticClass:"el-icon-info",staticStyle:{"margin-right":"2px"}})]),e._v(" "),a("span",[e._v("运行中")])])]),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:20}},[a("el-button",{attrs:{size:"medium",type:"primary",loading:e.deployLoading},on:{click:e.deploy}},[e._v(e._s(0==e.cepDetail.deployStatus?"部署":"重新部署"))]),e._v(" "),a("el-button",{attrs:{size:"medium",type:"primary",loading:e.startLoading},on:{click:e.startOrStop}},[e._v(e._s(0==e.cepDetail.runningStatus?"启动服务":"关闭服务"))]),e._v(" "),a("el-button",{attrs:{size:"medium",type:"primary",loading:e.uninstallLoading},on:{click:e.uninstall}},[e._v("卸载")]),e._v(" "),a("el-button",{staticStyle:{position:"relative",top:"2px"},attrs:{size:"mini",type:"primary"},on:{click:function(t){e.$router.go(-1)}}},[a("svg-icon",{staticStyle:{"font-size":"20px"},attrs:{"icon-class":"back"}})],1)],1)],1)],1)},staticRenderFns:[]};var Ci=a("/Xao")(Li,Ni,!1,function(e){a("IgV9")},"data-v-78776b52",null).exports,Di=(a("k07Q"),{props:["chartData"],data:function(){return this.extend={series:{type:"line",smooth:!1},yAxis:{max:function(e){var t=e.max-e.min,a=Number(e.max)+Number(t/8);return a.toFixed(2)},min:function(e){var t=e.max-e.min,a=Number(e.min)-Number(t/8);return a.toFixed(2)},axisLine:{show:!0,lineStyle:{color:"rgb(102,102,102)"}}}},{width:"100%",height:"280px",dataEmpty:!0,colors:["#19d4ae","#5ab1ef","#fa6e86","#ffb980","#0067a6","#c4b4e4"],grid:{show:!1,right:"30px",background:"#343B41",borderColor:"#343B41"},yAxis:{},chartSettings:{xAxisType:"time"}}},methods:{getFixed:function(e){return"string"==typeof e?e.search(/[1-9]/):e.toString().search(/[1-9]/)}},computed:{xAxis:function(){var e={type:"category",min:"dataMin",max:"dataMax",boundaryGap:!1,data:[],axisLine:{show:!0,lineStyle:{color:"#666"}},splitLine:{show:!0,lineStyle:{color:["#EEE"]}},axisLabel:{fontSize:10,rotate:0,interval:"auto",formatter:function(e,t){return e.toString().split(" ")[1]}}},t=[];return this.chartData.rows.forEach(function(e,a){t.push(e["日期"])}),e.data=t,e}}}),Ii={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("ve-line",{attrs:{data:e.chartData,"legend-visible":!1,colors:e.colors,width:e.width,height:e.height,xAxis:e.xAxis,yAxis:e.yAxis,grid:e.grid,chartSettings:e.chartSettings,extend:e.extend}})},staticRenderFns:[]},Ai=a("/Xao")(Di,Ii,!1,null,null,null).exports,Fi={props:["chartData"],data:function(){return{type:"insert",width:"100%",height:"280px",grid:{show:!1,right:"30px",background:"#343B41",borderColor:"#343B41"}}},computed:{chartDatas:function(){return this.type=Z()({},this.chartData.rows[0]),this.chartData.rows=[],this.chartData}}},Mi={render:function(){var e=this.$createElement,t=this._self._c||e;return t("ve-line",{attrs:{data:this.chartDatas,"legend-visible":!1,width:this.width,height:this.height,grid:this.grid}},[t("div",{staticClass:"data-empty"},[this._v(this._s(this.type.type))])])},staticRenderFns:[]};var Ri=a("/Xao")(Fi,Mi,!1,function(e){a("OgFl")},"data-v-3e472150",null).exports,$i={render:function(){var e=this.$createElement;return(this._self._c||e)("ve-histogram",{attrs:{data:this.chartData,"legend-visible":!1,width:this.width,height:this.height,yAxis:this.yAxis,xAxis:this.xAxis,settings:this.chartSettings}})},staticRenderFns:[]},zi={props:["chartData"],data:function(){return{width:"100%",height:"280px",tooltip:{trigger:"axis",axisPointer:{type:"cross",animation:!1,label:{backgroundColor:"#ccc",borderColor:"#aaa",borderWidth:1,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#222"}}},formatter:function(e){return e[2].name+"<br />"+e[2].value}},yAxis:{axisLine:{show:!0,lineStyle:{color:"#666"}},splitLine:{show:!0,lineStyle:{color:["#EEE"]}}},colors:["#EEE","#EEE","#f00","#f00"],grid:{show:!1,right:"30",background:"#343B41",borderColor:"#343B41"},chartSettings:{itemStyle:{smooth:0}},series:[{name:"L",type:"line",data:"add",lineStyle:{normal:{opacity:0}},stack:"confidence-band",symbol:"none"},{name:"U",type:"line",data:"reduce",lineStyle:{normal:{opacity:0}},areaStyle:{normal:{color:"#ccc"}},stack:"confidence-band",symbol:"none"},{type:"line",data:"mean",hoverAnimation:!1,symbolSize:6,itemStyle:{normal:{color:"#c23531"}},showSymbol:!1}]}},computed:{xAxis:function(){var e,t=(e={type:"category",min:"dataMin",max:"dataMax",axisLine:{onZero:!1},boundaryGap:!1,data:[]},It()(e,"axisLine",{show:!1,lineStyle:{color:"#666"}}),It()(e,"splitLine",{show:!0,lineStyle:{color:["#EEE"]}}),It()(e,"axisLabel",{fontSize:10,rotate:0,interval:"auto",formatter:function(e,t){return e.split(" ")[1]}}),e),a=[];return this.chartData.rows.forEach(function(e){a.push(e["日期"])}),t.data=a,t},newcharData:function(){var e=void 0;e=Z()({},this.chartData),e.rows.forEach(function(e){e.hasOwnProperty("latency_mean")?(e.add=Number(e.latency_mean)+Number(e.latency_stddev),e.reduce=Number(e.latency_mean)-Number(e.latency_stddev)):(e.add=Number(e.mean)+Number(e.stdDev),e.reduce=Number(e.mean)-Number(e.stdDev))});var t=void 0;t=-1!==e.columns.indexOf("latency_stddev",0)?e.columns.indexOf("latency_stddev",0):e.columns.indexOf("stdDev",0);var a=[],s=[],r=[];return e.rows.forEach(function(e){a.push(e.add),s.push(e.reduce),r.push(e.mean?e.mean:e.latency_mean)}),this.series[0].data=s,this.series[1].data=a,this.series[2].data=r,-1!==t&&e.columns.splice(t,1),e}}},Ei={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("ve-line",{attrs:{data:e.newcharData,"legend-visible":!1,colors:e.colors,width:e.width,height:e.height,yAxis:e.yAxis,xAxis:e.xAxis,settings:e.chartSettings,series:e.series,tooltip:e.tooltip,grid:e.grid}})},staticRenderFns:[]},Pi={components:{"v-line":Ai,"v-histogram":a("/Xao")({props:["chartData"],data:function(){return{width:"100%",height:"280px",yAxis:{axisLine:{show:!0,lineStyle:{color:"#666"}},splitLine:{show:!0,lineStyle:{color:["#EEE"]}}},colors:["#19d4ae","#5ab1ef","#fa6e86","#ffb980","#0067a6","#c4b4e4"],grid:{show:!1,right:"30px",background:"#343B41",borderColor:"#343B41"},chartSettings:{metrics:["min","s50thPercentile","s75thPercentile","s95thPercentile","s98thPercentile","s99thPercentile","s999thPercentile","max"],stack:{"单价":["min","s50thPercentile","s75thPercentile","s95thPercentile","s98thPercentile","s99thPercentile","s999thPercentile","max"]}}}},methods:{},computed:{xAxis:function(){var e={type:"category",min:"dataMin",max:"dataMax",data:[],axisLine:{show:!0,lineStyle:{color:"#666"}},splitLine:{show:!0,lineStyle:{color:["#EEE"]}},axisLabel:{fontSize:10,rotate:0,interval:"auto",formatter:function(e,t){return e.split(" ")[1]}}},t=[];return this.chartData.rows.forEach(function(e){t.push(e["日期"])}),e.data=t,e}}},$i,!1,null,null,null).exports,"v-lineArea":a("/Xao")(zi,Ei,!1,null,null,null).exports,"v-linetype":Ri},data:function(){return{refreshLoading:!1,selectedTimer:1,circleList:[{label:"5秒",value:5},{label:"10秒",value:10},{label:"20秒",value:20},{label:"30秒",value:30},{label:"60秒",value:60}],timeRange:[{label:" 1分钟",value:1},{label:" 10分钟",value:2},{label:" 30分钟",value:3},{label:" 1小时",value:4}],count:50,selectedCircle:5,ALLTIMER:{},ALLATTR:{},noUsed:"",node:"",category:"",categoryType:"",Sink:[],sinkType:"",sinkMapper:[],Stream:[],Source:["count","meanRate","oneMinuteRate","fiveMinuteRate","fifteenMinuteRate"],sourceMapper:["count","meanRate","oneMinuteRate","fiveMinuteRate","fifteenMinuteRate","min","max","mean","stdDev","s50thPercentile","s75thPercentile","s95thPercentile","s98thPercentile","s99thPercentile","s999thPercentile"],job:["count","meanRate","oneMinuteRate","fiveMinuteRate","fifteenMinuteRate","min","max","mean","stdDev","s50thPercentile","s75thPercentile","s95thPercentile","s98thPercentile","s99thPercentile","s999thPercentile","value"],Table:["count","mean_rate","one_minute_rate","five_minute_rate","fifteen_minute_rate","latency_count","latency_mean_rate","latency_one_minute_rate","latency_five_minute_rate","latency_fifteen_minute_rate","latency_min","latency_max","latency_mean","latency_stddev","latency_50p","latency_75p","latency_95p","latency_98p","latency_99","latency_999p","memory_value"],Job:[],sourceAttr:[],streamAttr:[],jobAttr:[],sinkAttr:[],tableAttr:[],sourceName:"",streamName:"",jobName:"",sinkName:"",tableName:"",StreamSelectAttr:[],SourceSelectAttr:[],SourceMapperSelectAttr:[],JobSelectAttr:[],SinkSelectAttr:[],TableSelectAttr:[]}},methods:{selectBlur:function(e){},AddMetric:function(e){var t=this,a=e.split("_")[1];t.categoryType=a;var s=e.split("_").pop();"Source"!=t.categoryType&&"Stream"!=t.categoryType&&"Sink"!=t.categoryType||("count"==s?-1==t[t.category+"SelectAttr"].indexOf(t.categoryType+"_count/",0)&&t[t.category+"SelectAttr"].push(t.categoryType+"_count/"):-1==t[t.category+"SelectAttr"].indexOf(t.categoryType+"_rate/",0)&&t[t.category+"SelectAttr"].push(t.categoryType+"_rate/")),"SourceMapper"!=t.categoryType&&"SinkMapper"!=t.categoryType&&"Job"!=t.categoryType||("count"==s||"value"==s?-1==t[t.category+"SelectAttr"].indexOf(t.categoryType+"_"+s+"/",0)&&t[t.category+"SelectAttr"].push(t.categoryType+"_"+s+"/"):"stability"==s?-1==t[t.category+"SelectAttr"].indexOf(t.categoryType+"_stability/",0)&&t[t.category+"SelectAttr"].push(t.categoryType+"_stability/"):"rate"==s?-1==t[t.category+"SelectAttr"].indexOf(t.categoryType+"_rate/",0)&&t[t.category+"SelectAttr"].push(t.categoryType+"_rate/"):-1==t[t.category+"SelectAttr"].indexOf(t.categoryType+"_box/",0)&&t[t.category+"SelectAttr"].push(t.categoryType+"_box/")),"Table"==t.categoryType&&("count"==s&&-1==t[t.category+"SelectAttr"].indexOf(t.categoryType+"_count/",0)&&t[t.category+"SelectAttr"].push(t.categoryType+"_count/"),"type"==s?-1==t[t.category+"SelectAttr"].indexOf(t.categoryType+"_type/",0)&&t[t.category+"SelectAttr"].push(t.categoryType+"_type/"):"rate"==s?-1==t[t.category+"SelectAttr"].indexOf(t.categoryType+"_rate/",0)&&t[t.category+"SelectAttr"].push(t.categoryType+"_rate/"):"latencyCount"==s?-1==t[t.category+"SelectAttr"].indexOf(t.categoryType+"_"+s+"/",0)&&t[t.category+"SelectAttr"].push(t.categoryType+"_"+s+"/"):"latencyRate"==s?-1==t[t.category+"SelectAttr"].indexOf(t.categoryType+"_latencyRate/",0)&&t[t.category+"SelectAttr"].push(t.categoryType+"_latencyRate/"):"memoryValue"==s?-1==t[t.category+"SelectAttr"].indexOf(t.categoryType+"_memoryValue/",0)&&t[t.category+"SelectAttr"].push(t.categoryType+"_memoryValue/"):"box"==s?-1==t[t.category+"SelectAttr"].indexOf(t.categoryType+"_box/",0)&&t[t.category+"SelectAttr"].push(t.categoryType+"_box/"):"stability"==s&&-1==t[t.category+"SelectAttr"].indexOf(t.categoryType+"_stability/",0)&&t[t.category+"SelectAttr"].push(t.categoryType+"_stability/")),"Source"==a&&(t.ALLTIMER.Source_timer||(t.sourceStats(),t.$set(t.ALLTIMER,"Source_timer",setInterval(function(){t.sourceStats()},1e3*Number(t.selectedCircle))),setTimeout(t.ALLTIMER.Source_timer,5e3))),"SourceMapper"==a&&(t.ALLTIMER.SourceMapper_timer||(t.sourceMapperStats(),t.$set(t.ALLTIMER,"SourceMapper_timer",setInterval(function(){t.sourceMapperStats()},1e3*Number(t.selectedCircle))),setTimeout(t.ALLTIMER.SourceMapper_timer,5e3))),"Stream"==a&&(t.ALLTIMER.Stream_timer||(t.streamStats(),t.$set(t.ALLTIMER,"Stream_timer",setInterval(function(){t.streamStats()},1e3*Number(t.selectedCircle))),setTimeout(t.ALLTIMER.Stream_timer,5e3))),"Job"==a&&(t.ALLTIMER.Job_timer||(t.jobStats(),t.$set(t.ALLTIMER,"Job_timer",setInterval(function(){t.jobStats()},1e3*Number(t.selectedCircle))),setTimeout(t.ALLTIMER.Job_timer,5e3))),"Sink"==a&&(t.ALLTIMER.Sink_timer||(t.sinkStats(),t.$set(t.ALLTIMER,"Sink_timer",setInterval(function(){t.sinkStats()},1e3*Number(t.selectedCircle))),setTimeout(t.ALLTIMER.Sink_timer,5e3))),"Table"==a&&(t.ALLTIMER.Table_timer||(t.tableStats(),t.$set(t.ALLTIMER,"Table_timer",setInterval(function(){t.tableStats()},1e3*Number(t.selectedCircle))),setTimeout(t.ALLTIMER.Sink_timer,5e3))),"SinkMapper"==e.split("_")[1]&&(t.ALLTIMER.SinkMapper_timer||(t.sinkMapperStats(),t.$set(t.ALLTIMER,"SinkMapper_timer",setInterval(function(){t.sinkMapperStats()},1e3*Number(t.selectedCircle))),setTimeout(t.ALLTIMER.SinkMapper_timer,5e3)))},BigCharts:function(e,t){var a=this[this.category+"SelectAttr"][t];""==a.split("/")[1]&&(this[this.category+"SelectAttr"].splice(t,1),this[this.category+"SelectAttr"].push(a+"BIG"))},DeleteCharts:function(e,t){this[this.category+"SelectAttr"].splice(t,1),this.noUsed="";!function(t,a){var s=!1;"Stream"==a||"Job"==a?0==t[a+"SelectAttr"].length&&(clearInterval(t.ALLTIMER[a+"_timer"]),t.ALLTIMER[a+"_timer"]=null,t.ALLATTR[e.split("/")[0]].rows=[]):(t[t.category+"SelectAttr"].forEach(function(e){e.split("_")[0]==a&&(s=!0)}),s||(clearInterval(t.ALLTIMER[a+"_timer"]),t.ALLTIMER[a+"_timer"]=null,t.ALLATTR[e.split("/")[0]].rows=[]))}(this,this.categoryType)},SmallCharts:function(e){for(var t=this[this.category+"SelectAttr"][e].slice(0,-3),a=void 0,s=this[this.category+"SelectAttr"],r=0;r<s.length;r++)if("BIG"==s[r].split("/")[1]){a=r;break}s.splice(a,0,t),s.splice(e+1,1)},sourceStats:function(){var e,t=this;(e={cep_source_id:t.node.id,time_range:t.selectedTimer},pe({url:"1/cep/source/stats_show",method:"post",data:e})).then(function(e){200==e.code?(t.ALLATTR.Source_rate.rows=[],t.ALLATTR.Source_count.rows=[],0==e.data.length||e.data.reverse().forEach(function(e){var a={};for(var s in e)if("cep_source_id"!==s&&"time_range"!==s&&"create_time"!==s)if("count"==s){a["日期"]=e.create_time.slice(0,-2);var r={count:e[s],"日期":e.create_time.slice(0,-2)};t.ALLATTR["Source_"+s].rows.push(r)}else a[s]=e[s];t.ALLATTR.Source_rate.rows.push(a)})):t.$message({message:e.message,type:"error"})})},sourceMapperStats:function(){var e,t=this;(e={cep_source_id:t.node.id,time_range:t.selectedTimer},pe({url:"1/cep/sourceMapper/stats_show",method:"post",data:e})).then(function(e){200==e.code?(t.ALLATTR.SourceMapper_count.rows=[],t.ALLATTR.SourceMapper_rate.rows=[],t.ALLATTR.SourceMapper_stability.rows=[],t.ALLATTR.SourceMapper_box.rows=[],0==e.data.length||e.data.reverse().forEach(function(e){var a={},s={add:"",reduce:""},r={};for(var i in e)if("cep_source_id"!==i&&"data_number"!==i&&"create_time"!==i)if("count"==i){a["日期"]=e.create_time.slice(0,-2),s["日期"]=e.create_time.slice(0,-2),r["日期"]=e.create_time.slice(0,-2);var o={count:e[i],"日期":e.create_time.slice(0,-2)};t.ALLATTR.SourceMapper_count.rows.push(o)}else"mean"==i||"stdDev"==i?s[i]=e[i]:-1!==i.indexOf("Rate")?a[i]=e[i]:r[i]=e[i];t.ALLATTR.SourceMapper_rate.rows.push(a),t.ALLATTR.SourceMapper_stability.rows.push(s),t.ALLATTR.SourceMapper_box.rows.push(r)})):t.$message({message:e.message,type:"error"})})},streamStats:function(){var e,t=this;(e={cep_stream_id:t.node.id,time_range:t.selectedTimer},pe({url:"1/cep/stream/stats_show",method:"post",data:e})).then(function(e){200==e.code?(t.ALLATTR.Stream_count.rows=[],t.ALLATTR.Stream_rate.rows=[],0==e.data.length||e.data.reverse().forEach(function(e){var a={};for(var s in e)if("cep_stream_id"!==s&&"data_number"!==s&&"create_time"!==s)if("count"==s){a["日期"]=e.create_time.slice(0,-2);var r={count:e[s],"日期":e.create_time.slice(0,-2)};t.ALLATTR.Stream_count.rows.push(r)}else a[s]=e[s];t.ALLATTR.Stream_rate.rows.push(a)})):t.$message({message:e.message,type:"error"})})},jobStats:function(){var e,t=this;(e={cep_job_id:t.node.id,time_range:t.selectedTimer},pe({url:"1/cep/job/stats_show",method:"post",data:e})).then(function(e){200==e.code?(t.ALLATTR.Job_count.rows=[],t.ALLATTR.Job_value.rows=[],t.ALLATTR.Job_rate.rows=[],t.ALLATTR.Job_stability.rows=[],t.ALLATTR.Job_box.rows=[],0==e.data.length||e.data.reverse().forEach(function(e){var a={},s={add:"",reduce:""},r={};for(var i in e)if("cep_job_id"!==i&&"data_number"!==i&&"create_time"!==i)if("count"==i||"value"==i){a["日期"]=e.create_time.slice(0,-2),s["日期"]=e.create_time.slice(0,-2),r["日期"]=e.create_time.slice(0,-2);var o={};"count"==i&&(o={count:e[i],"日期":e.create_time.slice(0,-2)}),"value"==i&&(o={value:e[i],"日期":e.create_time.slice(0,-2)}),t.ALLATTR["Job_"+i].rows.push(o)}else"mean"==i||"stdDev"==i?s[i]=e[i]:-1!==i.indexOf("Rate")?a[i]=e[i]:r[i]=e[i];t.ALLATTR.Job_rate.rows.push(a),t.ALLATTR.Job_stability.rows.push(s),t.ALLATTR.Job_box.rows.push(r)})):t.$message({message:e.message,type:"error"})})},sinkStats:function(){var e,t=this;(e={cep_sink_id:t.node.id,time_range:t.selectedTimer},pe({url:"1/cep/sink/stats_show",method:"post",data:e})).then(function(e){200==e.code?(t.ALLATTR.Sink_count.rows=[],t.ALLATTR.Sink_rate.rows=[],0==e.data.length||e.data.reverse().forEach(function(e){var a={};for(var s in e)if("cep_sink_id"!==s&&"data_number"!==s&&"create_time"!==s)if("count"==s){a["日期"]=e.create_time.slice(0,-2);var r={count:e[s],"日期":e.create_time.slice(0,-2)};t.ALLATTR.Sink_count.rows.push(r)}else a[s]=e[s];t.ALLATTR.Sink_rate.rows.push(a)})):t.$message({message:e.message,type:"error"})})},sinkMapperStats:function(){var e,t=this;(e={cep_sink_id:t.node.id,time_range:t.selectedTimer},pe({url:"1/cep/sinkMapper/stats_show",method:"post",data:e})).then(function(e){200==e.code?(t.ALLATTR.SinkMapper_count.rows=[],t.ALLATTR.SinkMapper_rate.rows=[],t.ALLATTR.SinkMapper_stability.rows=[],t.ALLATTR.SinkMapper_box.rows=[],0==e.data.length||e.data.reverse().forEach(function(e){var a={},s={add:"",reduce:""},r={};for(var i in e)if("cep_sink_id"!==i&&"data_number"!==i&&"create_time"!==i)if("count"==i){a["日期"]=e.create_time.slice(0,-2),s["日期"]=e.create_time.slice(0,-2),r["日期"]=e.create_time.slice(0,-2);var o={count:e[i],"日期":e.create_time.slice(0,-2)};t.ALLATTR.SinkMapper_count.rows.push(o)}else"mean"==i||"stdDev"==i?s[i]=e[i]:-1!==i.indexOf("Rate")?a[i]=e[i]:r[i]=e[i];t.ALLATTR.SinkMapper_rate.rows.push(a),t.ALLATTR.SinkMapper_stability.rows.push(s),t.ALLATTR.SinkMapper_box.rows.push(r)})):t.$message({message:e.message,type:"error"})})},tableStats:function(){var e,t=this;(e={cep_table_id:t.node.id,time_range:t.selectedTimer},pe({url:"1/cep/table/stats_show",method:"post",data:e})).then(function(e){200==e.code?(t.ALLATTR.Table_rate.rows=[],t.ALLATTR.Table_count.rows=[],t.ALLATTR.Table_latencyCount.rows=[],t.ALLATTR.Table_latencyRate.rows=[],t.ALLATTR.Table_stability.rows=[],t.ALLATTR.Table_box.rows=[],t.ALLATTR.Table_type.rows=[],t.ALLATTR.Table_value.rows=[],0==e.data.length||e.data.reverse().forEach(function(e){var a={},s={},r={add:"",reduce:""},i={},o={};for(var n in e)if("cep_table_id"!==n&&"data_number"!==n&&"create_time"!==n){var l=new Date(e.create_time).toString().split(" ").slice(3,5).join(" ");if(-1==n.indexOf("latency"))if("count"==n){var c={count:e[n],"日期":l};t.ALLATTR.Table_count.rows.push(c)}else if("memory_value"==n){var u={memory_value:e[n],"日期":l};t.ALLATTR.Table_value.rows.push(u)}else"statistic_type"==n?i.type=["insert","update","updateOrInsert","delete","find","contains"][Number(e[n])-1]:(a["日期"]=l,a[n]=e[n]);else if(s["日期"]=l,o["日期"]=l,r["日期"]=l,"latency_count"==n){var d={latency_count:e[n],"日期":l};t.ALLATTR.Table_latencyCount.rows.push(d)}else"latency_mean"==n||"latency_stddev"==n?r[n]=e[n]:-1!==n.indexOf("rate")?s[n]=e[n]:o[n]=e[n]}t.ALLATTR.Table_type.rows.push(i),t.ALLATTR.Table_rate.rows.push(a),t.ALLATTR.Table_stability.rows.push(r),t.ALLATTR.Table_box.rows.push(o),t.ALLATTR.Table_latencyRate.rows.push(s)})):t.$message.error(e.message)})},unique:function(e){var t=[],a={},s=e,r=!0,i=!1,o=void 0;try{for(var n,l=Vr()(s);!(r=(n=l.next()).done);r=!0){var c=n.value;a[c.value]||(a[c.value]=c.value,t.push(c))}}catch(e){i=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw o}}return t},compare:function(e){return function(t,a){var s=t[e];return a[e]-s}},changeTimerRange:function(e){},changeInterval:function(){var e=this;e.ALLTIMER.Source_timer&&(clearInterval(e.ALLTIMER.Source_timer),e.ALLTIMER.Source_timer=null,e.ALLTIMER.Source_timer=setInterval(function(){e.sourceStats()},1e3*Number(e.selectedCircle))),e.ALLTIMER.SourceMapper_timer&&(clearInterval(e.ALLTIMER.SourceMapper_timer),e.ALLTIMER.SourceMapper_timer=null,e.ALLTIMER.SourceMapper_timer=setInterval(function(){e.sourceMapperStats()},1e3*Number(e.selectedCircle))),e.ALLTIMER.Job_timer&&(clearInterval(e.ALLTIMER.Job_timer),e.ALLTIMER.Job_timer=null,e.ALLTIMER.Job_timer=setInterval(function(){e.jobStats()},1e3*Number(e.selectedCircle))),e.ALLTIMER.Sink_timer&&(clearInterval(e.ALLTIMER.Sink_timer),e.ALLTIMER.Sink_timer=null,e.ALLTIMER.Sink_timer=setInterval(function(){e.sinkStats()},1e3*Number(e.selectedCircle))),e.ALLTIMER.SinkMapper_timer&&(clearInterval(e.ALLTIMER.SinkMapper_timer),e.ALLTIMER.SinkMapper_timer=null,e.ALLTIMER.SinkMapper_timer=setInterval(function(){e.sinkMapperStats()},1e3*Number(e.selectedCircle))),e.ALLTIMER.Table_timer&&(clearInterval(e.ALLTIMER.Table_timer),e.ALLTIMER.Table_timer=null,e.ALLTIMER.Table_timer=setInterval(function(){e.tableStats()},1e3*Number(e.selectedCircle)))},refresh:function(e){e&&(this.refreshLoading=!0),this.ALLTIMER.Source_timer&&this.sourceStats(),this.ALLTIMER.SourceMapper_timer&&this.sourceMapperStats(),this.ALLTIMER.Job_timer&&this.jobStats(),this.ALLTIMER.Sink_timer&&this.sinkStats(),this.ALLTIMER.SinkMapper_timer&&this.sinkMapperStats(),this.ALLTIMER.Table_timer&&this.tableStats(),e&&(this.refreshLoading=!1)}},mounted:function(){var e=this;this.$on("clearTimer",function(){for(var t in e.ALLTIMER)clearInterval(e.ALLTIMER[t]),e.ALLTIMER[t]=null}),this.$on("Stats",function(t){if(e.node){if(e.node.category+e.node.id===t.category+t.id)return!1;e.node=t}else e.node=t;if(e.category=t.category,e.noUsed="",i()(e.ALLTIMER).length>0)for(var a in e.ALLTIMER)e.ALLTIMER[a]&&(clearInterval(e.ALLTIMER[a]),e.ALLTIMER[a]=null);if(e.StreamSelectAttr=[],e.SourceSelectAttr=[],e.JobSelectAttr=[],e.SinkSelectAttr=[],e.TableSelectAttr=[],e.streamAttr=[],e.sourceAttr=[],e.sinkAttr=[],e.jobAttr=[],e.tableAttr=[],"Source"==t.category){e.sourceName=t.NAME,e.sourceAttr=[];var s=["日期"];e.Source.forEach(function(t){var a={};"count"==t?(a={value:e.sourceName+"_Source_count",label:e.sourceName+"_Source_count"},e.ALLATTR.Source_count||e.$set(e.ALLATTR,"Source_count",{columns:["日期","count"],rows:[]})):(a={value:e.sourceName+"_Source_rate",label:e.sourceName+"_Source_rate"},s.push(t)),e.sourceAttr.push(a)}),e.ALLATTR.Source_rate||e.$set(e.ALLATTR,"Source_rate",{columns:s,rows:[]});var r=["日期"],o=["日期","add","reduce"],n=["日期"];e.sourceMapper.forEach(function(t){var a={};"count"==t?(a={value:e.sourceName+"_SourceMapper_count",label:e.sourceName+"_SourceMapper_count"},e.ALLATTR.SourceMapper_count||e.$set(e.ALLATTR,"SourceMapper_count",{columns:["日期","count"],rows:[]})):"mean"==t||"stdDev"==t?(a={value:e.sourceName+"_SourceMapper_stability",label:e.sourceName+"_SourceMapper_stability"},o.push(t)):-1!==t.indexOf("Rate")?(a={value:e.sourceName+"_SourceMapper_rate",label:e.sourceName+"_SourceMapper_rate"},r.push(t)):(a={value:e.sourceName+"_SourceMapper_box",label:e.sourceName+"_SourceMapper_box"},n.push(t)),e.sourceAttr.push(a)}),e.ALLATTR.SourceMapper_rate||e.$set(e.ALLATTR,"SourceMapper_rate",{columns:r,rows:[]}),e.ALLATTR.SourceMapper_stability||e.$set(e.ALLATTR,"SourceMapper_stability",{columns:o,rows:[]}),e.ALLATTR.SourceMapper_box||e.$set(e.ALLATTR,"SourceMapper_box",{columns:n,rows:[]})}if(e.sourceAttr=e.unique(e.sourceAttr),"Stream"==t.category){e.streamName=t.NAME,e.streamAttr=[];var l=["日期"];e.Source.forEach(function(t){var a={};"count"==t?(a={value:e.streamName+"_Stream_count",label:e.streamName+"_Stream_count"},e.ALLATTR.Stream_count||e.$set(e.ALLATTR,"Stream_count",{columns:["日期","count"],rows:[]})):(l.push(t),a={value:e.streamName+"_Stream_rate",label:e.streamName+"_Stream_rate"}),e.streamAttr.push(a)}),e.ALLATTR.Stream_rate||e.$set(e.ALLATTR,"Stream_rate",{columns:l,rows:[]})}if(e.streamAttr=e.unique(e.streamAttr),"Job"==t.category){e.jobName=t.NAME,e.jobAttr=[];var c=["日期"],u=["日期","add","reduce"],d=["日期"];e.job.forEach(function(t){var a={};"count"==t?(a={value:e.jobName+"_Job_count",label:e.jobName+"_Job_count"},e.ALLATTR.Job_count||e.$set(e.ALLATTR,"Job_count",{columns:["日期","count"],rows:[]})):"value"==t?(a={value:e.jobName+"_Job_value",label:e.jobName+"_Job_value"},e.ALLATTR.Job_value||e.$set(e.ALLATTR,"Job_value",{columns:["日期","value"],rows:[]})):"mean"==t||"stdDev"==t?(a={value:e.jobName+"_Job_stability",label:e.jobName+"_Job_stability"},u.push(t)):-1!==t.indexOf("Rate")?(a={value:e.jobName+"_Job_rate",label:e.jobName+"_Job_rate"},c.push(t)):(a={value:e.jobName+"_Job_box",label:e.jobName+"_Job_box"},d.push(t)),e.jobAttr.push(a)}),e.ALLATTR.Job_rate||e.$set(e.ALLATTR,"Job_rate",{columns:c,rows:[]}),e.ALLATTR.Job_stability||e.$set(e.ALLATTR,"Job_stability",{columns:u,rows:[]}),e.ALLATTR.Job_box||e.$set(e.ALLATTR,"Job_box",{columns:d,rows:[]})}if(e.jobAttr=e.unique(e.jobAttr),"Sink"==t.category){e.sinkName=t.NAME,e.sinkAttr=[];var p=["日期"];e.Source.forEach(function(t){var a={};"count"==t?(a={value:e.sinkName+"_Sink_count",label:e.sinkName+"_Sink_count"},e.ALLATTR.Sink_count||e.$set(e.ALLATTR,"Sink_count",{columns:["日期","count"],rows:[]})):(a={value:e.sinkName+"_Sink_rate",label:e.sinkName+"_Sink_rate"},p.push(t)),e.sinkAttr.push(a)}),e.ALLATTR.Sink_rate||e.$set(e.ALLATTR,"Sink_rate",{columns:p,rows:[]});var m=["日期"],h=["日期","add","reduce"],f=["日期"];e.sourceMapper.forEach(function(t){var a={};"count"==t?(a={value:e.sinkName+"_SinkMapper_count",label:e.sinkName+"_SinkMapper_count"},e.ALLATTR.SinkMapper_count||e.$set(e.ALLATTR,"SinkMapper_count",{columns:["日期","count"],rows:[]})):"mean"==t||"stdDev"==t?(a={value:e.sinkName+"_SinkMapper_stability",label:e.sinkName+"_SinkMapper_stability"},h.push(t)):-1!==t.indexOf("Rate")?(a={value:e.sinkName+"_SinkMapper_rate",label:e.sinkName+"_SinkMapper_rate"},m.push(t)):(a={value:e.sinkName+"_SinkMapper_box",label:e.sinkName+"_SinkMapper_box"},f.push(t)),e.sinkAttr.push(a)}),e.ALLATTR.SinkMapper_rate||e.$set(e.ALLATTR,"SinkMapper_rate",{columns:m,rows:[]}),e.ALLATTR.SinkMapper_stability||e.$set(e.ALLATTR,"SinkMapper_stability",{columns:h,rows:[]}),e.ALLATTR.SinkMapper_box||e.$set(e.ALLATTR,"SinkMapper_box",{columns:f,rows:[]})}if(e.sinkAttr=e.unique(e.sinkAttr),"Table"==t.category){var g=this;g.tableName=t.NAME,g.tableAttr=[];var v=["日期"],b=["日期"],y=["日期","add","reduce","latency_stddev","latency_mean"],_=["日期"];g.Table.forEach(function(e){var t={};-1==e.indexOf("latency")?"count"==e?(t={value:g.tableName+"_Table_count",label:g.tableName+"_Table_count"},g.ALLATTR.Table_count||g.$set(g.ALLATTR,"Table_count",{columns:["日期","count"],rows:[]})):"memory_value"==e?(t={value:g.tableName+"_Table_memoryValue",label:g.tableName+"_Table_memoryValue"},g.ALLATTR.Table_value||g.$set(g.ALLATTR,"Table_value",{columns:["日期","memory_value"],rows:[]})):(t={value:g.tableName+"_Table_rate",label:g.tableName+"_Table_rate"},v.push(e)):-1!==e.indexOf("count")?(t={value:g.tableName+"_Table_latencyCount",label:g.tableName+"_Table_latencyCount"},g.ALLATTR.Table_latency_count||g.$set(g.ALLATTR,"Table_latencyCount",{columns:["日期","latency_count"],rows:[]})):-1!==e.indexOf("rate")?(t={value:g.tableName+"_Table_latencyRate",label:g.tableName+"_Table_latencyRate"},b.push(e)):"latency_mean"==e||"latency_stddev"==e?t={value:g.tableName+"_Table_stability",label:g.tableName+"_Table_stability"}:(t={value:g.tableName+"_Table_box",label:g.tableName+"_Table_box"},_.push(e)),g.tableAttr.push(t),g.tableAttr.push({value:g.tableName+"_Table_type",label:g.tableName+"_Table_type"}),g.tableAttr=g.unique(g.tableAttr),g.ALLATTR.Table_type||g.$set(g.ALLATTR,"Table_type",{columns:["type"],rows:[]}),g.ALLATTR.Table_rate||g.$set(g.ALLATTR,"Table_rate",{columns:v,rows:[]}),g.ALLATTR.Table_latency_rate||g.$set(g.ALLATTR,"Table_latencyRate",{columns:b,rows:[]}),g.ALLATTR.Table_stability||g.$set(g.ALLATTR,"Table_stability",{columns:y,rows:[]}),g.ALLATTR.Table_box||g.$set(g.ALLATTR,"Table_box",{columns:_,rows:[]})})}})}},ji={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"m-t"},[a("el-form",{ref:"form",staticClass:"Form",attrs:{inline:!0,"label-position":"right","label-width":"40px"}},[a("el-row",[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{xs:7,sm:7,md:7,lg:10}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"Source"==e.category,expression:"category=='Source'"}],attrs:{label:"source"}},[a("el-select",{attrs:{"popper-append-to-body":"",placeholder:"Add Metric",size:"mini"},on:{change:e.AddMetric},model:{value:e.noUsed,callback:function(t){e.noUsed=t},expression:"noUsed"}},e._l(e.sourceAttr,function(e){return a("el-option",{key:e.label,attrs:{value:e.value,label:e.label}})}))],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"Stream"==e.category,expression:"category=='Stream'"}],attrs:{label:"stream"}},[a("el-select",{attrs:{placeholder:"Add Metric",size:"mini"},on:{change:e.AddMetric},model:{value:e.noUsed,callback:function(t){e.noUsed=t},expression:"noUsed"}},e._l(e.streamAttr,function(e){return a("el-option",{key:e.label,attrs:{value:e.value,label:e.label}})}))],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"Job"==e.category,expression:"category=='Job'"}],attrs:{label:"job"}},[a("el-select",{attrs:{placeholder:"Add Metric",size:"mini"},on:{change:e.AddMetric},model:{value:e.noUsed,callback:function(t){e.noUsed=t},expression:"noUsed"}},e._l(e.jobAttr,function(e){return a("el-option",{key:e.label,attrs:{value:e.value,label:e.label}})}))],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"Sink"==e.category,expression:"category=='Sink'"}],attrs:{label:"sink"}},[a("el-select",{attrs:{placeholder:"Add Metric",size:"mini"},on:{change:e.AddMetric},model:{value:e.noUsed,callback:function(t){e.noUsed=t},expression:"noUsed"}},e._l(e.sinkAttr,function(e){return a("el-option",{key:e.label,attrs:{value:e.value,label:e.label}})}))],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"Table"==e.category,expression:"category=='Table'"}],attrs:{label:"table"}},[a("el-select",{attrs:{placeholder:"Add Metric",size:"mini"},on:{change:e.AddMetric},model:{value:e.noUsed,callback:function(t){e.noUsed=t},expression:"noUsed"}},e._l(e.tableAttr,function(e){return a("el-option",{key:e.label,attrs:{value:e.value,label:e.label}})}))],1)],1),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{xs:7,sm:7,md:7,lg:6}},[a("el-form-item",{attrs:{label:"时间 "}},[a("el-select",{attrs:{"popper-append-to-body":"",placeholder:"选择刷新时间",size:"mini"},on:{change:e.changeInterval},model:{value:e.selectedCircle,callback:function(t){e.selectedCircle=t},expression:"selectedCircle"}},e._l(e.circleList,function(e){return a("el-option",{key:e.label,attrs:{value:e.value,label:e.label}})}))],1)],1),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{xs:7,sm:7,md:7,lg:6}},[a("el-form-item",{attrs:{label:"范围 "}},[a("el-select",{attrs:{"popper-append-to-body":"",placeholder:"选择时间范围",size:"mini"},on:{change:e.refresh},model:{value:e.selectedTimer,callback:function(t){e.selectedTimer=t},expression:"selectedTimer"}},e._l(e.timeRange,function(e){return a("el-option",{key:e.label,attrs:{value:e.value,label:e.label}})}))],1)],1),e._v(" "),a("el-col",{staticClass:"text-center",attrs:{xs:3,sm:3,md:3,lg:2}},[a("el-button",{attrs:{type:"primary",size:"mini",loading:e.refreshLoading,icon:"el-icon-refresh",circle:""},on:{click:function(t){e.refresh("loading")}}})],1)],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"Source"==e.category,expression:"category=='Source'"}],staticClass:"m-t",staticStyle:{"padding-right":"20px"}},[a("el-row",{attrs:{gutter:10}},e._l(e.SourceSelectAttr,function(t,s){return""==t.split("/")[1]?a("el-col",{key:t,staticStyle:{"margin-bottom":"20px"},attrs:{span:8}},[a("el-card",{staticStyle:{height:"240px"},attrs:{"body-style":{padding:"0",position:"relative"}}},[a("div",{staticClass:"echartsButton"},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:18}},[a("span",[e._v(e._s(t.split("/")[0]))])]),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:6}},[a("el-button",{attrs:{size:"boxi"},on:{click:function(a){e.BigCharts(t,s)}}},[e._v("Big")]),e._v(" "),a("el-button",{attrs:{size:"boxi",icon:"el-icon-close"},on:{click:function(a){e.DeleteCharts(t,s)}}})],1)],1),e._v(" "),"Source_count"==t.split("/")[0]?a("v-line",{attrs:{"chart-data":e.ALLATTR.Source_count}}):"Source_rate"==t.split("/")[0]?a("v-line",{attrs:{"chart-data":e.ALLATTR.Source_rate}}):"SourceMapper_count"==t.split("/")[0]?a("v-line",{attrs:{"chart-data":e.ALLATTR.SourceMapper_count}}):"SourceMapper_stability"==t.split("/")[0]?a("v-lineArea",{attrs:{"chart-data":e.ALLATTR.SourceMapper_stability}}):"SourceMapper_rate"==t.split("/")[0]?a("v-line",{attrs:{"chart-data":e.ALLATTR.SourceMapper_rate}}):"SourceMapper_box"==t.split("/")[0]?a("v-histogram",{attrs:{"chart-data":e.ALLATTR.SourceMapper_box}}):e._e()],1)],1):"BIG"==t.split("/")[1]?a("el-col",{staticStyle:{"margin-bottom":"20px"},attrs:{span:24}},[a("el-card",{staticStyle:{height:"240px"},attrs:{"body-style":{padding:"0px",position:"relative"}}},[a("div",{staticClass:"echartsButton"},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:18}},[a("span",[e._v(e._s(t.split("/")[0]))])]),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:6}},[a("el-button",{attrs:{size:"boxi"},on:{click:function(t){e.SmallCharts(s)}}},[e._v("Small")]),e._v(" "),a("el-button",{attrs:{size:"boxi",icon:"el-icon-close"},on:{click:function(a){e.DeleteCharts(t,s)}}})],1)],1),e._v(" "),"Source_count"==t.split("/")[0]?a("v-line",{attrs:{"chart-data":e.ALLATTR.Source_count}}):"Source_rate"==t.split("/")[0]?a("v-line",{attrs:{"chart-data":e.ALLATTR.Source_rate}}):"SourceMapper_count"==t.split("/")[0]?a("v-line",{attrs:{"chart-data":e.ALLATTR.SourceMapper_count}}):"SourceMapper_stability"==t.split("/")[0]?a("v-lineArea",{attrs:{"chart-data":e.ALLATTR.SourceMapper_stability}}):"SourceMapper_rate"==t.split("/")[0]?a("v-line",{attrs:{"chart-data":e.ALLATTR.SourceMapper_rate}}):"SourceMapper_box"==t.split("/")[0]?a("v-histogram",{attrs:{"chart-data":e.ALLATTR.SourceMapper_box}}):e._e()],1)],1):e._e()}))],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"Stream"==e.category,expression:"category=='Stream'"}],staticClass:"m-t"},[a("el-row",{attrs:{gutter:10}},e._l(e.StreamSelectAttr,function(t,s){return""==t.split("/")[1]?a("el-col",{key:t,staticStyle:{"margin-bottom":"20px"},attrs:{span:8}},[a("el-card",{staticStyle:{height:"240px"},attrs:{"body-style":{padding:"0px",position:"relative"}}},[a("div",{staticClass:"echartsButton"},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:18}},[a("span",[e._v(e._s(t.split("/")[0]))])]),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:6}},[a("el-button",{attrs:{size:"boxi"},on:{click:function(a){e.BigCharts(t,s)}}},[e._v("Big")]),e._v(" "),a("el-button",{attrs:{size:"boxi",icon:"el-icon-close"},on:{click:function(a){e.DeleteCharts(t,s)}}})],1)],1),e._v(" "),"Stream_count"==t.split("/")[0]?a("v-line",{attrs:{"chart-data":e.ALLATTR.Stream_count}}):"Stream_rate"==t.split("/")[0]?a("v-line",{attrs:{"chart-data":e.ALLATTR.Stream_rate}}):e._e()],1)],1):"BIG"==t.split("/")[1]?a("el-col",{staticStyle:{"margin-bottom":"20px"},attrs:{span:24}},[a("el-card",{staticStyle:{height:"240px"},attrs:{"body-style":{padding:"0px",position:"relative"}}},[a("div",{staticClass:"echartsButton"},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:18}},[a("span",[e._v(e._s(t.split("/")[0]))])]),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:6}},[a("el-button",{attrs:{size:"boxi"},on:{click:function(t){e.SmallCharts(s)}}},[e._v("Small")]),e._v(" "),a("el-button",{attrs:{size:"boxi",icon:"el-icon-close"},on:{click:function(a){e.DeleteCharts(t,s)}}})],1)],1),e._v(" "),"Stream_count"==t.split("/")[0]?a("v-line",{attrs:{"chart-data":e.ALLATTR.Stream_count}}):"Stream_rate"==t.split("/")[0]?a("v-line",{attrs:{"chart-data":e.ALLATTR.Stream_rate}}):e._e()],1)],1):e._e()}))],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"Job"==e.category,expression:"category=='Job'"}],staticClass:"m-t"},[a("el-row",{attrs:{gutter:10}},e._l(e.JobSelectAttr,function(t,s){return""==t.split("/")[1]?a("el-col",{key:t,staticStyle:{"margin-bottom":"20px"},attrs:{span:8}},[a("el-card",{staticStyle:{height:"240px"},attrs:{"body-style":{padding:"0px",position:"relative"}}},[a("div",{staticClass:"echartsButton"},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:18}},[a("span",[e._v(e._s(t.split("/")[0]))])]),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:6}},[a("el-button",{attrs:{size:"boxi"},on:{click:function(a){e.BigCharts(t,s)}}},[e._v("Big")]),e._v(" "),a("el-button",{attrs:{size:"boxi",icon:"el-icon-close"},on:{click:function(a){e.DeleteCharts(t,s)}}})],1)],1),e._v(" "),"Job_count"==t.split("/")[0]?a("v-line",{attrs:{"chart-data":e.ALLATTR.Job_count}}):"Job_rate"==t.split("/")[0]?a("v-line",{attrs:{"chart-data":e.ALLATTR.Job_rate}}):"Job_value"==t.split("/")[0]?a("v-line",{attrs:{"chart-data":e.ALLATTR.Job_value}}):"Job_stability"==t.split("/")[0]?a("v-lineArea",{attrs:{"chart-data":e.ALLATTR.Job_stability}}):"Job_box"==t.split("/")[0]?a("v-histogram",{attrs:{"chart-data":e.ALLATTR.Job_box}}):e._e()],1)],1):"BIG"==t.split("/")[1]?a("el-col",{staticStyle:{"margin-bottom":"20px"},attrs:{span:24}},[a("el-card",{staticStyle:{height:"240px"},attrs:{"body-style":{padding:"0px",position:"relative"}}},[a("div",{staticClass:"echartsButton"},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:18}},[a("span",[e._v(e._s(t.split("/")[0]))])]),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:6}},[a("el-button",{attrs:{size:"boxi"},on:{click:function(t){e.SmallCharts(s)}}},[e._v("Small")]),e._v(" "),a("el-button",{attrs:{size:"boxi",icon:"el-icon-close"},on:{click:function(a){e.DeleteCharts(t,s)}}})],1)],1),e._v(" "),"Job_count"==t.split("/")[0]?a("v-line",{attrs:{"chart-data":e.ALLATTR.Job_count}}):"Job_rate"==t.split("/")[0]?a("v-line",{attrs:{"chart-data":e.ALLATTR.Job_rate}}):"Job_value"==t.split("/")[0]?a("v-line",{attrs:{"chart-data":e.ALLATTR.Job_value}}):"Job_stability"==t.split("/")[0]?a("v-lineArea",{attrs:{"chart-data":e.ALLATTR.Job_stability}}):"Job_box"==t.split("/")[0]?a("v-histogram",{attrs:{"chart-data":e.ALLATTR.Job_box}}):e._e()],1)],1):e._e()}))],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"Sink"==e.category,expression:"category=='Sink'"}],staticClass:"m-t"},[a("el-row",{attrs:{gutter:10}},e._l(e.SinkSelectAttr,function(t,s){return""==t.split("/")[1]?a("el-col",{key:t,staticStyle:{"margin-bottom":"20px"},attrs:{span:8}},[a("el-card",{staticStyle:{height:"240px"},attrs:{"body-style":{padding:"0px",position:"relative"}}},[a("div",{staticClass:"echartsButton"},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:18}},[a("span",[e._v(e._s(t.split("/")[0]))])]),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:6}},[a("el-button",{attrs:{size:"boxi"},on:{click:function(a){e.BigCharts(t,s)}}},[e._v("Big")]),e._v(" "),a("el-button",{attrs:{size:"boxi",icon:"el-icon-close"},on:{click:function(a){e.DeleteCharts(t,s)}}})],1)],1),e._v(" "),"Sink_count"==t.split("/")[0]?a("v-line",{attrs:{"chart-data":e.ALLATTR.Sink_count}}):"Sink_rate"==t.split("/")[0]?a("v-line",{attrs:{"chart-data":e.ALLATTR.Sink_rate}}):"SinkMapper_count"==t.split("/")[0]?a("v-line",{attrs:{"chart-data":e.ALLATTR.SinkMapper_count}}):"SinkMapper_stability"==t.split("/")[0]?a("v-lineArea",{attrs:{"chart-data":e.ALLATTR.SinkMapper_stability}}):"SinkMapper_rate"==t.split("/")[0]?a("v-line",{attrs:{"chart-data":e.ALLATTR.SinkMapper_rate}}):"SinkMapper_box"==t.split("/")[0]?a("v-histogram",{attrs:{"chart-data":e.ALLATTR.SinkMapper_box}}):e._e()],1)],1):"BIG"==t.split("/")[1]?a("el-col",{staticStyle:{"margin-bottom":"20px"},attrs:{span:24}},[a("el-card",{staticStyle:{height:"240px"},attrs:{"body-style":{padding:"0px",position:"relative"}}},[a("div",{staticClass:"echartsButton"},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:18}},[a("span",[e._v(e._s(t.split("/")[0]))])]),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:6}},[a("el-button",{attrs:{size:"boxi"},on:{click:function(t){e.SmallCharts(s)}}},[e._v("Small")]),e._v(" "),a("el-button",{attrs:{size:"boxi",icon:"el-icon-close"},on:{click:function(a){e.DeleteCharts(t,s)}}})],1)],1),e._v(" "),"Sink_count"==t.split("/")[0]?a("v-line",{attrs:{"chart-data":e.ALLATTR.Sink_count}}):"Sink_rate"==t.split("/")[0]?a("v-line",{attrs:{"chart-data":e.ALLATTR.Sink_rate}}):"SinkMapper_count"==t.split("/")[0]?a("v-line",{attrs:{"chart-data":e.ALLATTR.SinkMapper_count}}):"SinkMapper_stability"==t.split("/")[0]?a("v-lineArea",{attrs:{"chart-data":e.ALLATTR.SinkMapper_stability}}):"SinkMapper_rate"==t.split("/")[0]?a("v-line",{attrs:{"chart-data":e.ALLATTR.SinkMapper_rate}}):"SinkMapper_box"==t.split("/")[0]?a("v-histogram",{attrs:{"chart-data":e.ALLATTR.SinkMapper_box}}):e._e()],1)],1):e._e()}))],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"Table"==e.category,expression:"category=='Table'"}],staticClass:"m-t"},[a("el-row",{attrs:{gutter:10}},e._l(e.TableSelectAttr,function(t,s){return""==t.split("/")[1]?a("el-col",{key:t,staticStyle:{"margin-bottom":"20px"},attrs:{span:8}},[a("el-card",{staticStyle:{height:"240px"},attrs:{"body-style":{padding:"0px",position:"relative"}}},[a("div",{staticClass:"echartsButton"},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:18}},[a("span",[e._v(e._s(t.split("/")[0]))])]),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:6}},[a("el-button",{attrs:{size:"boxi"},on:{click:function(a){e.BigCharts(t,s)}}},[e._v("Big")]),e._v(" "),a("el-button",{attrs:{size:"boxi",icon:"el-icon-close"},on:{click:function(a){e.DeleteCharts(t,s)}}})],1)],1),e._v(" "),"Table_type"==t.split("/")[0]?a("v-linetype",{attrs:{"chart-data":e.ALLATTR.Table_type}}):"Table_count"==t.split("/")[0]?a("v-line",{attrs:{"chart-data":e.ALLATTR.Table_count}}):"Table_rate"==t.split("/")[0]?a("v-line",{attrs:{"chart-data":e.ALLATTR.Table_rate}}):"Table_memoryValue"==t.split("/")[0]?a("v-line",{attrs:{"chart-data":e.ALLATTR.Table_value}}):e._e(),e._v(" "),"Table_latencyCount"==t.split("/")[0]?a("v-line",{attrs:{"chart-data":e.ALLATTR.Table_latencyCount}}):"Table_latencyRate"==t.split("/")[0]?a("v-line",{attrs:{"chart-data":e.ALLATTR.Table_latencyRate}}):e._e(),e._v(" "),"Table_box"==t.split("/")[0]?a("v-histogram",{attrs:{"chart-data":e.ALLATTR.Table_box}}):"Table_stability"==t.split("/")[0]?a("v-lineArea",{attrs:{"chart-data":e.ALLATTR.Table_stability}}):e._e()],1)],1):"BIG"==t.split("/")[1]?a("el-col",{staticStyle:{"margin-bottom":"20px"},attrs:{span:24}},[a("el-card",{staticStyle:{height:"240px"},attrs:{"body-style":{padding:"0px",position:"relative"}}},[a("div",{staticClass:"echartsButton"},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:18}},[a("span",[e._v(e._s(t.split("/")[0]))])]),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:6}},[a("el-button",{attrs:{size:"boxi"},on:{click:function(t){e.SmallCharts(s)}}},[e._v("Small")]),e._v(" "),a("el-button",{attrs:{size:"boxi",icon:"el-icon-close"},on:{click:function(a){e.DeleteCharts(t,s)}}})],1)],1),e._v(" "),"Table_type"==t.split("/")[0]?a("v-linetype",{attrs:{"chart-data":e.ALLATTR.Table_type}}):"Table_count"==t.split("/")[0]?a("v-line",{attrs:{"chart-data":e.ALLATTR.Table_count}}):"Table_rate"==t.split("/")[0]?a("v-line",{attrs:{"chart-data":e.ALLATTR.Table_rate}}):"Table_memoryValue"==t.split("/")[0]?a("v-line",{attrs:{"chart-data":e.ALLATTR.Table_value}}):e._e(),e._v(" "),"Table_latencyCount"==t.split("/")[0]?a("v-line",{attrs:{"chart-data":e.ALLATTR.Table_latencyCount}}):"Table_latencyRate"==t.split("/")[0]?a("v-line",{attrs:{"chart-data":e.ALLATTR.Table_latencyRate}}):e._e(),e._v(" "),"Table_box"==t.split("/")[0]?a("v-histogramline",{attrs:{"chart-data":e.ALLATTR.Table_box}}):"Table_stability"==t.split("/")[0]?a("v-lineArea",{attrs:{"chart-data":e.ALLATTR.Table_stability}}):e._e()],1)],1):e._e()}))],1)],1)},staticRenderFns:[]};var Vi=a("/Xao")(Pi,ji,!1,function(e){a("GnSa")},"data-v-0094a04a",null).exports;var Oi={data:function(){var e;return{spc_id:"",stream_id:"",loading:!1,spc_type:["rdbms"],job_info:[],spc:(e={cep_program_id:"",cep_spc_id:"",cep_spc_name:"",control_graph:"",group_num:"",move_range:"",time_fields:"",total_fields:"",defect_reason_fields:"",defect_num_fields:"",comment:""},It()(e,"group_num",""),It()(e,"jdbc_url",""),It()(e,"username",""),It()(e,"password",""),It()(e,"jdbc_driver_name",""),It()(e,"column_info",{}),e),graphList:[{label:"X-R",value:1},{label:"X-S",value:2},{label:"me-R",value:3},{label:"X-MR",value:4},{label:"P",value:5},{label:"np",value:6},{label:"c",value:7},{label:"u",value:8}],spcList:[],stream_column_list:[],fields_list:{},selectedStream:[]}},methods:{submit:function(){var e=this;e.loading=!0;var t=JSON.parse(ns()(e.spc));t.cep_spc_id=e.spc_id;var a,s=[];for(var r in t.column_info)s=[].concat(Ne()(s),Ne()(t.column_info[r]));t.column_info=s,(a=t,pe({url:"piping/gateway/cep/spc/update",method:"post",data:a})).then(function(t){0==t.resCode?(e.$message({message:t.msg,type:"success"}),e.$emit("cepUpdate")):e.$message({message:t.msg,type:"error"}),e.loading=!1})},changeName:function(e){this.$emit("changeName",e)},spcDetail:function(e){var t,a=this;a.job_info=[],(t={cep_spc_id:e},pe({url:"piping/gateway/cep/spc/detail",method:"post",params:t})).then(function(e){if(0==e.resCode){var t,s=(t={cep_program_id:"",cep_spc_id:"",cep_spc_name:"",control_graph:"",group_num:"",move_range:"",time_fields:"",value_fields:"",total_fields:"",defect_reason_fields:"",defect_num_fields:"",comment:""},It()(t,"group_num",""),It()(t,"jdbc_url",""),It()(t,"username",""),It()(t,"password",""),It()(t,"jdbc_driver_name",""),It()(t,"column_info",[]),t);for(var r in s)s[r]=e.data[r]?e.data[r]:"";a.spc=Z()({},s);var i={},o=[],n=!0,l=!1,c=void 0;try{for(var u,d=Vr()(a.spc.column_info);!(n=(u=d.next()).done);n=!0){var p=u.value;i[p.config_name]?(i[p.config_name].push(p),o.push(p.cep_stream_column_id)):(a.job_info.push(p.spc_realtime_config_id+"_@_"+p.config_name),i[p.config_name]=[],i[p.config_name].push(p),o.push(p.cep_stream_column_id))}}catch(e){l=!0,c=e}finally{try{!n&&d.return&&d.return()}finally{if(l)throw c}}o.push(a.spc.time_fields),o.push(a.spc.value_fields),a.spc.column_info=i,a.changeGetSpcList(o)}else a.$message({message:e.msg,type:"error"})})},getRealtimeList:function(e,t,a){for(var s=arguments.length,r=Array(s>3?s-3:0),i=3;i<s;i++)r[i-3]=arguments[i];var o=this;spcRealtimeList({control_graph:e,group_num:t,move_range:a}).then(function(e){0==e.resCode?(o.spcList=e.data.realTimeList,o.selectedStream=r):o.$message.error(e.msg)})},changeGetSpcList:function(){this.job_info=[],this.spc.column_info={};for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];this.spc.control_graph>4&&this.spc.control_graph<=8&&this.getRealtimeList(this.spc.control_graph,null,null,t),this.spc.control_graph>0&&this.spc.control_graph<5&&this.spc.control_graph&&this.spc.group_num&&this.move_range&&this.getRealtimeList(this.spc.control_graph,this.spc.group_num,this.spc.move_range,t),this.spc.job_info=[]},getStreamDetail:function(){var e=this;ri({cep_stream_id:e.stream_id}).then(function(t){0==t.resCode?e.stream_column_list=t.data.cep_stream_column:e.$message.error(t.msg)})},getRealtimeDetail:function(e){var t=this,a=e.toString().split("_@_")[0],s=e.toString().split("_@_")[1];t.$set(t.fields_list,s,[]),t.$set(t.spc.column_info,s,[]),spcRealtimeDetail({spc_realtime_config_id:a}).then(function(e){0==e.resCode?e.data.fields_info.length>0&&e.data.fields_info.forEach(function(a){var s={spc_fields_id:a.spc_fields_id,fields_name:a.fields_name,spc_realtime_config_id:e.data.spc_realtime_config_id,config_name:e.data.config_name,cep_stream_column_id:""};t.spc.column_info[e.data.config_name].push(s)}):t.$message.error(e.msg)})},visibleChange:function(){if(this.selectedStream=[],this.spc.defect_num_fields&&this.selectedStream.push(this.spc.defect_num_fields),this.spc.time_fields&&this.selectedStream.push(this.spc.time_fields),this.spc.defect_reason_fields&&this.selectedStream.push(this.spc.defect_reason_fields),this.spc.total_fields&&this.selectedStream.push(this.spc.total_fields),this.job_info.length>0){var e=!0,t=!1,a=void 0;try{for(var s,r=Vr()(this.job_info);!(e=(s=r.next()).done);e=!0){var i=s.value;this.getRealtimeDetail(i)}}catch(e){t=!0,a=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw a}}}},selStream:function(e){var t=this;if("number"==typeof e)this.selectedStream.push(e);else{e&&t.sameFieldsId(e);var a=[];for(var s in t.spc.column_info)a=[].concat(Ne()(a),Ne()(t.spc.column_info[s]));t.selectedStream=[],t.spc.defect_num_fields&&t.selectedStream.push(t.spc.defect_num_fields),t.spc.time_fields&&t.selectedStream.push(t.spc.time_fields),t.spc.defect_reason_fields&&t.selectedStream.push(t.spc.defect_reason_fields),t.spc.total_fields&&t.selectedStream.push(t.spc.total_fields),a.forEach(function(e){e.cep_stream_column_id&&t.selectedStream.push(e.cep_stream_column_id)})}},removetag:function(e){var t=e.value.toString().split("_@_")[1];delete this.spc.column_info[t]},sameFieldsId:function(e){var t=e.field.config_name,a=e.field.spc_fields_id,s="";if(this.spc.column_info[t].forEach(function(e){e.spc_fields_id==a&&(s=e.cep_stream_column_id)}),i()(this.spc.column_info).length>0)for(var r in this.spc.column_info)r!==t&&this.spc.column_info[r].forEach(function(e){e.spc_fields_id==a&&(e.cep_stream_column_id=s)})}},mounted:function(){var e=this;e.$on("spc",function(t){e.spc_id=t.spcId,e.stream_id=t.streamId,e.getStreamDetail(),e.spcDetail(t.spcId)})},computed:{filterStream:function(){var e=this,t=[];return e.stream_column_list.length>0&&(e.stream_column_list.forEach(function(a){-1==e.selectedStream.indexOf(a.cep_stream_column_id)&&t.push(a)}),0==t.length&&0==e.selectedStream.length)?e.stream_column_list:t}}},qi={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{staticClass:"Form ",attrs:{"label-position":"right","label-width":"120px",size:"mini"}},[a("el-form-item",{attrs:{label:"spc Name :",required:""}},[a("el-col",{attrs:{span:22}},[a("el-input",{on:{input:e.changeName},model:{value:e.spc.cep_spc_name,callback:function(t){e.$set(e.spc,"cep_spc_name",t)},expression:"spc.cep_spc_name"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Comment :"}},[a("el-col",{attrs:{span:22}},[a("el-input",{model:{value:e.spc.comment,callback:function(t){e.$set(e.spc,"comment",t)},expression:"spc.comment"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"管制图形 :",required:""}},[a("el-select",{on:{change:e.changeGetSpcList},model:{value:e.spc.control_graph,callback:function(t){e.$set(e.spc,"control_graph",t)},expression:"spc.control_graph"}},e._l(e.graphList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.spc.control_graph&&e.spc.control_graph<5,expression:"spc.control_graph && spc.control_graph<5"}],attrs:{label:"子组容量 :",required:""}},[a("el-col",{attrs:{span:22}},[a("el-input",{attrs:{type:"number",min:"1",max:"25",placeholder:"请输入数字1-25"},on:{blur:e.changeGetSpcList},model:{value:e.spc.group_num,callback:function(t){e.$set(e.spc,"group_num",t)},expression:"spc.group_num"}})],1)],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:4==e.spc.control_graph,expression:"spc.control_graph==4"}],attrs:{label:"移动极差 : ",required:""}},[a("el-col",{attrs:{span:22}},[a("el-input",{on:{blur:e.changeGetSpcList},model:{value:e.spc.move_range,callback:function(t){e.$set(e.spc,"move_range",t)},expression:"spc.move_range"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"实时spc配置 :",required:""}},[a("el-select",{attrs:{multiple:""},on:{change:e.visibleChange,"remove-tag":e.removetag},model:{value:e.job_info,callback:function(t){e.job_info=t},expression:"job_info"}},e._l(e.spcList,function(e){return a("el-option",{key:e.spc_realtime_config_id,attrs:{label:e.config_name,value:e.spc_realtime_config_id+"_@_"+e.config_name}})}))],1),e._v(" "),e._l(e.spc.column_info,function(t,s){return Object.keys(e.spc.column_info).length>0?a("el-form-item",{key:s,attrs:{label:s+":",required:""}},e._l(t,function(t){return a("el-row",{key:t.spc_fields_id},[a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{disabled:""},model:{value:t.fields_name,callback:function(a){e.$set(t,"fields_name",a)},expression:"field.fields_name"}})],1),e._v(" "),a("el-col",{attrs:{span:10,offset:2}},[a("el-select",{attrs:{clearable:""},on:{change:function(a){e.selStream({field:t})}},model:{value:t.cep_stream_column_id,callback:function(a){e.$set(t,"cep_stream_column_id",a)},expression:"field.cep_stream_column_id"}},e._l(e.filterStream,function(e){return a("el-option",{key:e.cep_stream_column_id+"c",attrs:{label:e.stream_column_name,value:e.cep_stream_column_id}})}))],1)],1)})):e._e()}),e._v(" "),a("el-form-item",{attrs:{label:"时间字段 :",required:""}},[a("el-select",{attrs:{clearable:""},on:{change:e.selStream},model:{value:e.spc.time_fields,callback:function(t){e.$set(e.spc,"time_fields",t)},expression:"spc.time_fields"}},e._l(e.filterStream,function(e){return a("el-option",{key:e.cep_stream_column_id+"b",attrs:{label:e.stream_column_name,value:e.cep_stream_column_id}})}))],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.spc.control_graph&&e.spc.control_graph<5,expression:"spc.control_graph && spc.control_graph<5"}],attrs:{label:"数值字段 :",required:""}},[a("el-select",{attrs:{clearable:""},on:{change:e.selStream},model:{value:e.spc.value_fields,callback:function(t){e.$set(e.spc,"value_fields",t)},expression:"spc.value_fields"}},e._l(e.filterStream,function(e){return a("el-option",{key:e.cep_stream_column_id+"b",attrs:{label:e.stream_column_name,value:e.cep_stream_column_id}})}))],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.spc.control_graph>4,expression:"spc.control_graph>4"}],attrs:{label:"不良原因 :",required:""}},[a("el-select",{attrs:{clearable:""},on:{change:e.selStream},model:{value:e.spc.defect_reason_fields,callback:function(t){e.$set(e.spc,"defect_reason_fields",t)},expression:"spc.defect_reason_fields"}},e._l(e.filterStream,function(e){return a("el-option",{key:e.cep_stream_column_id+"g",attrs:{label:e.stream_column_name,value:e.cep_stream_column_id}})}))],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.spc.control_graph>4,expression:"spc.control_graph>4"}],attrs:{label:"不良数量 :",required:""}},[a("el-select",{attrs:{clearable:""},on:{change:e.selStream},model:{value:e.spc.defect_num_fields,callback:function(t){e.$set(e.spc,"defect_num_fields",t)},expression:"spc.defect_num_fields"}},e._l(e.filterStream,function(e){return a("el-option",{key:e.cep_stream_column_id+"e",attrs:{label:e.stream_column_name,value:e.cep_stream_column_id}})}))],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.spc.control_graph>4,expression:"spc.control_graph>4"}],attrs:{label:"总数 :",required:""}},[a("el-select",{attrs:{clearable:""},on:{change:e.selStream},model:{value:e.spc.total_fields,callback:function(t){e.$set(e.spc,"total_fields",t)},expression:"spc.total_fields"}},e._l(e.filterStream,function(e){return a("el-option",{key:e.cep_stream_column_id+"f",attrs:{label:e.stream_column_name,value:e.cep_stream_column_id}})}))],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"Jdbc.url :",required:""}},[a("el-col",{attrs:{span:22}},[a("el-input",{model:{value:e.spc.jdbc_url,callback:function(t){e.$set(e.spc,"jdbc_url",t)},expression:"spc['jdbc_url']"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Username :",required:""}},[a("el-col",{attrs:{span:22}},[a("el-input",{model:{value:e.spc.username,callback:function(t){e.$set(e.spc,"username",t)},expression:"spc.username"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Password :",required:""}},[a("el-col",{attrs:{span:22}},[a("el-input",{model:{value:e.spc.password,callback:function(t){e.$set(e.spc,"password",t)},expression:"spc.password"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Jdbc.driver.name :",required:""}},[a("el-col",{attrs:{span:22}},[a("el-input",{model:{value:e.spc.jdbc_driver_name,callback:function(t){e.$set(e.spc,"jdbc_driver_name",t)},expression:"spc['jdbc_driver_name']"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{lable:""}},[a("el-col",{staticClass:"btnBlock",attrs:{span:22}},[a("el-button",{attrs:{type:"primary",size:"mini",loading:e.loading},on:{click:e.submit}},[e._v("提交")])],1)],1)],2)},staticRenderFns:[]};var Bi=a("/Xao")(Oi,qi,!1,function(e){a("oKxW")},null,null).exports;var Ui={components:{ElFormItem:Zr,codemirror:Fe.codemirror},data:function(){return{jsId:"",js:{cepJsName:"",returnType:"",cepJsContent:"",comment:"",published:0},useTemplate:!1,jsTemplateList:[],templateIndex:"",rules:{cepJsName:[{required:!0,message:"请填写节点名称",trigger:"change,blur"},{validator:this.$checkName,trigger:"change,blur"}],returnType:[{required:!0,message:"请选择返回类型",trigger:"change,blur"}],cepJsContent:[{required:!0,message:"请填写Content",trigger:"change,blur"}]},mySqlOption:{tabSize:4,styleActiveLine:!0,lineNumbers:!0,line:!0,mode:"text/x-sql",lineWrapping:!0,theme:"rubyblue",autoRefresh:!0},type:[{label:"int",value:1},{label:"string",value:2},{label:"double",value:3}],fullLoading:null,LOADING:{LOADING:{lock:!0,text:"数据处理中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.6)"}}}},methods:{jsDetail:function(){var e,t=this;(e={cepJsId:this.jsId},pe({url:"piping/gateway/cep/js/detail",method:"post",params:e})).then(function(e){200==e.code?t.js=Z()({},t.js,e.data):t.$message.error(e.message)})},submit:function(){var e=this;this.$refs.js.validate(function(t){var a;t&&(e.fullLoading=e.$loading(e.LOADING),(a=e.js,pe({url:"piping/gateway/cep/js/update",method:"post",data:a})).then(function(t){e.fullLoading.close(),200==t.code?(e.$message.success(t.message),e.$emit("cepUpdate")):e.$message.error(t.message)}))})},changeName:function(e){this.$emit("changeName",e)},change:function(){this.$refs.js.validateField("cepJsContent")},getTemplate:function(){var e,t=this;pe({url:"piping/gateway/cep/js/template",method:"post",params:e}).then(function(e){200==e.code?e.data&&Array.isArray(e.data)&&e.data.length>0&&(t.jsTemplateList=e.data.filter(function(e){return e.cepJsId!==t.jsId})):t.$message.error(e.message)})},setTemplate:function(){if(this.useTemplate&&this.templateIndex>=0){var e=Z()({},this.jsTemplateList[this.templateIndex]);delete e.cepJsName,Z()(this.js,e)}}},watch:{},mounted:function(){var e=this;e.$on("js",function(t){e.jsId=t,e.$refs.js.resetFields(),e.js.cepJsContent="",e.useTemplate=!1,e.templateIndex="",e.jsDetail(),e.getTemplate()})}},Hi={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"js",staticClass:"Form",attrs:{"label-position":"right",model:e.js,rules:e.rules,"label-width":"100px",size:"mini"}},[a("el-form-item",{attrs:{label:"节点名称 :",prop:"cepJsName"}},[a("el-col",{attrs:{span:22}},[a("el-input",{on:{input:e.changeName},model:{value:e.js.cepJsName,callback:function(t){e.$set(e.js,"cepJsName",t)},expression:"js.cepJsName"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"使用模板 : "}},[a("el-col",{attrs:{span:22}},[a("el-radio-group",{on:{change:function(t){!e.useTemplate&&(e.templateIndex="")}},model:{value:e.useTemplate,callback:function(t){e.useTemplate=t},expression:"useTemplate"}},[a("el-radio",{attrs:{label:!0}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:!1}},[e._v("否")])],1)],1)],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.useTemplate,expression:"useTemplate"}],attrs:{label:"模板 : "}},[a("el-col",{attrs:{span:22}},[a("el-select",{on:{change:e.setTemplate},model:{value:e.templateIndex,callback:function(t){e.templateIndex=t},expression:"templateIndex"}},e._l(e.jsTemplateList,function(e,t){return a("el-option",{key:t+"_"+e.cepJsName,attrs:{label:e.cepJsName,value:t}})}))],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"返回类型 :",prop:"returnType"}},[a("el-col",{attrs:{span:22}},[a("el-select",{model:{value:e.js.returnType,callback:function(t){e.$set(e.js,"returnType",t)},expression:"js.returnType"}},e._l(e.type,function(t){return a("el-option",{key:t.label,attrs:{label:t.label,value:t.value},on:{changes:e.change}})}))],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Content :",prop:"cepJsContent"}},[a("el-row",[a("el-col",{staticClass:"CODEMIRROE CODEMIRROESource",attrs:{span:22}},[a("codemirror",{staticClass:"code",staticStyle:{"line-height":"20px"},attrs:{options:e.mySqlOption},on:{changes:e.change},model:{value:e.js.cepJsContent,callback:function(t){e.$set(e.js,"cepJsContent",t)},expression:"js.cepJsContent"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Comment :"}},[a("el-row",[a("el-col",{attrs:{span:22}},[a("el-input",{model:{value:e.js.comment,callback:function(t){e.$set(e.js,"comment",t)},expression:"js.comment"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"设置为模板 : "}},[a("el-col",{attrs:{span:22}},[a("el-radio-group",{model:{value:e.js.published,callback:function(t){e.$set(e.js,"published",t)},expression:"js.published"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{lable:""}},[a("el-col",{staticClass:"btnBlock",attrs:{span:22}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.submit}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]},Gi=a("/Xao")(Ui,Hi,!1,null,null,null).exports;a("PFUz");var Xi={components:{"v-job":ei,"v-source":li,"v-sink":mi,"v-stream":Si,"v-header":Ci,"v-bottom":Vi,"v-store":gi,"v-alert":yi,"v-table":wi,"v-spc":Bi,"v-js":Gi},data:function(){return{project_id:"",TYPE:"type",selectNode:"",timer:null,bottomOpen:"close",fixOpen:"close",fixWidth:"0px",hasWidthAnimation:!0,hideFixFlag:!0,hideBottomFlag:!0,hasTopAnimation:!0,bottomTop:"100%",node:"",dragLeft:Ur.a,dragImg:qr.a,boxHeight:" ",hasStream:0,storeHasStream:0,alertHasStream:0,spcHasStream:0,stream_id:"",source_id:"",sink_id:"",job_id:"",cepProgramId:"",type:"Job",showFixed:!1,GraphObject:"",myDiagram:"",data:{},cxElement:"",showContext:!1,left:"",top:"",program_name:"",detail:{runningStatus:0,deployStatus:0}}},methods:{init:function(){var e=this.GraphObject,t=this.myDiagram,a=(this.cxElement,this),s=e(go.Brush,"Linear",{0:"rgb(254, 201, 0)",1:"rgb(254, 162, 0)"}),r=e(go.Brush,"Linear",{0:"#98FB98",1:"#9ACD32"}),o=e(go.Brush,"Linear",{0:"#B0E0E6",1:"#87CEEB"}),n=e(go.Brush,"Linear",{0:"#C45245",1:"#871E1B"}),l=(e(go.Brush,"Linear",{0:"#F0F8FF",1:"#E6E6FA"}),e(go.Brush,"Linear",{0:"#FA8072",1:"#CD5C5C"})),c=e(go.Brush,"Linear",{0:"#48D1CC",1:"#20B2AA"}),u=(e(go.Brush,"Linear",{0:"#DDA0DD",1:"#EE82EE"}),e(go.Brush,"Linear",{0:"#97169F",1:"#97169F"})),d=e(go.Brush,"Linear",{0:"#FF7993",1:"#FF7993"}),p=e(go.Brush,"Linear",{0:"#BAD7C2",1:"#BAD7C2"}),m="bold 13pt Helvetica, Arial, sans-serif";function h(){return{margin:8,wrap:go.TextBlock.WrapFit,textAlign:"center",editable:!1,font:m}}t.addDiagramListener("ObjectSingleClicked",function(e){if(["Spc","Js","ML","Store"].indexOf(e.subject.part.data.category)>=0)return a.bottomTop="100%",a.bottomOpen="close",void(a.hideBottomFlag=!0);-1!==i()(e.subject.part.data).indexOf("from")?(a.bottomTop="100%",a.hideBottomFlag=!0):(a.timer=setTimeout(function(){"close"==a.bottomOpen?(a.bottomTop="60%",a.singleClick(e.subject.part.data),a.hideFixFlag=!1,a.fixWidth="0px",a.fixOpen="close",a.hideBottomFlag=!0,a.bottomOpen="open"):"open"==a.bottomOpen&&(a.singleClick(e.subject.part.data),a.hideFixFlag=!1,a.hideBottomFlag=!0,a.fixWidth="0px",a.fixOpen="close")},400),a.hideFixFlag=!0)}),t.addDiagramListener("ObjectDoubleClicked",function(e){clearTimeout(a.timer),a.timer=null,a.buttomOpen,a.bottomTop="100%",a.hideBottomFlag=!0;var t=e.subject.part.data.key,s=e.subject.part.data.category,r=!1,i=!1,o=!1,n=JSON.parse(a.data).linkDataArray,l=JSON.parse(a.data).nodeDataArray;n.forEach(function(e){if("Source"==s&&e.from==t){var n=e.to,c=!0,u=!1,d=void 0;try{for(var p,m=Vr()(l);!(c=(p=m.next()).done);c=!0){var h=p.value;h.key==n&&(a.hasStream=h.id,r=!0)}}catch(e){u=!0,d=e}finally{try{!c&&m.return&&m.return()}finally{if(u)throw d}}}if("Store"==s&&e.to==t){var f=e.from,g=!0,v=!1,b=void 0;try{for(var y,_=Vr()(l);!(g=(y=_.next()).done);g=!0){var x=y.value;x.key==f&&(a.storeHasStream=x.id,i=!0)}}catch(e){v=!0,b=e}finally{try{!g&&_.return&&_.return()}finally{if(v)throw b}}}if("Alert"==s&&e.to==t){var w=e.from,k=!0,T=!1,S=void 0;try{for(var L,N=Vr()(l);!(k=(L=N.next()).done);k=!0){var C=L.value;C.key==w&&(a.alertHasStream=C.id,i=!0)}}catch(e){T=!0,S=e}finally{try{!k&&N.return&&N.return()}finally{if(T)throw S}}}if("Spc"==s&&e.to==t){var D=e.from,I=!0,A=!1,F=void 0;try{for(var M,R=Vr()(l);!(I=(M=R.next()).done);I=!0){var $=M.value;$.key==D&&(a.spcHasStream=$.id,o=!0)}}catch(e){A=!0,F=e}finally{try{!I&&R.return&&R.return()}finally{if(A)throw F}}}}),r||(a.hasStream=0),i||(a.storeHasStream=0),o||(a.spcHasStream=0),a.nodeDbClick(e.subject.part.data)}),t.addDiagramListener("BackgroundSingleClicked",function(){a.bottomTop="100%",a.bottomOpen="close",a.hideBottomFlag=!0,a.myDiagram.nodes.each(function(e){e.highlight=0}),a.selectNode&&a.setHighLight(a.selectNode,0,!1),a.fixWidth="0px",a.fixOpen="close",a.hideFixFlag=!0}),t.addDiagramListener("LinkDrawn",function(e){var s=e.subject.fromNode.position,r=e.subject.toNode.position,i=e.subject.fromNode.data,o=e.subject.toNode.data,n=!0,l=JSON.parse(a.data);if(l.linkDataArray.forEach(function(e){return e.from==i.key&&e.to==o.key?(t.commandHandler.deleteSelection(),a.save(),void a.layout()):e.from==o.key&&e.to==i.key?(t.commandHandler.deleteSelection(),a.save(),void a.layout()):void 0}),"Js"==o.category&&(a.$message.warning("Js是独立的节点，不能和其他节点连接"),t.commandHandler.deleteSelection(),n=!1),"Source"==i.category&&("Stream"!==o.category?(a.$message.warning("Source节点后面只能连接Stream节点  Source--\x3eStream"),t.commandHandler.deleteSelection(),n=!1):e.subject.fromNode.linksConnected.count>1&&(a.$message.warning("Source节点只能连接一个节点"),t.commandHandler.deleteSelection(),n=!1)),"Sink"!=o.category&&"Alert"!=o.category||("Stream"!==i.category&&(t.commandHandler.deleteSelection(),n=!1),e.subject.toNode.linksConnected.count>1&&(t.commandHandler.deleteSelection(),n=!1)),"Stream"==o.category&&("Stream"==i.category?(t.commandHandler.deleteSelection(),n=!1):"Job"==i.category&&(l.linkDataArray.forEach(function(e){e.from==o.key&&e.to==i.key&&(t.commandHandler.deleteSelection(),n=!1)}),l.linkDataArray.forEach(function(e){e.to!=o.key&&e.from!=o.key||s.x>r.x&&s.y==r.y&&(t.commandHandler.deleteSelection(),n=!1)}))),"Job"==o.category)if("Job"==i.category)t.commandHandler.deleteSelection(),n=!1;else if("Stream"==i.category)l.linkDataArray.forEach(function(e){e.from==o.key&&e.to==i.key&&(t.commandHandler.deleteSelection(),n=!1)}),l.linkDataArray.forEach(function(e){e.from!=o.key&&e.to!=o.key||s.x>r.x&&s.y==r.y&&(t.commandHandler.deleteSelection(),n=!1)});else if("Table"==i.category){var c=0;l.linkDataArray.forEach(function(e){(e.from=i.key&&e.to==o.key)&&++c>2&&(t.commandHandler.deleteSelection(),n=!1)})}("Table"==o.category&&"Job"!==i.category&&(a.$message.warning("Table之前只能是Job节点 Job--\x3eTable"),t.commandHandler.deleteSelection(),n=!1),"Store"==o.category)&&("Table"!==i.category?(a.$message.warning("Store的唯一连接方式是 Table--\x3eStore"),t.commandHandler.deleteSelection(),n=!1):JSON.parse(a.data).linkDataArray.forEach(function(e){e.to==o.key&&(a.$message.warning("一个Store节点只能连接一个Table节点"),t.commandHandler.deleteSelection(),n=!1),e.from==i.key&&(a.$message.warning("一个Table只能连接一个Store节点"),t.commandHandler.deleteSelection(),n=!1)}));n?(a.cepUpdate(),a.save(),a.layout()):n=!0,a.save(),a.layout()}),t.addDiagramListener("ExternalObjectsDropped",function(e){e.subject.each(function(e){a.createNode(e.data)})}),t.addDiagramListener("ChangedSelection",function(){var e=null;function s(){a.TYPE="type";var e=t.selection.first();e?(a.selectNode=Z()({},e.data),"Source"==e.data.category?a.updateHighlights(e.data,1,!0,a.TYPE):"Sink"==e.data.category&&a.updateHighlights(e.data,1,!0,a.TYPE)):a.updateHighlights(a.selectNode,0,!0)}a.selectNode&&(e=new K.a(function(e,t){a.updateHighlights(a.selectNode,0,!1),e()})),e?e.then(function(){s()}):s()}),t.addDiagramListener("Modified",function(e){var a=document.getElementById("SaveButton");a&&(a.disabled=!t.isModified);var s=document.title.indexOf("*");t.isModified?s<0&&(document.title+="*"):s>=0&&(document.title=document.title.substr(0,s))});var f=e(go.Adornment,"Spot",e(go.Panel,"Auto",e(go.Shape,{fill:null,stroke:"dodgerblue",strokeWidth:4}),e(go.Placeholder)),e("Button",{alignment:go.Spot.BottomRight,click:this.deleteNode},new go.Binding("visible","",function(e){return!e.diagram.isReadOnly}).ofObject(),e(go.Shape,"xLine",{desiredSize:new go.Size(6,6)})));function g(e,t){var s=e.diagram;s&&!s.isReadOnly&&s.allowLink&&(e.ports.each(function(e){e.stroke=t?"white":null}),a.selectNode&&a.setHighLight(a.selectNode,1,!0,a.TYPE))}function v(){return[{mouseEnter:function(e,t){g(t.part,!0)},mouseLeave:function(e,t){g(t.part,!1)}}]}e(go.Adornment,"Spot",{background:"transparent",mouseLeave:function(e,t){t.part.adornedPart.removeAdornment("mouseHover")}},e(go.Placeholder,{background:"transparent",isActionable:!0,click:function(e,t){var a=t.part.adornedPart;a.diagram.select(a)}}),e("Button",{alignment:go.Spot.Left,alignmentFocus:go.Spot.Right},{click:function(e,t){alert("Hi!")}},e(go.TextBlock,"Hi!")),e("Button",{alignment:go.Spot.Right,alignmentFocus:go.Spot.Left},{click:function(e,t){alert("Bye")}},e(go.TextBlock,"Bye")));t.nodeTemplateMap.add("Job",e(go.Node,"Auto",v(),{selectionAdornmentTemplate:f},{},e(go.Shape,"RoundedRectangle",{name:"Job",fill:n,minSize:new go.Size(87,NaN),portId:"",toLinkable:!0,fromEndSegmentLength:20,toEndSegmentLength:20}),e(go.Panel,"Table",e(go.RowColumnDefinition,{column:1,width:4}),e(go.TextBlock,"Job",h(),new go.Binding("text","text").makeTwoWay()),e(go.TextBlock,"",{row:1,column:0},new go.Binding("text","NAME"),new go.Binding("visible","",function(e){return!e.diagram.isReadOnly}).ofObject())),a.makePort("T",go.Spot.Top,!0,!0),a.makePort("L",go.Spot.Left,!0,!0),a.makePort("R",go.Spot.Right,!0,!0),a.makePort("B",go.Spot.Bottom,!0,!0))),t.nodeTemplateMap.add("Source",e(go.Node,"Auto",v(),{selectionAdornmentTemplate:f},e(go.Shape,"RoundedRectangle",{name:"Source",fill:o,portId:"",fromEndSegmentLength:20}),e(go.Panel,"Table",e(go.RowColumnDefinition,{column:1,width:4}),e(go.TextBlock,"Source",h(),new go.Binding("text","text").makeTwoWay()),e(go.TextBlock,"",{row:1,column:0},new go.Binding("text","NAME"),new go.Binding("visible","",function(e){return!e.diagram.isReadOnly}).ofObject())),a.makePort("T",go.Spot.Top,!0,!1),a.makePort("L",go.Spot.Left,!0,!1),a.makePort("R",go.Spot.Right,!0,!1),a.makePort("B",go.Spot.Bottom,!0,!1))),t.nodeTemplateMap.add("Sink",e(go.Node,"Auto",{selectionAdornmentTemplate:f},{linkDisconnected:function(e,s,r){t.commandHandler.deleteSelection(),a.cepUpdate(),a.save(),a.layout()}},new go.Binding("location","loc",go.Point.parse).makeTwoWay(go.Point.stringify),e(go.Shape,"RoundedRectangle",{name:"Sink",fill:r,minSize:new go.Size(87,NaN),portId:"",toLinkable:!0,toEndSegmentLength:20}),e(go.Panel,"Table",e(go.RowColumnDefinition,{column:1,width:4}),e(go.TextBlock,"Sink",h(),new go.Binding("text","text").makeTwoWay()),e(go.TextBlock,"name",{row:1,column:0},new go.Binding("text","NAME"),new go.Binding("visible","",function(e){return!e.diagram.isReadOnly}).ofObject())))),t.nodeTemplateMap.add("Stream",e(go.Node,"Auto",v(),{selectionAdornmentTemplate:f},{linkDisconnected:function(e,s,r){t.commandHandler.deleteSelection(),a.cepUpdate(),a.save(),a.layout()}},e(go.Shape,"RoundedRectangle",{name:"Stream",fill:s,portId:"",toLinkable:!0,toEndSegmentLength:20,fromEndSegmentLength:20}),e(go.Panel,"Table",e(go.RowColumnDefinition,{column:1,width:4}),e(go.TextBlock,"Stream",h(),new go.Binding("text","text").makeTwoWay()),e(go.TextBlock,"name",{row:1,column:0},new go.Binding("text","NAME"),new go.Binding("visible","",function(e){return!e.diagram.isReadOnly}).ofObject())),a.makePort("T",go.Spot.Top,!0,!0),a.makePort("L",go.Spot.Left,!0,!0),a.makePort("R",go.Spot.Right,!0,!0),a.makePort("B",go.Spot.Bottom,!0,!0))),t.nodeTemplateMap.add("ML",e(go.Node,"Auto",v(),{selectionAdornmentTemplate:f},{linkDisconnected:function(e,s,r){t.commandHandler.deleteSelection(),a.cepUpdate(),a.save(),a.layout()}},e(go.Shape,"RoundedRectangle",{name:"ML",fill:l,minSize:new go.Size(87,NaN),portId:"",toLinkable:!0,toEndSegmentLength:20,fromEndSegmentLength:20}),e(go.Panel,"Table",e(go.RowColumnDefinition,{column:1,width:4}),e(go.TextBlock,"机器学习",h(),new go.Binding("text","text").makeTwoWay()),e(go.TextBlock,"name",{row:1,column:0},new go.Binding("text","NAME"),new go.Binding("visible","",function(e){return!e.diagram.isReadOnly}).ofObject())),a.makePort("T",go.Spot.Top,!0,!0),a.makePort("L",go.Spot.Left,!0,!0),a.makePort("R",go.Spot.Right,!0,!0),a.makePort("B",go.Spot.Bottom,!0,!0))),t.nodeTemplateMap.add("Store",e(go.Node,"Auto",v(),{selectionAdornmentTemplate:f},{linkDisconnected:function(e,s,r){a.storeHasStream=0,t.commandHandler.deleteSelection(),a.cepUpdate(),a.save(),a.layout()}},e(go.Shape,"RoundedRectangle",{name:"Store",fill:c,minSize:new go.Size(87,NaN),portId:"",toLinkable:!0,toEndSegmentLength:20,fromEndSegmentLength:20}),e(go.Panel,"Table",e(go.RowColumnDefinition,{column:1,width:4}),e(go.TextBlock,"Store",h(),new go.Binding("text","text").makeTwoWay()),e(go.TextBlock,"name",{row:1,column:0},new go.Binding("text","NAME"),new go.Binding("visible","",function(e){return!e.diagram.isReadOnly}).ofObject())))),t.nodeTemplateMap.add("Table",e(go.Node,"Auto",v(),{selectionAdornmentTemplate:f},{linkDisconnected:function(e,s,r){a.storeHasStream=0,t.commandHandler.deleteSelection(),a.cepUpdate(),a.save(),a.layout()}},e(go.Shape,"RoundedRectangle",{name:"Table",fill:u,minSize:new go.Size(87,NaN),portId:"",toLinkable:!0,toEndSegmentLength:20,fromEndSegmentLength:20}),e(go.Panel,"Table",e(go.RowColumnDefinition,{column:1,width:4}),e(go.TextBlock,"Table",h(),new go.Binding("text","text").makeTwoWay()),e(go.TextBlock,"name",{row:1,column:0},new go.Binding("text","NAME"),new go.Binding("visible","",function(e){return!e.diagram.isReadOnly}).ofObject())),a.makePort("T",go.Spot.Top,!0,!0),a.makePort("L",go.Spot.Left,!0,!0),a.makePort("R",go.Spot.Right,!0,!0),a.makePort("B",go.Spot.Bottom,!0,!0))),t.nodeTemplateMap.add("Spc",e(go.Node,"Auto",v(),{selectionAdornmentTemplate:f},{linkDisconnected:function(e,s,r){a.storeHasStream=0,t.commandHandler.deleteSelection(),a.cepUpdate(),a.save(),a.layout()}},e(go.Shape,"RoundedRectangle",{name:"SPC",fill:d,minSize:new go.Size(87,NaN),portId:"",toLinkable:!0,toEndSegmentLength:20,fromEndSegmentLength:20}),e(go.Panel,"Table",e(go.RowColumnDefinition,{column:1,width:4}),e(go.TextBlock,"SPC",h(),new go.Binding("text","text").makeTwoWay()),e(go.TextBlock,"name",{row:1,column:0},new go.Binding("text","NAME"),new go.Binding("visible","",function(e){return!e.diagram.isReadOnly}).ofObject())))),t.nodeTemplateMap.add("Js",e(go.Node,"Auto",v(),{selectionAdornmentTemplate:f},{linkDisconnected:function(e,s,r){t.commandHandler.deleteSelection(),a.cepUpdate(),a.save(),a.layout()}},e(go.Shape,"RoundedRectangle",{name:"JS",fill:p,minSize:new go.Size(87,NaN),portId:"",toLinkable:!0,toEndSegmentLength:20,fromEndSegmentLength:20}),e(go.Panel,"Table",e(go.RowColumnDefinition,{column:1,width:4}),e(go.TextBlock,"JS",h(),new go.Binding("text","text").makeTwoWay()),e(go.TextBlock,"name",{row:1,column:0},new go.Binding("text","NAME"),new go.Binding("visible","",function(e){return!e.diagram.isReadOnly}).ofObject())))),t.linkTemplate=e(go.Link,{curve:go.Link.Bezier,toShortLength:15,selectable:!0},new go.Binding("curviness","curviness"),{relinkableTo:!0},e(go.Shape,{stroke:"#2F4F4F",strokeWidth:2}),e(go.Shape,{toArrow:"kite",fill:"#2F4F4F",stroke:null,scale:2}));e(go.Palette,"myPaletteDiv",{scrollsPageOnFocus:!1,nodeTemplateMap:t.nodeTemplateMap,model:new go.GraphLinksModel([{category:"Stream",text:"Stream"},{category:"Source",text:"Source"},{category:"Sink",text:"Sink"},{category:"Job",text:"Job"},{category:"Store",text:"Store"},{category:"Table",text:"Table"},{category:"Js",text:"Js"}])});this.load(),this.layout()},load:function(){this.myDiagram.model=go.Model.fromJson(this.data)},save:function(){this.data=this.myDiagram.model.toJson(),this.myDiagram.isModified=!1},layout:function(){this.myDiagram.layoutDiagram(!0)},addNodeAndLink:function(e,t){var a=t.part;if(null!==a){e.handled=!0;var s=a.diagram;s.startTransaction("Add State");var r=a.adornedPart,i=r.data,o={text:"new"},n=r.location;o.loc=n.x+200+" "+n.y;var l=s.model;l.addNodeData(o);var c={};c[l.linkFromKeyProperty]=l.getKeyForNodeData(i),c[l.linkToKeyProperty]=l.getKeyForNodeData(o),l.addLinkData(c);var u=s.findNodeForData(o);s.select(u),s.commitTransaction("Add State")}},deleteNode:function(e,t){var a=this;a.hideBottomFlag=!0;var s,r=t.part.adornedPart.data;if(null!==t.part.adornedPart){if(this.myDiagram.commandHandler.deleteSelection(),"Source"==r.category){var i={};i.cepSourceId=r.id,(s=i,pe({url:"piping/gateway/cep/source/delete",method:"post",params:s})).then(function(e){200==e.code?(a.$message({message:e.message,type:"success"}),a.cepUpdate(),a.layout()):a.$message({message:e.message,type:"error"})})}if("Stream"==r.category){var o={};o.cepStreamId=r.id,function(e){return pe({url:"piping/gateway/cep/stream/delete",method:"post",params:e})}(o).then(function(e){200==e.code?(a.$message({message:e.message,type:"success"}),a.cepUpdate(),a.layout()):a.$message({message:e.message,type:"error"})})}if("Sink"==r.category){var n={};n.cepSinkId=r.id,function(e){return pe({url:"piping/gateway/cep/sink/delete",method:"post",params:e})}(n).then(function(e){200==e.code?(a.$message({message:e.message,type:"success"}),a.cepUpdate(),a.layout()):a.$message({message:e.message,type:"error"})})}if("Job"==r.category){var l={};l.cepJobId=r.id,function(e){return pe({url:"piping/gateway/cep/job/delete",method:"post",params:e})}(l).then(function(e){200==e.code?(a.$message({message:e.message,type:"success"}),a.cepUpdate(),a.layout()):a.$message({message:e.message,type:"error"})})}if("Store"==r.category){var c={};c.cepStoreId=r.id,function(e){return pe({url:"piping/gateway/cep/store/delete",method:"post",params:e})}(c).then(function(e){200==e.code?(a.$message({message:e.message,type:"success"}),a.cepUpdate(),a.layout()):a.$message({message:e.message,type:"error"})})}if("Alert"==r.category){var u={};u.cepAlertId=r.id,function(e){return pe({url:"1/cep/alert/destroy",method:"post",data:e})}(u).then(function(e){200==e.code?(a.$message({message:e.message,type:"success"}),a.cepUpdate(),a.layout()):a.$message({message:e.message,type:"error"})})}if("Table"==r.category){var d={};d.cepTableId=r.id,function(e){return pe({url:"piping/gateway/cep/table/delete",method:"post",params:e})}(d).then(function(e){200==e.code?(a.$message({message:e.message,type:"success"}),a.cepUpdate(),a.layout()):a.$message({message:e.message,type:"error"})})}if("Spc"==r.category){var p={};p.cepSpcId=r.id,function(e){return pe({url:"piping/gateway/cep/spc/delete",method:"post",params:e})}(p).then(function(e){200==e.code?(a.$message({message:e.message,type:"success"}),a.cepUpdate(),a.layout()):a.$message({message:e.message,type:"error"})})}if("Js"==r.category){var m={};m.cepJsId=r.id,function(e){return pe({url:"piping/gateway/cep/js/delete",method:"post",params:e})}(m).then(function(e){200==e.code?(a.$message({message:e.message,type:"success"}),a.cepUpdate(),a.layout()):a.$message({message:e.message,type:"error"})})}}},deleteNodeFromNodeOrder:function(){var e;e=JSON.parse(this.data).nodeDataArray.filter(function(e){return e.id}),JSON.parse(this.data).nodeDataArray=e},nodeDbClick:function(e){var t=this;if(t.node=e,t.hideFixFlag=!1,"Store"==e.category){if(0==t.storeHasStream)return"open"==t.fixOpen&&(t.fixWidth="0px",t.fixOpen="close"),void t.$message.warning("请先创建一个该Store和Table的连接  Table->Store");t.fixOpen="open",t.fixWidth="500px"}else if("Spc"==e.category){if(0==t.spcHasStream)return"open"==t.fixOpen&&(t.fixWidth="0px",t.fixOpen="close"),void t.$message.warning("请先创建一个该Spc和Stream的连接  Stream->Spc");t.fixOpen="open",t.fixWidth="500px"}else t.fixOpen="open",t.fixWidth="500px";if(e.category){this.type=e.category;var a=e.category;"Source"==e.category?t.$refs.source.$emit("source",{source:e.id,stream:t.hasStream}):"Store"==e.category?t.$refs.store.$emit("store",{storeId:e.id,streamId:t.storeHasStream}):"Alert"==e.category?t.$refs.alert.$emit("alert",{alertId:e.id,streamId:t.alertHasStream}):"Spc"==e.category?t.$refs.spc.$emit("spc",{spcId:e.id,streamId:t.spcHasStream}):function(a){t.$refs[a.toLowerCase()].$emit(a.toLowerCase(),e.id)}(a)}},changeNodeName:function(e,t){this.myDiagram.model.startTransaction("increment"),this.myDiagram.model.setDataProperty(e,"NAME",t),this.myDiagram.model.commitTransaction("increment")},showSmallPorts:function(e,t){e.ports.each(function(e){""!==e.portId&&(e.fill=t?"rgba(0,0,0,.3)":null)})},makePort:function(e,t,a,s){return this.GraphObject(go.Shape,"Circle",{fill:"transparent",stroke:null,desiredSize:new go.Size(9,9),alignment:t,alignmentFocus:t,portId:e,fromSpot:t,toSpot:t,fromLinkable:a,toLinkable:s,cursor:"pointer"})},createNode:function(e){var t={},a=this,s=0,r=[];if(JSON.parse(a.data).nodeDataArray.forEach(function(t){t.category==e.category&&r.push(t)}),0==r.length)s=1;else{var i=r.sort(Object(Me.firstBy)(function(e){return e.id})).slice(-1);s=Number(i[0].NAME.slice(e.category.length))+1}t["cep"+e.category+"Name"]=e.category+s,t.cepProgramId=a.cepProgramId,"Source"==e.category&&function(e){return pe({url:"piping/gateway/cep/source/add",method:"post",data:e})}(t).then(function(t){200==t.code?(a.$message.success(t.message),e.id=t.data.cepSourceId,a.changeNodeName(e,t.data.cepSourceName),a.cepUpdate()):(a.deleteNodeFromNodeOrder(),a.$message.error(t.message))}),"Stream"==e.category&&function(e){return pe({url:"piping/gateway/cep/stream/add",method:"post",data:e})}(t).then(function(t){200==t.code?(a.$message.success(t.message),e.id=t.data.cepStreamId,a.changeNodeName(e,t.data.cepStreamName),a.cepUpdate()):(a.deleteNodeFromNodeOrder(),a.$message.error(t.message))}),"Sink"==e.category&&function(e){return pe({url:"piping/gateway/cep/sink/add",method:"post",data:e})}(t).then(function(t){200==t.code?(a.$message.success(t.message),e.id=t.data.cepSinkId,a.changeNodeName(e,t.data.cepSinkName),a.cepUpdate()):(a.deleteNodeFromNodeOrder(),a.$message.error(t.message))}),"Job"==e.category&&function(e){return pe({url:"piping/gateway/cep/job/add",method:"post",data:e})}(t).then(function(t){200==t.code?(a.$message.success(t.message),e.id=t.data.cepJobId,a.changeNodeName(e,t.data.cepJobName),a.cepUpdate()):(a.deleteNodeFromNodeOrder(),a.$message.error(t.message))}),"Store"==e.category&&function(e){return pe({url:"piping/gateway/cep/store/add",method:"post",data:e})}(t).then(function(t){200==t.code?(a.$message.success(t.message),e.id=t.data.cepStoreId,a.changeNodeName(e,t.data.cepStoreName),a.cepUpdate()):(a.deleteNodeFromNodeOrder(),a.$message.error(t.message))}),"Alert"==e.category&&function(e){return pe({url:"1/cep/alert/create",method:"post",data:e})}(t).then(function(t){200==t.code?(a.$message.success(t.message),e.id=t.data.cepAlertId,a.changeNodeName(e,t.data.cepAlertName),a.cepUpdate()):(a.deleteNodeFromNodeOrder(),a.$message.error(t.message))}),"Table"==e.category&&function(e){return pe({url:"piping/gateway/cep/table/add",method:"post",data:e})}(t).then(function(t){200==t.code?(a.$message.success(t.message),e.id=t.data.cepTableId,a.changeNodeName(e,t.data.cepTableName),a.cepUpdate()):(a.deleteNodeFromNodeOrder(),a.$message.error(t.message))}),"Spc"==e.category&&function(e){return pe({url:"piping/gateway/cep/spc/add",method:"post",data:e})}(t).then(function(t){200==t.code?(a.$message.success(t.message),e.id=t.data.cepSpcId,a.changeNodeName(e,t.data.cepSpcName),a.cepUpdate()):(a.deleteNodeFromNodeOrder(),a.$message.error(t.message))}),"Js"==e.category&&function(e){return pe({url:"piping/gateway/cep/js/add",method:"post",data:e})}(t).then(function(t){200==t.code?(a.$message.success(t.message),e.id=t.data.cepJsId,a.changeNodeName(e,t.data.cepJsName),a.cepUpdate()):(a.deleteNodeFromNodeOrder(),a.$message.error(t.message))})},cepUpdate:function(){var e={},t=this;e.cepProgramId=t.cepProgramId,e.nodeOrder=t.myDiagram.model.toJson(),qs(e).then(function(e){200!==e.code?t.$message.error(e.message):t.save()})},cepDetail:function(e){var t={},a=this;t.cepProgramId=a.cepProgramId,Bs(t).then(function(t){if(200==t.code){if(a.detail=t.data,t.data.nodeOrder){var s=JSON.parse(t.data.nodeOrder);a.data=ns()(s)}else a.data='{"class": "go.GraphLinksModel","nodeDataArray":[],"linkDataArray":[]}';if(e){a.data=JSON.parse(a.data);var r=e.streamAndClumn,i=e.sourceAndHttp,o={category:"Stream",text:"Stream",key:r.cepStreamId+"s",id:r.cepStreamId,NAME:r.cepStreamName},n={category:"Source",text:"Source",key:i.cepSourceId+"o",id:i.cepSourceId,NAME:i.cepSourceName};a.data.nodeDataArray.push(o),a.data.nodeDataArray.push(n),a.data.linkDataArray.push({from:i.cepSourceId+"o",to:r.cepStreamId+"s"}),a.load(),a.layout(),a.save(),a.cepUpdate(),a.$refs.Header.$emit("showDeviceList")}else a.init()}else a.$message.error(t.message)})},showContextMenu:function(e,t,a){t.commandHandler;this.showContext=!0;var s=t.lastInput.viewPoint;this.left=s.x+"px",this.top=s.y+"px"},cxcommand:function(e,t){void 0===t&&(t=e.currentTarget.id);var a=this.myDiagram;switch(t){case"delete":a.commandHandler.deleteSelection()}a.currentTool.stopTool()},changeHeight:function(){function e(e){return document.getElementById(e)}var t=this,a=t.ClientHeight();t.boxHeight=a-47+"px";var s=e("box"),r=e("bottom"),i=e("line");i.onmousedown=function(e){t.hasTopAnimation=!1;var o=(e||event).clientY;return i.top=i.offsetTop,document.onmousemove=function(e){var t=i.top+((e||event).clientY-o),a=s.clientHeight-i.offsetHeight;return i.style.margin=0,t<0&&(t=0),t>a&&(t=a),i.style.top=r.style.top=t+"px",!1},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null,t.hasTopAnimation=!0,t.bottomTop=r.style.top/(a-120)*100+"%",i.releaseCapture&&i.releaseCapture()},i.setCapture&&i.setCapture(),!1},i.ontouchstart=function(e){t.hasTopAnimation=!1;var o=(e||event).clientY;return i.top=i.offsetTop,document.ontouchmove=function(e){var t=i.top+((e||event).clientY-o),a=s.clientHeight-i.offsetHeight;return i.style.margin=0,t<0&&(t=0),t>a&&(t=a),i.style.top=r.style.top=t+"px",!1},document.ontouchend=function(){document.onmousemove=null,document.onmouseup=null,t.hasTopAnimation=!0,t.bottomTop=r.style.top/(a-120)*100+"%",i.releaseCapture&&i.releaseCapture()},i.setCapture&&i.setCapture(),!1}},changeWidth:function(){function e(e){return document.getElementById(e)}var t=this,a=e("Fixed"),s=e("dragLeft");t.clientWidth();s.onmousedown=function(e){t.hasWidthAnimation=!1;var r=e||event,i=r.clientX,o=(r.clientY,a.offsetWidth),n=(a.offsetHeight,a.offsetLeft+a.offsetWidth);a.offsetHeight,a.offsetTop;return document.onmousemove=function(e){var t=e||event;return a.style.width=o-(t.clientX-i)+"px",a.offsetWidth<=10&&(a.style.width="10px",a.style.left=n-a.offsetWidth+"px"),!1},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null,t.fixWidth=o-(r.clientX-i)+"px",t.hasWidthAnimation=!0,s.releaseCapture&&s.releaseCapture()},s.setCapture&&s.setCapture(),!1}},ClientHeight:function(){var e=void 0;return window.innerHeight?e=window.innerHeight:document.body&&document.body.clientHeight&&(e=document.body.clientHeight),document.documentElement&&document.documentElement.clientHeight&&(e=document.documentElement.clientHeight),e},clientWidth:function(){var e=void 0;return window.innerWidth?e=window.innerWidth:document.body&&document.body.clientWidth&&(e=document.body.clientWidth),document.documentElement&&document.documentElement.clientWidth&&(e=document.documentElement.clientWidth),e},changeNameFromForm:function(e){this.changeNodeName(this.node,e)},updateHighlights:function(e,t,a,s){this.myDiagram.nodes.each(function(e){e.highlight=0}),this.myDiagram.links.each(function(e){e.highlight=0}),this.setHighLight(e,t,a,s)},setHighLight:function(e,t,a,s){var r=this;if("Source"==e.category){var i=e.key,o="",n=[];if(r.data){var l=JSON.parse(r.data);l.linkDataArray.length>0&&(l.linkDataArray.forEach(function(e){e.from==i&&(o=e.to)}),o.toString().length>0&&l.linkDataArray.forEach(function(e){o==e.to&&e.from!==i&&n.push(e.from)})),n.length>0&&ai({cepSourceId:e.id}).then(function(i){0==i.code&&("type"==s?i.data.cepSourceType&&r.myDiagram.nodes.each(function(a,s){if(a.data.category==e.category&&-1!==n.indexOf(a.data.key,0)){var o=a.findObject(e.category);ai({cepSourceId:a.data.id}).then(function(e){if(200==e.code&&i.data.cepSourceType==e.data.cepSourceType){var s=a.highlight=t;r.highlight(o,s)}})}}):"format"==s?i.data.message_format&&r.myDiagram.nodes.each(function(a,s){if(a.data.category==e.category&&-1!==n.indexOf(a.data.key,0)){var o=a.findObject(e.category);ai({cepSourceId:a.data.id}).then(function(e){if(200==e.code)if(e.data.cepSourceType==i.data.cepSourceType){if(i.data.message_format==e.data.message_format){var s=a.highlight=t;r.highlight(o,s)}}else{s=a.highlight=0;r.highlight(o,s)}})}}):r.myDiagram.nodes.each(function(s,i){if(s.data.category==e.category&&-1!==n.indexOf(s.data.key,0)){var o=s.findObject(e.category),l=s.highlight=t;r.highlight(o,l)}a&&(r.selectNode=null)}))})}}else if("Sink"==e.category){var c=e.key,u="",d=[],p=this;if(p.data){var m=JSON.parse(p.data);m.linkDataArray.length>0&&(m.linkDataArray.forEach(function(e){e.to==c&&(u=e.from)}),u.toString().length>0&&m.linkDataArray.forEach(function(e){e.from==u&&e.to!==c&&d.push(e.to)})),d.length>0&&ui({cepSinkId:e.id}).then(function(r){0==r.code&&("type"==s?r.data.cep_sink_type&&p.myDiagram.nodes.each(function(a,s){if(a.data.category==e.category&&-1!==d.indexOf(a.data.key,0)){var i=a.findObject(e.category);ui({cepSinkId:a.data.id}).then(function(e){if(0==e.code&&r.data.cep_sink_type==e.data.cep_sink_type){var s=a.highlight=t;p.highlight(i,s)}})}}):"format"==s?r.data.message_format&&p.myDiagram.nodes.each(function(a,s){if(a.data.category,e.category,a.data.category==e.category&&-1!==d.indexOf(a.data.key,0)){var i=a.findObject(e.category);ui({cepSinkId:a.data.id}).then(function(e){if(0==e.code)if(e.data.cep_sink_type==r.data.cep_sink_type){if(r.data.message_format==e.data.message_format){var s=a.highlight=t;p.highlight(i,s)}}else{s=a.highlight=0;p.highlight(i,s)}})}}):p.myDiagram.nodes.each(function(s,r){if(s.data.category==e.category&&-1!==d.indexOf(s.data.key,0)){var i=s.findObject(e.category),o=s.highlight=t;p.highlight(i,o)}a&&(p.selectNode=null)}))})}}},highlight:function(e,t){var a,s=4;0==t?(a="black",s=1):a=1==t?"#1E90FF":2==t?"green":3==t?"orange":4==t?"red":"purple",e&&(e.stroke=a,e.strokeWidth=s)},singleClick:function(e){this.$refs.bottom.$emit("Stats",e)},judgeType:function(){},switchType:function(){this.TYPE="type";var e,t=this;(e=Aa()(Da.a.mark(function e(){return Da.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setHighLight(t.selectNode,0,!1);case 2:return e.next=4,t.setHighLight(t.selectNode,1,!1,"type");case 4:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})()},switchFormat:function(){this.TYPE="format";var e,t=this;(e=Aa()(Da.a.mark(function e(){return Da.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setHighLight(t.selectNode,0,!1);case 2:return e.next=4,t.setHighLight(t.selectNode,1,!1,"format");case 4:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})()},arduinoCreate:function(e){var t=this;if(t.data&&i()(t.data).length>0){var a=[],s=[];if(JSON.parse(t.data).nodeDataArray.forEach(function(e){"Source"==e.category&&a.push(e.NAME),"Stream"==e.category&&s.push(e.NAME)}),a.length>0&&-1!==a.indexOf(e.row.device_name))return void t.$message({message:"sourceName: "+e.row.device_name+" 重复，请修改",type:"error"});if(s.length>0&&-1!==s.indexOf(e.row.stream_name))return void t.$message({message:"streamName: "+e.row.stream_name+" 重复，请修改",type:"error"});(function(e){return pe({url:"1/cep/arduino/create",method:"post",data:e})})({cepProgramId:t.cepProgramId,device_id:e.row.device_id}).then(function(e){200==e.code?t.cepDetail(e.data):t.$message.error(e.message)})}},getEmptyNodeIndex:function(e){var t=void 0;return e.length>0&&e.forEach(function(e,a){e.id||(t=a)}),t}},mounted:function(){this.changeHeight(),this.changeWidth(),this.cepProgramId=this.$route.params.cep_id;var e=go.GraphObject.make,t=e(go.Diagram,"myDiagramDiv",{"toolManager.mouseWheelBehavior":go.ToolManager.WheelZoom,allowDrop:!0,initialAutoScale:go.Diagram.Uniform,"linkingTool.direction":go.LinkingTool.ForwardsOnly,initialContentAlignment:go.Spot.Top,layout:e(go.LayeredDigraphLayout,{isInitial:!1,isOngoing:!1,layerSpacing:60,columnSpacing:20}),"undoManager.isEnabled":!0,maxSelectionCount:1,"draggingTool.dragsLink":!0});this.GraphObject=e,this.myDiagram=t,this.cepDetail()},beforeRouteLeave:function(e,t,a){this.$refs.bottom.$emit("clearTimer"),a()}},Wi={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-header",{ref:"Header",attrs:{cepDetail:e.detail},on:{arduinoCreate:e.arduinoCreate}}),e._v(" "),a("div",{style:{height:e.boxHeight},attrs:{id:"box"}},[e._m(0),e._v(" "),a("div",{class:{topAnimation:e.hasTopAnimation},staticStyle:{"overflow-y":"auto"},style:{top:e.bottomTop},attrs:{id:"bottom"}},[a("v-bottom",{ref:"bottom",on:{type:e.switchType,format:e.switchFormat}})],1),e._v(" "),a("div",{class:{topAnimation:e.hasTopAnimation},style:{top:e.bottomTop},attrs:{id:"line"}},[a("span",[a("img",{attrs:{src:e.dragImg}})])])]),e._v(" "),a("div",{staticClass:"fixed",class:{widthAnimation:e.hasWidthAnimation},staticStyle:{overflow:"auto"},style:{width:e.fixWidth},attrs:{id:"Fixed"}},[a("div",{staticClass:"closeFixed",staticStyle:{"z-index":"1"},attrs:{id:"dragLeft"}},[a("img",{attrs:{src:e.dragLeft}})]),e._v(" "),a("div",{staticClass:"m-t",staticStyle:{"z-index":"2"}},[a("v-job",{directives:[{name:"show",rawName:"v-show",value:"Job"==e.type,expression:"type=='Job'"}],ref:"job",on:{changeName:e.changeNameFromForm,cepUpdate:e.cepUpdate}}),e._v(" "),a("v-source",{directives:[{name:"show",rawName:"v-show",value:"Source"==e.type,expression:"type=='Source'"}],ref:"source",attrs:{hasStream:e.hasStream},on:{changeName:e.changeNameFromForm,cepUpdate:e.cepUpdate}}),e._v(" "),a("v-sink",{directives:[{name:"show",rawName:"v-show",value:"Sink"==e.type,expression:"type=='Sink'"}],ref:"sink",on:{changeName:e.changeNameFromForm,cepUpdate:e.cepUpdate}}),e._v(" "),a("v-stream",{directives:[{name:"show",rawName:"v-show",value:"Stream"==e.type,expression:"type=='Stream'"}],ref:"stream",on:{changeName:e.changeNameFromForm,cepUpdate:e.cepUpdate}}),e._v(" "),a("v-store",{directives:[{name:"show",rawName:"v-show",value:"Store"==e.type,expression:"type=='Store'"}],ref:"store",attrs:{storeHasStream:e.storeHasStream},on:{changeName:e.changeNameFromForm,cepUpdate:e.cepUpdate}}),e._v(" "),a("v-alert",{directives:[{name:"show",rawName:"v-show",value:"Alert"==e.type,expression:"type=='Alert'"}],ref:"alert",attrs:{alertHasStream:e.alertHasStream},on:{changeName:e.changeNameFromForm,cepUpdate:e.cepUpdate}}),e._v(" "),a("v-table",{directives:[{name:"show",rawName:"v-show",value:"Table"==e.type,expression:"type=='Table'"}],ref:"table",on:{changeName:e.changeNameFromForm,cepUpdate:e.cepUpdate}}),e._v(" "),a("v-spc",{directives:[{name:"show",rawName:"v-show",value:"Spc"==e.type,expression:"type=='Spc'"}],ref:"spc",on:{changeName:e.changeNameFromForm,cepUpdate:e.cepUpdate}}),e._v(" "),a("v-js",{directives:[{name:"show",rawName:"v-show",value:"Js"==e.type,expression:"type=='Js'"}],ref:"js",on:{changeName:e.changeNameFromForm,cepUpdate:e.cepUpdate}})],1)])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"top"}},[t("div",{staticStyle:{width:"100%",height:"100%",overflow:"hidden",border:"none"}},[t("div",{staticClass:"text-center",staticStyle:{background:"whitesmoke",width:"100px","border-right":"1px solid #ccc",float:"left","margin-bottom":"-1000px","padding-bottom":"1000px"},attrs:{id:"myPaletteDiv"}}),this._v(" "),t("div",{staticStyle:{"margin-bottom":"-1000px","padding-bottom":"1000px","margin-left":"100px"},attrs:{id:"myDiagramDiv"}})])])}]};var Ji=a("/Xao")(Xi,Wi,!1,function(e){a("/FN8")},"data-v-6e97cc2b",null).exports,Yi=(te.a.CancelToken.source(),te.a.create({baseURL:"http://192.168.0.149:8081/",timeout:36e5,widthCredentials:!1}));Yi.interceptors.request.use(function(e){return e},function(e){K.a.reject(e)}),Yi.interceptors.response.use(function(e){var t=e.data;return 401==t.code?(fn.push("/login"),location.reload(),K.a.reject(t)):t},function(e){return K.a.reject(e)});var Zi=Yi;function Qi(e){return Zi({url:"jobs/"+e.jid,method:"get"})}var Ki={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",e._l(e.tasks,function(t,s,r){return a("span",{key:s+r+t,style:{background:e.color[s]}},[e._v("\r\n                   "+e._s(t)+"\r\n                ")])}))},staticRenderFns:[]};var eo=a("/Xao")({props:["tasks"],data:function(){return{color:{FAILED:"#F56C6C",SCHEDULED:"#C0C4CC",CREATED:"#C0C4CC",CANCELING:"#C0C4CC",CANCELED:"#E6A23C",FINISHED:"#67C23A",RECONCILING:"#C0C4CC",RUNNING:"#409EFF",DEPLOYING:"#C0C4CC"}}}},Ki,!1,function(e){a("YCsv")},"data-v-22d392e6",null).exports,to={components:{"v-task":eo},data:function(){return{overviewList:[{type:"运行中",value:0,color:"primary"},{type:"结束",value:0,color:"success"},{type:"取消",value:0,color:"warning"},{type:"失败",value:0,color:"danger"}],RUNNING:[],FINISHED:[],interval:null}},methods:{getOverview:function(){var e=this;Zi({url:"overview",method:"get"}).then(function(t){e.overviewList[0].value=t["jobs-running"],e.overviewList[1].value=t["jobs-finished"],e.overviewList[2].value=t["jobs-cancelled"],e.overviewList[3].value=t["jobs-failed"]})},getJob:function(){var e=this;Zi({url:"jobs",method:"get"}).then(function(t){t.jobs.length>0&&t.jobs.forEach(function(t){e.getJobById(t.id)})})},getJobById:function(e){var t=this;Qi({jid:e}).then(function(e){"RUNNING"==e.state?t.RUNNING.push(e):t.FINISHED.push(e)})},toDetail:function(e,t,a){this.$router.push("/jobs/"+e.jid)},Interval:function(){var e=this;this.interval=setInterval(function(){e.getOverview(),e.getJob()},2e3)}},created:function(){this.getOverview(),this.getJob()},beforeDestroy:function(){clearInterval(this.interval),this.interval=null}},ao={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"Box"},[a("div",{staticClass:"title"},[e._v("工作总数")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{size:"mini","show-header":!1,data:e.overviewList}},[a("el-table-column",{attrs:{prop:"type",label:"运行状态",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"value",label:"数量",align:"right",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:t.row.color,circle:""}},[e._v(e._s(t.row.value))])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"Box m-t Jobs"},[a("div",{staticClass:"title"},[e._v("运行工作")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{size:"mini",data:e.RUNNING}},[a("el-table-column",{attrs:{prop:"start-time",label:"开始时间",align:"left",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("unixTime")(t.row["start-time"],!0))+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"end-time",label:"结束时间",align:"left",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("unixTime")(t.row["end-time"],!0))+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"duration",label:"持续时间",align:"left",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row.duration/1e3+"s")+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"项目名称",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"jid",label:"项目ID",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tasks",label:"任务",align:"left"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("v-task",{attrs:{tasks:e.row["status-counts"]}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"state",label:"状态",align:"left",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:"RUNNING"==t.row.state,expression:"scope.row.state=='RUNNING'"}],attrs:{size:"mini",type:"primary"}},[e._v(e._s(t.row.state))]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"FAILED"==t.row.state,expression:"scope.row.state=='FAILED'"}],attrs:{size:"mini",type:"danger"}},[e._v(e._s(t.row.state))]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"CANCELLED"==t.row.state,expression:"scope.row.state=='CANCELLED'"}],attrs:{size:"mini",type:"warning"}},[e._v(e._s(t.row.state))]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"FINISHED"==t.row.state,expression:"scope.row.state=='FINISHED'"}],attrs:{size:"mini",type:"success"}},[e._v(e._s(t.row.state))])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"Box m-t Jobs"},[a("div",{staticClass:"title"},[e._v("完成工作")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{size:"mini",data:e.FINISHED},on:{"row-click":e.toDetail}},[a("el-table-column",{attrs:{prop:"start-time",label:"开始时间",align:"left",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("unixTime")(t.row["start-time"],!0))+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"end-time",label:"结束时间",align:"left",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("unixTime")(t.row["end-time"],!0))+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"duration",label:"持续时间",align:"left",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row.duration/1e3+"s")+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"项目名称",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"jid",label:"项目ID",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tasks",label:"任务",align:"left"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("v-task",{attrs:{tasks:e.row["status-counts"]}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"state",label:"状态",align:"left",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:"RUNNING"==t.row.state,expression:"scope.row.state=='RUNNING'"}],attrs:{size:"mini",type:"primary"}},[e._v(e._s(t.row.state))]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"FAILED"==t.row.state,expression:"scope.row.state=='FAILED'"}],attrs:{size:"mini",type:"danger"}},[e._v(e._s(t.row.state))]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"CANCELLED"==t.row.state,expression:"scope.row.state=='CANCELLED'"}],attrs:{size:"mini",type:"warning"}},[e._v(e._s(t.row.state))]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"FINISHED"==t.row.state,expression:"scope.row.state=='FINISHED'"}],attrs:{size:"mini",type:"success"}},[e._v(e._s(t.row.state))])]}}])})],1)],1)])},staticRenderFns:[]};var so=a("/Xao")(to,ao,!1,function(e){a("xO8F")},"data-v-4f2ac9d8",null).exports;a("PFUz");var ro={data:function(){return{GraphObject:"",myDiagram:"",data:{class:"go.GraphLinksModel",nodeDataArray:[],linkDataArray:[]}}},methods:{$:function(e){return document.getElementById(e)},drag:function(){var e=this.$("Box"),t=this.$("Bottom"),a=this.$("Line");a.onmousedown=function(s){var r=(s||event).clientY;return a.top=a.offsetTop,document.onmousemove=function(s){var i=a.top+((s||event).clientY-r),o=e.clientHeight-a.offsetHeight;return a.style.margin=0,i<0&&(i=0),i>o&&(i=o),a.style.top=t.style.top=i+"px",!1},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null,a.releaseCapture&&a.releaseCapture()},a.setCapture&&a.setCapture(),!1}},init:function(){var e=this.GraphObject,t=this.myDiagram,a=(this.cxElement,e(go.Brush,"Linear",{0:"#fff",1:"#fff"})),s="bold 11pt Helvetica, Arial, sans-serif";t.addDiagramListener("Modified",function(e){var a=document.getElementById("SaveButton");a&&(a.disabled=!t.isModified);var s=document.title.indexOf("*");t.isModified?s<0&&(document.title+="*"):s>=0&&(document.title=document.title.substr(0,s))});var r=e(go.Adornment,"Spot",e(go.Panel,"Auto",e(go.Shape,{fill:null,stroke:"dodgerblue",strokeWidth:0}),e(go.Placeholder)));t.nodeTemplateMap.add("Source",e(go.Node,"Auto",{selectionAdornmentTemplate:r},e(go.Shape,"RoundedRectangle",{name:"Source",fill:a,portId:"",fromEndSegmentLength:20},{stroke:"rgb(63,182,216)",strokeWidth:2}),e(go.Panel,"Table",e(go.RowColumnDefinition,{column:4,width:4}),e(go.TextBlock,{font:"12px",stroke:"#666"},{row:1,column:0},new go.Binding("text","operator")),e(go.TextBlock,"Source",{margin:8,wrap:go.TextBlock.WrapFit,textAlign:"center",editable:!1,font:s},{row:2,column:0},{desiredSize:new go.Size(400,"auto")},new go.Binding("text","text").makeTwoWay()),e(go.TextBlock,{font:"10px",stroke:"#ddd"},{row:3,column:0},new go.Binding("text","parallelism")),e(go.TextBlock,{font:"10px",stroke:"#ddd"},{row:4,column:0},new go.Binding("text","operator_strategy"))))),t.linkTemplate=e(go.Link,{curve:go.Link.Bezier,toShortLength:5,selectable:!1},new go.Binding("curviness","curviness"),{relinkableTo:!1},e(go.Shape,{stroke:"#333",strokeWidth:1}),e(go.Shape,{toArrow:"kite",fill:"#333",stroke:null,scale:1}),e(go.TextBlock,new go.Binding("text","text")));e(go.Palette,"myPaletteDiv",{scrollsPageOnFocus:!1,nodeTemplateMap:t.nodeTemplateMap,model:new go.GraphLinksModel([{category:"Source",text:"Source"}])});this.load(),this.layout()},load:function(){this.myDiagram.model=go.Model.fromJson(this.data)},save:function(){this.data=this.myDiagram.model.toJson(),this.myDiagram.isModified=!1},layout:function(){this.myDiagram.layoutDiagram(!0)},makePort:function(e,t,a,s){return this.GraphObject(go.Shape,"Circle",{fill:"transparent",stroke:null,desiredSize:new go.Size(9,9),alignment:t,alignmentFocus:t,portId:e,fromSpot:t,toSpot:t,fromLinkable:a,toLinkable:s,cursor:"pointer"})}},mounted:function(){var e=this,t=go.GraphObject.make,a=t(go.Diagram,"myDiagramDiv",{"toolManager.mouseWheelBehavior":go.ToolManager.WheelZoom,allowDrop:!1,initialAutoScale:go.Diagram.Uniform,"linkingTool.direction":go.LinkingTool.ForwardsOnly,initialContentAlignment:go.Spot.Center,layout:t(go.LayeredDigraphLayout,{isInitial:!1,isOngoing:!1,layerSpacing:100,columnSpacing:40}),isReadOnly:!0,"undoManager.isEnabled":!0,maxSelectionCount:1,"draggingTool.dragsLink":!1});this.GraphObject=t,this.myDiagram=a,this.init(),this.drag(),this.$on("data",function(t){e.data=t,e.load(),e.layout()})},beforeDestroy:function(){this.$off()}},io={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{style:{height:this.$Height()-170+"px"},attrs:{id:"Box"}},[t("div",{attrs:{id:"Top"}},[t("div",{style:{height:this.$Height()-170+"px"},attrs:{id:"box"}},[this._m(0)])]),this._v(" "),t("div",{attrs:{id:"Bottom"}},[this._t("bottom")],2),this._v(" "),t("div",{attrs:{id:"Line"}})])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"top"}},[t("div",{staticStyle:{width:"100%",height:"100%",border:"none"}},[t("div",{staticClass:"text-center",staticStyle:{width:"0px",overflow:"hidden"},attrs:{id:"myPaletteDiv"}}),this._v(" "),t("div",{staticStyle:{"margin-bottom":"-3000px","padding-bottom":"3000px","margin-right":"-4000px","padding-right":"3000px","margin-top":"-2800px","padding-top":"3000px","margin-left":"-3000px","padding-left":"3000px"},attrs:{id:"myDiagramDiv"}})])])}]};var oo={render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("\n    timeline\n")])},staticRenderFns:[]},no={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[Object.keys(e.exception).length>0?a("div",{staticClass:"box"},[a("div",{staticClass:"title1"},[e._v("根异常")]),e._v(" "),a("div",{staticClass:"title2"},[a("span",{staticClass:"title3"},[e._v("时间戳 : ")]),e._v(e._s(e._f("unixTime")(e.exception.timestamp,!0)))]),e._v(" "),a("div",{staticClass:"content"},[e._v(e._s(e.exception["root-exception"]))])]):e._e(),e._v(" "),e._l(e.exception["all-exceptions"],function(t){return a("div",{key:t.timestamp,staticClass:"box m-t"},[a("div",{staticClass:"title1"},[e._v(e._s(t.task))]),e._v(" "),a("div",{staticClass:"title2"},[a("div",[a("span",{staticClass:"title3"},[e._v("时间戳 : ")]),e._v(e._s(e._f("unixTime")(t.timestamp,!0)))]),e._v(" "),a("div",[a("span",{staticClass:"title3"},[e._v("地址 : ")]),e._v(e._s(t.location))])]),e._v(" "),a("div",{staticClass:"content"},[e._v("\n            "+e._s(t.exception)+"\n        ")])])}),e._v(" "),0==Object.keys(e.exception).length?a("div",{staticClass:"content"},[e._v("\n       没有错误数据\n   ")]):e._e()],2)},staticRenderFns:[]};var lo={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",[a("div",{staticClass:"title"},[e._v("\n           执行配置\n        ")]),e._v(" "),a("ul",[a("li",[e._v("执行模式")]),e._v(" "),a("li",[e._v(e._s(e.config["execution-config"]["execution-mode"]))]),e._v(" "),a("li",[e._v("最大执行重试次数")]),e._v(" "),a("li",[e._v(e._s(e.config["execution-config"]["restart-strategy"]))]),e._v(" "),a("li",[e._v("工作并行")]),e._v(" "),a("li",[e._v("auto")]),e._v(" "),a("li",[e._v("对象重用模式")]),e._v(" "),a("li",[e._v(e._s(e.config["execution-config"]["object-reuse-mode"]))])])]),e._v(" "),e._m(0)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"m-t"},[t("div",{staticClass:"title "},[this._v("\n           用户配置\n        ")]),this._v(" "),t("ul")])}]};var co={components:{"v-task":eo},props:["vertices"],data:function(){return{activeName:"subtasks",subtasks:[{id:"e07449b3aa6dd35a8f8d3c2695dce33e",name:"CHAIN DataSource (at createInput(ExecutionEnvironment.java:548) (org.apache.flink.api.java.io.jdbc.JDBCInputFormat)) -> Filter (Filter at main(Apptest.java:41))",parallelism:1,status:"FINISHED","start-time":1544507888316,"end-time":1544507896777,duration:8461,tasks:{FAILED:0,SCHEDULED:0,CREATED:0,CANCELING:0,CANCELED:0,FINISHED:1,RECONCILING:0,RUNNING:0,DEPLOYING:0},metrics:{"read-bytes":0,"read-bytes-complete":!0,"write-bytes":7602176,"write-bytes-complete":!0,"read-records":293760,"read-records-complete":!0,"write-records":587520,"write-records-complete":!0}}]}}},uo={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"子任务",name:"subtasks"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{size:"mini",data:e.vertices}},[a("el-table-column",{attrs:{prop:"start-time",label:"开始时间",align:"left",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n                "+e._s(e._f("unixTime")(t.row["start-time"],!0))+"\r\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"end-time",label:"结束时间",align:"left",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n                "+e._s(e._f("unixTime")(t.row["end-time"],!0))+"\r\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"duration",label:"持续时间",align:"left",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n                "+e._s(t.row.duration>1e3?t.row.duration/1e3+"s":t.row.duration+"ms")+"\r\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"项目名称",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"接收字节",align:"left",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n                "+e._s(e._f("countBytes")(t.row.metrics["read-bytes"]))+"\r\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"接收纪录",align:"left",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n                "+e._s(e._f("countBytes")(t.row.metrics["read-records"]))+"\r\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"发送字节",align:"left",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n                "+e._s(e._f("countBytes")(t.row.metrics["write-bytes"]))+"\r\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"发送纪录",align:"left",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n                "+e._s(e._f("countBytes")(t.row.metrics["write-records"]))+"\r\n            ")]}}])}),e._v("\r\n            >\r\n            "),a("el-table-column",{attrs:{prop:"parallelism",label:"排比",align:"left",width:"50px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tasks",label:"任务",align:"left",width:"220px"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("v-task",{attrs:{tasks:e.row.tasks}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"left",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:"RUNNING"==t.row.status,expression:"scope.row.status=='RUNNING'"}],attrs:{size:"mini",type:"primary"}},[e._v(e._s(t.row.status))]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"FAILED"==t.row.status,expression:"scope.row.status=='FAILED'"}],attrs:{size:"mini",type:"danger"}},[e._v(e._s(t.row.status))]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"CANCELED"==t.row.status,expression:"scope.row.status=='CANCELED'"}],attrs:{size:"mini",type:"warning"}},[e._v(e._s(t.row.status))]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"FINISHED"==t.row.status,expression:"scope.row.status=='FINISHED'"}],attrs:{size:"mini",type:"success"}},[e._v(e._s(t.row.status))])]}}])})],1)],1)],1)],1)},staticRenderFns:[]},po={components:{"v-overview":a("/Xao")(ro,io,!1,function(e){a("V2TC")},"data-v-b457fd44",null).exports,"v-timeline":a("/Xao")({data:function(){return{}}},oo,!1,null,null,null).exports,"v-exception":a("/Xao")({props:["exception"],data:function(){return{}}},no,!1,function(e){a("i/Ij")},"data-v-67f8666a",null).exports,"v-configuration":a("/Xao")({props:["config"],data:function(){return{}}},lo,!1,function(e){a("96CN")},"data-v-5090ce78",null).exports,"v-overview-bottom":a("/Xao")(co,uo,!1,null,null,null).exports,"v-task":eo},data:function(){return{activeName:"Overview",RUNNING:{"start-time":"2018-09-12","end-time":"2018-09-13",duration:"4m 3s",name:"name1",jid:"123456789",tasks:{},status:"RUNNING"},data:{class:"go.GraphLinksModel",nodeDataArray:[],linkDataArray:[]},jId:"",vertices:[],exception:{},config:{}}},methods:{getJobDetail:function(){var e=this;Qi({jid:this.jId}).then(function(t){e.vertices=t.vertices,e.RUNNING["start-time"]=t["start-time"],e.RUNNING["end-time"]=t["end-time"],e.RUNNING.duration=t.duration,e.RUNNING.name=t.name,e.RUNNING.jid=t.jid,e.RUNNING.status=t.state,e.RUNNING.tasks=t["status-counts"];var a=[],s=[];t.plan.nodes.length>0&&(t.plan.nodes.forEach(function(e){if(t.vertices&&t.vertices.length){var r=t.vertices.find(function(t){return t.id===e.id});a.push({category:"Source",text:r.name,key:e.id,id:e.id,parallelism:"parallelism :"+e.parallelism,operator_strategy:"Operation :"+e.operator_strategy,operator:e.operator})}e.inputs&&e.inputs.length&&e.inputs.forEach(function(t){s.push({from:t.id,to:e.id,text:t.ship_strategy})})}),e.data.nodeDataArray=a,e.data.linkDataArray=s,e.$refs.overview.$emit("data",e.data))})},getException:function(){var e,t=this;(e={id:this.jId},Zi({url:"jobs/"+e.id+"/exceptions",method:"get"})).then(function(e){t.exception=e})},getConfig:function(){var e,t=this;(e={id:this.jId},Zi({url:"jobs/"+e.id+"/config",method:"get"})).then(function(e){t.config=e})}},mounted:function(){this.jId=this.$route.params.id,this.getJobDetail(),this.getException(),this.getConfig()}},mo={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"box-card",attrs:{"body-style":{background:"rgb(245,245,245)",padding:0}}},[a("el-row",{staticClass:"jobs"},[a("el-col",{attrs:{span:6}},[e._v(e._s(e.RUNNING.name))]),e._v(" "),a("el-col",{attrs:{span:4}},[e._v(e._s(e.RUNNING.jid))]),e._v(" "),a("el-col",{attrs:{span:4}},[e._v("\r\n                "+e._s(e._f("unixTime")(e.RUNNING["start-time"],!0))+"-"+e._s(e._f("unixTime")(e.RUNNING["end-time"],!0))+" \r\n            ")]),e._v(" "),a("el-col",{attrs:{span:2}},[e._v(e._s(e.RUNNING.duration))]),e._v(" "),a("el-col",{staticStyle:{padding:"0"},attrs:{span:4}},[a("v-task",{attrs:{tasks:e.RUNNING.tasks}})],1)],1)],1),e._v(" "),a("div",{staticClass:"app-container",staticStyle:{"padding-bottom":"0px"}},[a("el-tabs",{staticClass:"m-t",model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"概观",name:"Overview"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"错误",name:"Exception"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"配置",name:"Configuration"}})],1),e._v(" "),a("v-overview",{directives:[{name:"show",rawName:"v-show",value:"Overview"==e.activeName,expression:"activeName=='Overview'"}],ref:"overview"},[a("v-overview-bottom",{attrs:{slot:"bottom",vertices:e.vertices},slot:"bottom"})],1),e._v(" "),a("v-exception",{directives:[{name:"show",rawName:"v-show",value:"Exception"==e.activeName,expression:"activeName=='Exception'"}],attrs:{exception:e.exception}}),e._v(" "),a("v-configuration",{directives:[{name:"show",rawName:"v-show",value:"Configuration"==e.activeName,expression:"activeName=='Configuration'"}],attrs:{config:e.config}})],1)],1)},staticRenderFns:[]};var ho=a("/Xao")(po,mo,!1,function(e){a("sQFu")},"data-v-0606bbce",null).exports,fo={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{position:"relative"}},[t("ve-line",{ref:"lineX",attrs:{data:this.data,"legend-visible":!1,height:this.height,width:this.width,grid:this.grid,yAxis:this.yAxis,extend:this.extend}})],1)},staticRenderFns:[]};var vo={components:{"v-line":a("/Xao")({props:["data","HX","WX"],data:function(){return this.extend={series:{type:"line",smooth:!1,showAllSymbol:!0,symbolSize:[5,5],lineStyle:{normal:{color:"rgb(25,212,174)"}},itemStyle:{normal:{borderWidth:2}}},tooltip:{},xAxis:{axisLabel:{interval:"auto"},axisLine:{show:!0,lineStyle:{color:"rgb(102,102,102)"}},axisTick:{show:!0,lineStyle:{color:"rgb(102,102,102)"}}},yAxis:{axisLine:{show:!0,lineStyle:{color:"rgb(102,102,102)"}},axisTick:{show:!0,lineStyle:{color:"rgb(102,102,102)"}}}},{backgroundColor:"rgb(243,243,243)",yAxis:{},grid:{right:40,top:5,bottom:20}}},computed:{height:function(){return this.HX-80+"px"},width:function(){return this.WX}},watch:{HX:function(){this.$refs.lineX.echarts.resize()},WX:function(){this.$refs.lineX.echarts.resize()}},mounted:function(){this.$refs.lineX.echarts.resize()},beforeDestroy:function(){this.$refs.lineX.echarts.clear()}},fo,!1,function(e){a("JTlT")},null,null).exports,"v-folder":mt,"v-pdf":Na,"v-pdf-info":ya},data:function(){return{dialogAttachVisible:!1,showPdf:!1,pdfInfo:{},spcTaskOnlineId:"",spcTaskId:"",configData:{spcTaskName:""},fullLoading:null,LOADING:{lock:!0,text:"需要几秒钟,加载中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.6)"},warnList:[],warningList:[],warnedList:[]}},methods:{config:function(){this.$router.push("/spc/warning/config/"+this.spcTaskId+"_"+this.spcTaskOnlineId)},getWarningList:function(){var e=this;this.fullLoading=this.$loading(this.LOADING),ct({spcTaskOnlineId:Number(this.spcTaskOnlineId)}).then(function(t){e.fullLoading.close(),200==t.code?t.data.length>0&&(e.warnList=[],e.warningList=[],e.warnedList=[],t.data.forEach(function(t){0==t.processingState?e.warnList.push(t):1==t.processingState?e.warningList.push(t):2==t.processingState&&e.warnedList.push(t)})):e.$message.error(t.message)})},getSpcDatail:function(){var e=this;Je({spcTaskId:this.spcTaskId}).then(function(t){200==t.code?e.configData=t.data:e.$mesage.error(t.message)})},toStepDetail:function(e,t){this.$router.push("/spc/warning/step/"+e.spcTaskOnlineAlertingId+"_"+t+"_"+e.spcTaskOnlineId)}},created:function(){this.spcTaskOnlineId=this.$route.params.spc_id.split("_")[1],this.spcTaskId=this.$route.params.spc_id.split("_")[0],this.getWarningList(),this.getSpcDatail()},beforeDestroy:function(){this.fullLoading&&this.fullLoading.close()}},bo={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticStyle:{"border-bottom":"1px solid #dcdfe6",padding:"5px 20px"}},[a("el-col",{staticStyle:{"font-size":"20px"},attrs:{span:10}},[e._v("\n                 \n                    "),a("el-button",{attrs:{type:"text"},on:{click:function(t){e.$store.commit("SET_TASK",!0)}}},[a("i",{staticClass:"el-icon-menu el-icon--left"}),e._v(e._s(e.configData.spcTaskName)),a("i",{staticClass:"el-icon-caret-bottom el-icon--right"})])],1),e._v(" "),e.$store.getters.userRole<4?a("el-col",{staticClass:"text-right",attrs:{span:14}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"配置",placement:"top-start"}},[a("el-button",{attrs:{size:"mini"},on:{click:e.config}},[a("svg-icon",{staticStyle:{"font-size":"20px"},attrs:{"icon-class":"setting"}})],1)],1),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"刷新",placement:"top-start"}},[a("el-button",{attrs:{size:"mini"},on:{click:e.getWarningList}},[a("svg-icon",{staticStyle:{"font-size":"20px"},attrs:{"icon-class":"refresh"}})],1)],1)],1):e._e()],1),e._v(" "),a("div",{staticClass:"app-container Panel Warning",attrs:{id:"noSelect"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"HOME",attrs:{span:8}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticStyle:{"font-size":"16px"}},[e._v("待处理预警")]),a("span",{staticClass:"count count-warn"},[e._v(e._s(e.warnList.length))])]),e._v(" "),a("div",{staticClass:"CardList"},e._l(e.warnList,function(t){return a("el-card",{directives:[{name:"show",rawName:"v-show",value:e.warnList.length>0,expression:"warnList.length>0"}],key:"warn"+t.spcTaskOnlineAlertingId,staticClass:"box-card m-t-5",attrs:{"body-style":{padding:"6px"},s:""}},[a("el-row",{staticStyle:{"line-height":"28px","padding-left":"5px","padding-right":"5px"}},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"TaskCollection",on:{click:function(a){e.toStepDetail(t,"1")}}},[a("div",[e._v(e._s(t.warningTitle))]),e._v(" "),a("div",{staticStyle:{"text-align":"right",color:"#ccc","font-size":"12px","line-height":"12px"}},[e._v(e._s(e._f("unixTime")(t.createTime,!0)))])])])],1)],1)}))])],1),e._v(" "),a("el-col",{staticClass:"HOME",attrs:{span:8}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticStyle:{"font-size":"16px"}},[e._v("处理中预警")]),a("span",{staticClass:"count count-warning"},[e._v(e._s(e.warningList.length))])]),e._v(" "),a("div",{staticClass:"CardList"},e._l(e.warningList,function(t){return a("el-card",{directives:[{name:"show",rawName:"v-show",value:e.warningList.length>0,expression:"warningList.length>0"}],key:"warning"+t.spcTaskOnlineAlertingId,staticClass:"box-card m-t-5",attrs:{"body-style":{padding:"6px"}}},[a("el-row",{staticStyle:{"line-height":"28px","padding-left":"5px","padding-right":"5px"}},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"TaskCollection",on:{click:function(a){e.toStepDetail(t,"2")}}},[a("div",{staticClass:"warning-title"},[e._v(e._s(t.warningTitle))]),e._v(" "),a("div",{staticStyle:{"text-align":"right",color:"#ccc","font-size":"12px","line-height":"12px"}},[e._v(e._s(e._f("unixTime")(t.createTime,!0)))])])])],1)],1)}))])],1),e._v(" "),a("el-col",{staticClass:"HOME",attrs:{span:8}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticStyle:{"font-size":"16px"}},[e._v("已关闭预警")]),a("span",{staticClass:"count count-finished"},[e._v(e._s(e.warnedList.length))])]),e._v(" "),a("div",{staticClass:"CardList"},e._l(e.warnedList,function(t){return a("el-card",{directives:[{name:"show",rawName:"v-show",value:e.warnedList.length>0,expression:"warnedList.length>0"}],key:"warned"+t.spcTaskOnlineAlertingId,staticClass:"box-card m-t-5",attrs:{"body-style":{padding:"6px"}}},[a("el-row",{staticStyle:{"line-height":"28px","padding-left":"5px","padding-right":"5px"}},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"TaskCollection",on:{click:function(a){e.toStepDetail(t,"3")}}},[a("div",[e._v(e._s(t.warningTitle))]),e._v(" "),a("div",{staticStyle:{"text-align":"right",color:"#ccc","font-size":"12px","line-height":"12px"}},[e._v(e._s(e._f("unixTime")(t.createTime,!0)))])])])],1)],1)}))])],1)],1)],1),e._v(" "),a("v-folder",{directives:[{name:"show",rawName:"v-show",value:e.$store.getters.showFolderTask,expression:"$store.getters.showFolderTask"}]})],1)},staticRenderFns:[]};var yo=a("/Xao")(vo,bo,!1,function(e){a("bzz+")},"data-v-59a98e95",null).exports,_o={props:["controlInfo","show","recentInfo","change","hasParameterForSql","controlLoading"],data:function(){return{recentGroupListBegin:[20,50,100],recentGroupListEnd:[20,50,100],digit:this.recent?this.recent.digit:4,sqlParamter:{}}},methods:{submit:function(){var e=this.getInfo();this.$emit("view",e)},cacheBegin:function(e){this.recentGroupListBegin.includes(e)||this.recentGroupListBegin.push(e)},cacheEnd:function(e){this.recentGroupListEnd.includes(e)||this.recentGroupListEnd.push(e)},dataChange:function(){if(this.change){var e=this.getInfo();this.$emit("change",e)}},getInfo:function(){var e={analysisParms:{}};if(this.digit&&(e.digit=this.digit),i()(this.controlInfo).length>0)for(var t in this.controlInfo){var a=this.controlInfo[t];i()(a).length>0&&(i()(a).length>2?e.analysisParms[a.parameter]=a.parameterValue:(e.analysisParms[a.start.parameter]=a.start.parameterValue,e.analysisParms[a.off.parameter]=a.off.parameterValue))}return e},checkSql:function(e){var t=this;if(i()(this.hasParameterForSql).length>0){var a=function(a){var s=t.hasParameterForSql[a];if(s.source.includes(e.parameter)&&(t.sqlParamter[e.parameter]=e.parameterValue,s.source.every(function(e){return t.sqlParamter[e]}))){var r=s.target.sql+"";s.source.forEach(function(e){r=r.replace(e,"'"+t.sqlParamter[e]+"'")}),t.$emit("Loading",!0),Ae({configDataanalysisId:e.configDataanalysisId,querySql:r}).then(function(e){t.$emit("Loading",!1),200==e.code?t.$emit("changevalue",{key:s.target.sectionValue,data:e.data}):t.$message.error(e.message)})}};for(var s in this.hasParameterForSql)a(s)}}},computed:{recent:function(){return this.recentInfo}}},xo={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.controlLoading,expression:"controlLoading"}]},[a("el-form",{ref:"dsForm",staticClass:"small-space Form setting-form FormError",attrs:{size:"mini","label-position":"right","label-width":"140px"}},[e._l(e.controlInfo,function(t,s,r){return Object.keys(t).length>2?[a("el-form-item",{key:"info"+r,class:{required:t.required},attrs:{label:t.comment?t.comment+t.symbol+" :":t.parameter+t.symbol+" :"}},[a("el-col",{attrs:{span:24}},[a("el-form",{staticClass:"small-space Form setting-form FormError",attrs:{size:"mini","label-position":"left"}},[a("el-form-item",[a("el-select",{directives:[{name:"show",rawName:"v-show",value:1==t.parameterValueType||4==t.parameterValueType,expression:"info.parameterValueType==1 || info.parameterValueType==4"}],attrs:{placeholder:"请选择参数值",clearable:""},on:{change:function(a){e.dataChange(),e.checkSql(t)}},model:{value:t.parameterValue,callback:function(a){e.$set(t,"parameterValue",a)},expression:"info.parameterValue"}},e._l(t.parameterValueArr,function(e,t){return a("el-option",{key:e+"@"+t,attrs:{label:e,value:e}})})),e._v(" "),a("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:2==t.parameterValueType,expression:"info.parameterValueType==2"}],attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss"},on:{change:function(a){e.dataChange(),e.checkSql(t)}},model:{value:t.parameterValue,callback:function(a){e.$set(t,"parameterValue",a)},expression:"info.parameterValue"}}),e._v(" "),a("el-input",{directives:[{name:"show",rawName:"v-show",value:3==t.parameterValueType,expression:"info.parameterValueType==3"}],on:{input:e.dataChange,blur:function(a){e.checkSql(t)}},model:{value:t.parameterValue,callback:function(a){e.$set(t,"parameterValue",a)},expression:"info.parameterValue"}}),e._v(" "),a("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:5==t.parameterValueType,expression:"info.parameterValueType==5"}],attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},on:{change:function(a){e.dataChange(),e.checkSql(t)}},model:{value:t.parameterValue,callback:function(a){e.$set(t,"parameterValue",a)},expression:"info.parameterValue"}})],1)],1)],1)],1)]:[a("div",{directives:[{name:"show",rawName:"v-show",value:"至"==t.start.symbol,expression:"info.start.symbol=='至'"}],key:"info1"+r},[a("el-form-item",{key:s,class:{required:t.start.required||t.off.required},attrs:{label:s+" :"}},[a("el-col",{attrs:{span:10}},[a("el-select",{directives:[{name:"show",rawName:"v-show",value:1==t.start.parameterValueType||4==t.start.parameterValueType,expression:"info.start.parameterValueType==1 || info.start.parameterValueType==4"}],attrs:{"allow-create":"",placeholder:"请选择参数值"},on:{change:function(a){e.dataChange(),e.checkSql(t.start)}},model:{value:t.start.parameterValue,callback:function(a){e.$set(t.start,"parameterValue",a)},expression:"info.start.parameterValue"}},e._l(t.start.parameterValueArr,function(e,t){return a("el-option",{key:t+"@1_"+e,attrs:{label:e,value:e}})})),e._v(" "),a("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:2==t.start.parameterValueType,expression:"info.start.parameterValueType==2"}],attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss"},on:{change:function(a){e.dataChange(),e.checkSql(t.start)}},model:{value:t.start.parameterValue,callback:function(a){e.$set(t.start,"parameterValue",a)},expression:"info.start.parameterValue"}}),e._v(" "),a("el-input",{directives:[{name:"show",rawName:"v-show",value:3==t.start.parameterValueType,expression:"info.start.parameterValueType==3"}],on:{input:e.dataChange,blur:function(a){e.checkSql(t.start)}},model:{value:t.start.parameterValue,callback:function(a){e.$set(t.start,"parameterValue",a)},expression:"info.start.parameterValue"}}),e._v(" "),a("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:5==t.start.parameterValueType,expression:"info.start.parameterValueType==5"}],attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},on:{change:function(a){e.dataChange(),e.checkSql(t.start)}},model:{value:t.start.parameterValue,callback:function(a){e.$set(t.start,"parameterValue",a)},expression:"info.start.parameterValue"}})],1),e._v(" "),a("el-col",{staticClass:"text-center",attrs:{span:4}},[e._v("至")]),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-select",{directives:[{name:"show",rawName:"v-show",value:1==t.off.parameterValueType||4==t.off.parameterValueType,expression:"info.off.parameterValueType==1 || info.off.parameterValueType==4"}],attrs:{placeholder:"请输入参数值"},on:{change:function(a){e.dataChange(),e.checkSql(t.off)}},model:{value:t.off.parameterValue,callback:function(a){e.$set(t.off,"parameterValue",a)},expression:"info.off.parameterValue"}},e._l(t.off.parameterValueArr,function(e,t){return a("el-option",{key:t+"@2_"+e,attrs:{label:e,value:e}})})),e._v(" "),a("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:2==t.off.parameterValueType,expression:"info.off.parameterValueType==2"}],attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss"},on:{change:function(a){e.dataChange(),e.checkSql(t.off)}},model:{value:t.off.parameterValue,callback:function(a){e.$set(t.off,"parameterValue",a)},expression:"info.off.parameterValue"}}),e._v(" "),a("el-input",{directives:[{name:"show",rawName:"v-show",value:3==t.off.parameterValueType||""==t.off.parameterValueType,expression:"info.off.parameterValueType==3 || info.off.parameterValueType=='' "}],attrs:{placeholder:t.off.parameter},on:{input:e.dataChange,blur:function(a){e.checkSql(t.off)}},model:{value:t.off.parameterValue,callback:function(a){e.$set(t.off,"parameterValue",a)},expression:"info.off.parameterValue"}}),e._v(" "),a("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:5==t.off.parameterValueType,expression:"info.off.parameterValueType==5"}],attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},on:{change:function(a){e.dataChange(),e.checkSql(t.off)}},model:{value:t.off.parameterValue,callback:function(a){e.$set(t.off,"parameterValue",a)},expression:"info.off.parameterValue"}})],1)],1)],1),e._v(" "),"至"!=t.start.symbol?a("div",[a("el-form-item",{class:{required:t.start.required||t.off.required},attrs:{label:s+" : "}},[a("el-col",{attrs:{span:9}},[a("el-select",{directives:[{name:"show",rawName:"v-show",value:1==t.start.parameterValueType||4==t.start.parameterValueType,expression:"info.start.parameterValueType==1 || info.start.parameterValueType==4"}],attrs:{placeholder:t.start.parameter},on:{change:function(a){e.dataChange(),e.checkSql(t.start)}},model:{value:t.start.parameterValue,callback:function(a){e.$set(t.start,"parameterValue",a)},expression:"info.start.parameterValue"}},e._l(t.start.parameterValueArr,function(e,t){return a("el-option",{key:t+"@start_"+e,attrs:{label:e,value:e}})})),e._v(" "),a("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:2==t.start.parameterValueType,expression:"info.start.parameterValueType==2"}],attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss"},on:{change:function(a){e.dataChange(),e.checkSql(t.start)}},model:{value:t.start.parameterValue,callback:function(a){e.$set(t.start,"parameterValue",a)},expression:"info.start.parameterValue"}}),e._v(" "),a("el-input",{directives:[{name:"show",rawName:"v-show",value:3==t.start.parameterValueType||""==t.start.parameterValueType,expression:"info.start.parameterValueType==3 || info.start.parameterValueType=='' "}],attrs:{placeholder:t.start.parameter},on:{input:e.dataChange,blur:function(a){e.checkSql(t.start)}},model:{value:t.start.parameterValue,callback:function(a){e.$set(t.start,"parameterValue",a)},expression:"info.start.parameterValue"}}),e._v(" "),a("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:5==t.start.parameterValueType,expression:"info.start.parameterValueType==5"}],attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},on:{change:function(a){e.dataChange(),e.checkSql(t.start)}},model:{value:t.start.parameterValue,callback:function(a){e.$set(t.start,"parameterValue",a)},expression:"info.start.parameterValue"}})],1),e._v(" "),a("el-col",{staticClass:"text-center",attrs:{span:2}},[e._v(e._s(t.start.symbol.indexOf("=")>=0?"=<":"<")+" ")]),e._v(" "),a("el-col",{staticClass:"text-center",attrs:{span:2}},[e._v(" "+e._s(s)+" ")]),e._v(" "),a("el-col",{staticClass:"text-center",attrs:{span:2}},[e._v(" "+e._s(t.off.symbol.indexOf("=")>=0?"=<":"<")+" ")]),e._v(" "),a("el-col",{attrs:{span:9}},[a("el-select",{directives:[{name:"show",rawName:"v-show",value:1==t.off.parameterValueType||4==t.off.parameterValueType,expression:"info.off.parameterValueType==1 || info.off.parameterValueType==4"}],attrs:{placeholder:t.off.parameter},on:{change:function(a){e.dataChange(),e.checkSql(t.off)}},model:{value:t.off.parameterValue,callback:function(a){e.$set(t.off,"parameterValue",a)},expression:"info.off.parameterValue"}},e._l(t.off.parameterValueArr,function(e,t){return a("el-option",{key:t+"@3_"+e,attrs:{label:e,value:e}})})),e._v(" "),a("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:2==t.off.parameterValueType,expression:"info.off.parameterValueType==2"}],attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss"},on:{change:function(a){e.dataChange(),e.checkSql(t.off)}},model:{value:t.off.parameterValue,callback:function(a){e.$set(t.off,"parameterValue",a)},expression:"info.off.parameterValue"}}),e._v(" "),a("el-input",{directives:[{name:"show",rawName:"v-show",value:3==t.off.parameterValueType||""==t.off.parameterValueType,expression:"info.off.parameterValueType==3 || info.off.parameterValueType=='' "}],attrs:{placeholder:t.off.parameter},on:{input:e.dataChange,blur:function(a){e.checkSql(t.off)}},model:{value:t.off.parameterValue,callback:function(a){e.$set(t.off,"parameterValue",a)},expression:"info.off.parameterValue"}}),e._v(" "),a("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:5==t.off.parameterValueType,expression:"info.off.parameterValueType==5"}],attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},on:{change:function(a){e.dataChange(),e.checkSql(t.off)}},model:{value:t.off.parameterValue,callback:function(a){e.$set(t.off,"parameterValue",a)},expression:"info.off.parameterValue"}})],1)],1)],1):e._e()]}),e._v(" "),a("el-form-item",{attrs:{label:"小数位数= :"}},[a("el-form",{staticClass:"small-space Form setting-form FormError",attrs:{size:"mini","label-position":"left"}},[a("el-form-item",[a("el-col",{attrs:{span:24}},[a("el-select",{on:{change:e.dataChange},model:{value:e.digit,callback:function(t){e.digit=t},expression:"digit"}},e._l([4,5,6,7,8],function(e){return a("el-option",{key:"digit"+e,attrs:{label:e,value:e}})}))],1)],1)],1)],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}]},[a("el-col",{staticClass:"btnBlock"},[a("el-button",{attrs:{size:"large",type:"primary"},on:{click:e.submit}},[e._v("分析")])],1)],1)],2)],1)},staticRenderFns:[]};var wo=a("/Xao")(_o,xo,!1,function(e){a("e+0t")},null,null).exports,ko=a("rBKV").publicPath,To={components:{"v-folder":mt,"v-ruleline":gt,"v-control-info":wo},data:function(){return{service:ko,ruleNumber:"",content:"",n:"",m:"",activeName:"first",ruleLoading:!1,updateLoading:!1,updatePyLoading:!1,showChangePy:!1,selectedPy:{},changePyForm:{n:"",m:"",k:""},selectedPyIndex:"",spcTaskId:"",allRecentGroups:!1,graphType:"",graphTypes:[{label:"X-R",value:1,type:1},{label:"X-S",value:2,type:1},{label:"me-R",value:3,type:1},{label:"X-MR",value:4,type:1},{label:"P",value:5,type:2},{label:"np",value:6,type:2},{label:"c",value:7,type:2},{label:"u",value:8,type:2}],Form:{spcTaskId:"",configDataanalysisId:"",spcTaskName:"",controlGraph:"",decimalDigits:"",recentGroups:"",usl:"",lsl:"",targetValue:"",groupNum:"",moveRange:"",comment:"",alertProcess:[],alertThreshold:[],cron:""},rules:{spcTaskName:[{required:!0,message:"请填写项目名称",trigger:"change,blur"}],controlGraph:[{required:!0,message:"请选择管制图形",trigger:"change,blur"}],cron:[{required:!0,message:"请填写定时设置",trigger:"change,blur"}],configDataanalysisId:[{required:!0,message:"请选择数据源",trigger:"change"}],usl:[{validator:this.uslValidator,trigger:"change,blur"}],lsl:[{validator:this.lslValidator,trigger:"change,blur"}],targetValue:[{validator:this.targetValidator,trigger:"change,blur"}],moveRange:[{required:!0,message:"请填写移动距离",trigger:"change,blur"},{type:"number",min:2,max:3,message:"移动距离必须为数字2或3",trigger:"change,blur"}],groupNum:[{required:!0,message:"请填写子组容量",trigger:"change,blur"},{type:"number",min:2,max:25,message:"子组容量必须为数字",trigger:"change,blur"}]},dsList:[],pyNum:[{ruleNumber:1,n:"1"},{ruleNumber:2,n:"9"},{ruleNumber:3,n:"6"},{ruleNumber:4,n:"14"},{ruleNumber:5,n:"3",m:"2"},{ruleNumber:6,n:"5",m:"4"},{ruleNumber:7,n:"15"},{ruleNumber:8,n:"8"}],multipleSelection:[],ruleList:[],filterRuleList:[],LOADING:{lock:!0,text:"数据处理中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.6)"},fullLoading:null,times:[{label:"1",value:1},{label:"2",value:2},{label:"3",value:3},{label:"4",value:4},{label:"5",value:5},{label:"6",value:6}],symbols:[{label:">",value:1},{label:">=",value:2},{label:"<",value:3},{label:"<=",value:4}],controlInfo:{},control:{analysisParms:{}},online:{spcTaskOnlineId:"",cron:""},spcTaskOnlineId:"",parameterValueApply:{analysisParms:{}},recentInfo:{digit:""},jl:["ca","cp","pp","avg","cpk","cpm","ppk","ppm","cpmk","ppmk","sigma","sigmaLong","sigmaShort","dpmoLong","dpmoShort","stdDevLong","stdDevShort","zBenchShort","zBenchLong","averageFirst","averageSecond"],js:["dpmo","zBench","sigmaLevel","percentDefective"],hasParameterForSql:{},controlLoading:!0}},methods:{changeValue:function(e){var t=e.data.split(";").slice(0,-1);this.controlInfo[e.key].parameterValueArr=t},getDsList:function(){var e=this;Ce().then(function(t){200==t.code?e.dsList=t.data.list:e.$message.error(t.message)})},selectRules:function(e,t){var a=this,s=Z()({},this.filterRuleList[t.ruleNumber-1]);s.enable=-s.enable,this.fullLoading=this.$loading(this.LOADING),Ze(s).then(function(e){a.fullLoading.close(),200==e.code&&(a.filterRuleList[t.ruleNumber-1].enable=-a.filterRuleList[t.ruleNumber-1].enable)})},selectAllRules:function(e){var t=[];e.length>0?this.filterRuleList.forEach(function(e){var a=Z()({},e);a.enable=Math.abs(a.enable),t.push(a)}):0==e.length&&this.filterRuleList.forEach(function(e){var a=Z()({},e);a.enable=-Math.abs(a.enable),t.push(a)});var a=[];t.forEach(function(e){a.push(Ze(e))})},rowDbclick:function(e){this.showChangePy=!0;var t=this.pyNum[e.$index];for(var a in t)"ruleNumber"!=a&&(t[a]=e.row[a]);this.selectedPy=Z()({},t),this.selectedPyIndex=e.$index},cancelChangePy:function(){this.showChangePy=!1},changePy:function(){var e=this,t=this.filterRuleList[this.selectedPyIndex],a=Z()({},t,this.selectedPy);this.fullLoading=this.$loading(this.LOADING),Ze(a).then(function(t){e.fullLoading.close(),200==t.code?(e.showChangePy=!1,e.filterRuleList.splice(e.selectedPyIndex,1,a),e.$message.success(t.message),e.n=a.n,e.m=a.m,e.content=a.content.replace("n",a.n).replace("m",a.m),e.ruleNumber=a.ruleNumber):e.$message.error(t.message)})},setGraphType:function(e){this.Form.controlGraph="";var t=void 0;this.$refs.graph.clearValidate(),this.$refs.graph1.clearValidate(),e&&(t=this.dsList.filter(function(t){return t.configDataanalysisId==e}),this.graphType=t[0].calculationType)},submit:function(){var e=this;this.$refs.general.validate(function(t){t?e.$refs.graph.validate(function(t){t?e.$refs.graph1.validate(function(t){if(t){if(1==e.graphType&&!e.Form.usl&&!e.Form.lsl)return e.$message.warning("规格上限和规格下线必须填写一个"),!1;if(e.Form.alertProcess.length>0){for(var a=!1,s=0;s<e.Form.alertProcess.length;s++){var r=e.Form.alertProcess[s].keyIndex,i=e.Form.alertProcess[s].keyValue,o=e.Form.alertProcess[s].symbol;if(""==r||""==i||""==o){a=!0;break}}if(a)return void e.$message.error("预警规则信息必须填写完整")}if(e.Form.alertThreshold.length>0){for(var n=!1,l=0;l<e.Form.alertThreshold.length;l++){var c=e.Form.alertThreshold[l].warningType,u=e.Form.alertThreshold[l].occurrences,d=e.Form.alertThreshold[l].symbol,p=e.Form.alertThreshold[l].threshold;if(""==c||""==u||""==d||""==p){n=!0;break}}if(n)return void e.$message.error("阈值信息必须填写完整")}e.updateLoading=!0,We(e.Form).then(function(t){e.updateLoading=!1,200==t.code?e.$message.success(t.message):e.$message.error(t.message)}),e.updateOnline(),e.createProcess(),e.updateProcess(),e.createThreshold(),e.updateThreshold()}else e.$message.warning("请检查条件配置参数填写是否完整")}):e.$message.warning("请检查预警配置填写是否完整")}):e.$message.warning("请检查基本信息填写是否完整")})},recentGroupslValidator:function(e,t,a){if(t){var s=/^[1-9]+[0-9]*$/;s.test(t)?a():a(new Error("最近组数只能是>0的整数"))}else a()},decimalDigitslValidator:function(e,t,a){if(t){/^[0-6]$/.test(t)?a():a(new Error("小数位数只能0-6的整数"))}else a()},uslValidator:function(e,t,a){if(t){var s=/^(?!(0[0-9]{0,}$))[0-9]{1,}[.]{0,}[0-9]{0,}$/;s.test(t)&&"number"==typeof t&&t>0?this.Form.lsl&&t<=this.Form.lsl?a(new Error("规格上限必须大于规格下限")):this.Form.targetValue&&t<=this.Form.targetValue?a(new Error("规格上限必须大于目标值")):a():a(new Error("规格上限只能是>0的数字"))}else a()},lslValidator:function(e,t,a){if(t){/^(?!(0[0-9]{0,}$))[0-9]{1,}[.]{0,}[0-9]{0,}$/.test(t)&&t>0?this.Form.usl&&t>=this.Form.usl?a(new Error("规格下限必须小于规格上限")):this.Form.targetValue&&t>=this.Form.targetValue?a(new Error("规格下限必须小于目标值")):a():a(new Error("规格下限只能是>0的数字"))}else a()},targetValidator:function(e,t,a){if(t){/^(?!(0[0-9]{0,}$))[0-9]{1,}[.]{0,}[0-9]{0,}$/.test(t)&&t>0?this.Form.usl&&t>=this.Form.usl?a(new Error("目标值必须小于规格上限")):this.Form.lsl&&t<=this.Form.lsl?a(new Error("目标值必须大于规格下限")):a():a(new Error("目标值只能是>0的数字"))}else a()},getSpctaskDetail:function(){var e=this;Je({spcTaskId:this.spcTaskId}).then(function(t){200==t.code?(e.getProcessList(t.data.spcTaskOnline.spcTaskOnlineId),e.getThresholdList(t.data.spcTaskOnline.spcTaskOnlineId),t.data.controlGraph&&(t.data.controlGraph>0&&t.data.controlGraph<5?e.graphType=1:t.data.controlGraph>4&&t.data.controlGraph<9&&(e.graphType=2)),e.Form=Z()({},e.Form,t.data),e.$refs.general.clearValidate(),e.getRuleList(),e.getOnlineDetail()):e.$message.error(t.message)})},getRuleList:function(){var e=this;Ye({spcTaskId:this.spcTaskId}).then(function(t){200==t.code?(e.ruleList=t.data,e.ruleList.forEach(function(e){e.times="",e.spcTaskOnlineAlertAbnormalId=""}),e.filterRules(Number(e.Form.controlGraph))):e.$message.error(t.message)})},filterRules:function(e){var t=this;[5,6,7,8].indexOf(e,0)>=0?this.filterRuleList=this.ruleList.slice(0,4):[1,2,3,4].indexOf(e,0)>=0&&(this.filterRuleList=this.ruleList.slice()),this.filterRuleList.length>0&&this.filterRuleList.forEach(function(e){1==e.enable&&t.$refs.multipleTable.toggleRowSelection(e,!0)})},back:function(){this.$router.push("/spc/warning/"+this.spcTaskId+"_"+this.spcTaskOnlineId)},allGrouop:function(){this.allRecentGroups?this.Form.recentGroups=1e5:1e5==this.Form.recentGroups&&(this.Form.recentGroups=1)},chartDes:function(e){this.n=e.n,this.m=e.m,this.content=e.content.replace("n",e.n).replace("m",e.m),this.ruleNumber=e.ruleNumber},delAlertProcess:function(e,t){"false"==t?this.Form.alertProcess.push({keyIndex:"",keyValue:"",symbol:"",times:""}):this.Form.alertProcess.splice(e,1)},delAlertThreshold:function(e,t){"false"==t?this.Form.alertThreshold.push({warningType:"",occurrences:"",symbol:"",threshold:""}):this.Form.alertThreshold.splice(e,1)},deleteProcess:function(e,t){var a=this;this.$confirm("确定删除制程预警规则?","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning"}).then(function(){var s;a.fullLoading=a.$loading(a.LOADING),(s={spcTaskOnlineAlertProcessId:e.spcTaskOnlineAlertProcessId},pe({url:"spc/task/online/alert/process/delete",method:"post",params:s})).then(function(e){a.fullLoading.close(),200==e.code?(a.Form.alertProcess.splice(t,1),a.$message.success(e.message)):a.$message.error(e.message)})}).catch(function(){})},deleteThreshold:function(e,t){var a=this;this.$confirm("确定删除制程预警阈值?","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning"}).then(function(){var s;a.fullLoading=a.$loading(a.LOADING),(s={spcTaskOnlineAlertThresholdId:e.spcTaskOnlineAlertThresholdId},pe({url:"spc/task/online/alert/threshold/delete",method:"post",params:s})).then(function(e){a.fullLoading.close(),200==e.code?(a.Form.alertThreshold.splice(t,1),a.$message.success(e.message)):a.$message.error(e.message)})}).catch(function(){})},createProcess:function(){var e,t=this,a=this.Form.alertProcess.filter(function(e){if(!e.spcTaskOnlineAlertProcessId)return e.spcTaskOnlineId=t.Form.spcTaskOnline.spcTaskOnlineId,e});a.length>0&&(e=a,pe({url:"spc/task/online/alert/process/add",method:"post",data:e})).then(function(e){200==e.code?t.getProcessList(t.Form.spcTaskOnline.spcTaskOnlineId):t.$message.error(e.message)})},updateProcess:function(){var e,t=this,a=this.Form.alertProcess.filter(function(e){if(e.spcTaskOnlineAlertProcessId)return e});a.length>0&&(e=a,pe({url:"spc/task/online/alert/process/update",method:"post",data:e})).then(function(e){200==e.code?t.getProcessList(t.Form.spcTaskOnline.spcTaskOnlineId):t.$message.error(e.message)})},createThreshold:function(){var e,t=this,a=this.Form.alertThreshold.filter(function(e){if(!e.spcTaskOnlineAlertThresholdId)return e.spcTaskOnlineId=t.Form.spcTaskOnline.spcTaskOnlineId,e});a.length>0&&(e=a,pe({url:"spc/task/online/alert/threshold/add",method:"post",data:e})).then(function(e){200==e.code?t.getThresholdList(t.Form.spcTaskOnline.spcTaskOnlineId):t.$message.error(e.message)})},updateThreshold:function(){var e,t=this,a=this.Form.alertThreshold.filter(function(e){if(e.spcTaskOnlineAlertThresholdId)return e.spcTaskOnlineId=t.Form.spcTaskOnline.spcTaskOnlineId,e});a.length>0&&(e=a,pe({url:"spc/task/online/alert/threshold/update",method:"post",data:e})).then(function(e){200==e.code?t.getThresholdList(t.Form.spcTaskOnline.spcTaskOnlineId):t.$message.error(e.message)})},getProcessList:function(e){var t=this;nt({spcTaskOnlineId:e}).then(function(e){200==e.code?e.data.length>0&&(t.Form.alertProcess=e.data):t.$message.error(e.message)})},getAbnormalList:function(e){var t,a=this;(t={spcTaskOnlineId:e},pe({url:"spc/task/online/alert/abnormal/list",method:"post",params:t})).then(function(e){200==e.code?e.data.length>0&&e.data.forEach(function(e){a.ruleList[e.rulesNum-1].times=e.times,a.ruleList[e.rulesNum-1].spcTaskOnlineAlertAbnormalId=e.spcTaskOnlineAlertAbnormalId}):a.$message.error(e.message)})},getThresholdList:function(e){var t,a=this;(t={spcTaskOnlineId:e},pe({url:"spc/task/online/alert/threshold/list",method:"post",params:t})).then(function(e){200==e.code?e.data.length>0&&(a.Form.alertThreshold=e.data):a.$message.error(e.message)})},createAbnormal:function(){var e,t=this,a=this.ruleList.filter(function(e){if(!e.spcTaskOnlineAlertAbnormalId&&e.times>0)return e.rulesNum=e.ruleNumber,e.spcTaskOnlineId=t.Form.spcTaskOnline.spcTaskOnlineId,e});a.length>0&&(e=a,pe({url:"spc/task/online/alert/abnormal/add",method:"post",data:e})).then(function(e){200==e.code?t.getAbnormalList(t.Form.spcTaskOnline.spcTaskOnlineId):t.$message.error(e.message)})},updateAbnormal:function(){var e,t=this,a=this.ruleList.filter(function(e){if(e.spcTaskOnlineAlertAbnormalId)return e.rulesNum=e.ruleNumber,e.spcTaskOnlineId=t.Form.spcTaskOnline.spcTaskOnlineId,e});a.length>0&&(e=a,pe({url:"spc/task/online/alert/abnormal/update",method:"post",data:e})).then(function(e){200==e.code?t.getAbnormalList(t.Form.spcTaskOnline.spcTaskOnlineId):t.$message.error(e.message)})},getOnlineDetail:function(){var e,t=this;(e={spcTaskId:this.spcTaskId,spcTaskOnlineId:""},pe({url:"spc/task/online/detail",method:"post",params:e})).then(function(e){200==e.code?(t.online=e.data[0],t.online.parameterValueApply&&(t.parameterValueApply=JSON.parse(t.online.parameterValueApply),t.parameterValueApply.digit&&(t.recentInfo.digit=t.parameterValueApply.digit)),t.Form.cron=e.data[0].cron,t.getControlInfo()):t.$message.error(e.message)})},updateOnline:function(){var e,t=this;(e=Z()({},this.online,{cron:this.Form.cron},{parameterValueApply:ns()(this.control)}),pe({url:"spc/task/online/update",method:"post",data:e})).then(function(e){200!=e.code&&t.$message.error(e.message)})},getControlInfo:function(){var e=this;this.Form.configDataanalysisId&&Ke({configDataanalysisId:this.Form.configDataanalysisId}).then(function(t){if(200==t.code){e.controlLoading=!1;var a={};t.data.length>0&&t.data.forEach(function(t){if((1==t.parameterValueType||4==t.parameterValueType)&&t.parameterValue){if(4==t.parameterValueType&&t.parameterValue.indexOf("@")>=0){var s=t.parameterValue.match(/@.+?\s+/g);e.hasParameterForSql[t.sectionValue]={source:s.map(function(e){return e.trim()}),target:t},t.sql=t.parameterValue,t.parameterValue="",t.parameterValueArr=[]}else t.parameterValueArr=t.parameterValue.split(";"),4==t.parameterValueType&&t.parameterValueArr.length>0&&t.parameterValueArr.pop();e.parameterValueApply.analysisParms[t.parameter]?t.parameterValue=e.parameterValueApply.analysisParms[t.parameter]:t.parameterValue=""}t.sectionStart||t.sectionOff?a[t.sectionValue]?(t.sectionStart&&(a[t.sectionValue].start=Z()({},t)),t.sectionOff&&(a[t.sectionValue].off=Z()({},t))):(a[t.sectionValue]={start:{},off:{}},t.sectionStart&&(a[t.sectionValue].start=Z()({},t)),t.sectionOff&&(a[t.sectionValue].off=Z()({},t))):a[t.sectionValue]=t}),e.controlInfo=Z()({},a)}else e.$message.error(t.message)})},updateControlInfo:function(){var e,t=this;this.control.length>0&&this.control.forEach(function(e){e.parameterValueArr&&e.parameterValueArr instanceof Array&&e.parameterValueArr.length>0&&(e.parameterValue=e.parameterValueArr.join(";"))}),this.control.length>0&&(e=this.control,pe({url:"config/dataanalysis/parameter/control/admin/update",method:"post",data:e})).then(function(e){200==e.code||t.$message.error(e.message)})}},computed:{jljs:function(){return[5,6,7,8].indexOf(this.Form.controlGraph,0)>=0?"js":[1,2,3,4].indexOf(this.Form.controlGraph,0)>=0?"jl":void 0},LABEL:function(){return["不良率上限","不良率上限","缺陷率上限","缺陷率上限"][Number(this.Form.controlGraph)-5]},judgeSelect:function(){var e=[];return this.filterRuleList.length>0&&this.filterRuleList.forEach(function(t){1==t.enable&&e.push(t.ruleNumber)}),e},keyIndex:function(){return this.Form.controlGraph>0&&this.Form.controlGraph<5?this.jl:this.Form.controlGraph>=5?this.js:[]},filterDsList:function(){var e=this;return this.dsList.length>0?this.dsList.filter(function(t){return t.calculationType==e.Form.calculationType&&t.projectType==e.Form.analysisMethod}):[]}},watch:{"Form.controlGraph":function(){this.rules.groupNum=[{required:1==this.graphType,message:"请填写子组容量",trigger:"change,blur"},{validator:function(e,t,a){if(t){for(var s=[],r=2;r<=25;r++)s.push(r);-1==s.indexOf(t)&&a(new Error("子组容量是2-25的整数")),a()}else a()},trigger:"change,blur"}],1==this.graphType&&this.rules.groupNum.push({type:"number",min:1,max:25,message:"子组容量必须为1-25的整数",trigger:"change,blur"}),1==this.graphType?(this.rules.usl=[{validator:this.uslValidator,trigger:"change,blur"}],this.rules.lsl.push({validator:this.lslValidator,trigger:"change,blur"}),this.rules.targetValue.push({validator:this.targetValidator,trigger:"change,blur"}),4==this.Form.controlGraph?this.rules.moveRange=[{required:!0,message:"请填写移动距离",trigger:"change,blur"},{type:"number",min:2,max:3,message:"移动距离必须为数字2或3",trigger:"change,blur"}]:this.rules.moveRange=[]):(this.rules.usl=[{required:!0,message:"请填写"+["不良率上限","不良率上限","缺陷率上限","缺陷率上限"][Number(this.Form.controlGraph)-5],trigger:"change,blur"},{type:"number",message:["不良率上限","不良率上限","缺陷率上限","缺陷率上限"][Number(this.Form.controlGraph)-5]+"必须为数字",trigger:"change,blur"}],this.rules.lsl=[],this.rules.targetValue=[],this.rules.moveRange=[])},"Form.recentGroups":function(){1e5==this.Form.recentGroups?this.allRecentGroups=!0:this.allRecentGroups=!1}},created:function(){this.spcTaskOnlineId=this.$route.params.spc_id.split("_")[1],this.spcTaskId=this.$route.params.spc_id.split("_")[0],this.getSpctaskDetail(),this.getDsList()}},So={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{directives:[{name:"show",rawName:"v-show",value:!e.$store.getters.showFolderTask,expression:"!$store.getters.showFolderTask"}],staticStyle:{"border-bottom":"1px solid #dcdfe6",padding:"5px 20px",position:"fixed",top:"0",left:"66px",right:"0px","z-index":"999",background:"#fff"}},[a("el-col",{staticStyle:{"font-size":"20px"},attrs:{span:10}},[e._v("\r\n                 \r\n                "),a("el-button",{attrs:{type:"text"},on:{click:function(t){e.$store.commit("SET_TASK",!0)}}},[a("i",{staticClass:"el-icon-menu el-icon--left"}),e._v(e._s(e.Form.spcTaskName)),a("i",{staticClass:"el-icon-caret-bottom el-icon--right"})])],1),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:14}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.back}},[a("svg-icon",{staticStyle:{"font-size":"20px"},attrs:{"icon-class":"back"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"app-container"},[a("el-row",{staticClass:"vertical-tabs"},[a("el-col",{staticStyle:{position:"relative"},attrs:{xs:{span:20,offset:2},sm:{span:18,offset:3},md:{span:16,offset:4},lg:{span:16,offset:4},xl:{span:16,offset:4}}},[a("el-button",{staticStyle:{position:"absolute",left:"20px",top:"300px","z-index":"99"},attrs:{type:"primary",size:"small",loading:e.updateLoading},on:{click:e.submit}},[e._v("保存")]),e._v(" "),a("el-tabs",{staticStyle:{"margin-top":"50px"},style:{"min-height":e.$Height()-100+"px"},attrs:{type:"border-card","tab-position":"left"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"first"}},[a("el-form",{ref:"general",staticClass:"Form m-t",attrs:{"label-position":"right","label-width":"120px",model:e.Form,rules:e.rules,size:"mini"}},[a("el-col",{attrs:{span:22}},[a("el-form-item",{attrs:{label:"项目名称 :",prop:"spcTaskName"}},[a("el-input",{model:{value:e.Form.spcTaskName,callback:function(t){e.$set(e.Form,"spcTaskName",t)},expression:"Form.spcTaskName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"项目描述 :"}},[a("el-input",{model:{value:e.Form.comment,callback:function(t){e.$set(e.Form,"comment",t)},expression:"Form.comment"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"定时设置 : ",prop:"cron"}},[a("el-col",{attrs:{span:18}},[a("el-input",{model:{value:e.Form.cron,callback:function(t){e.$set(e.Form,"cron",t)},expression:"Form.cron"}})],1),e._v(" "),a("el-col",{attrs:{span:3,offset:1}},[a("a",{staticClass:"cron",attrs:{href:e.service+"cron",target:"_blank"}},[e._v("在线生成cron ")])])],1),e._v(" "),a("el-form-item",{attrs:{label:"数据源 :",prop:"configDataanalysisId"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择数据源"},on:{change:e.getControlInfo},model:{value:e.Form.configDataanalysisId,callback:function(t){e.$set(e.Form,"configDataanalysisId",t)},expression:"Form.configDataanalysisId"}},e._l(e.filterDsList,function(t){return a("el-option",{key:t.configDataanalysisId,attrs:{label:t.configDataanalysisName,value:t.configDataanalysisId}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.configDataanalysisName))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#999","font-size":"12px"}},[e._v(e._s(["计量","计数","MSA"][t.calculationType-1]))])])}))],1)],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"规格配置",name:"fourth"}},[a("el-col",{staticClass:"m-t",staticStyle:{"margin-bottom":"20px"},attrs:{span:22}},[a("v-control-info",{attrs:{controlInfo:e.controlInfo,show:!1,change:!0,recentInfo:e.recentInfo,hasParameterForSql:e.hasParameterForSql,controlLoading:e.controlLoading},on:{change:function(t){e.control=t},Loading:function(t){e.controlLoading=t},changevalue:e.changeValue}}),e._v(" "),a("el-form",{ref:"graph1",staticClass:"Form m-t",attrs:{"label-position":"right","label-width":"140px",model:e.Form,rules:e.rules,size:"mini"}},[a("el-row",{staticStyle:{overflow:"hidden"}},[a("div",[a("el-col",{staticClass:"setting",attrs:{span:24}},[a("el-form-item",{attrs:{label:"管制图形 :",prop:"controlGraph"}},[a("el-select",{attrs:{clearable:""},on:{change:e.filterRules},model:{value:e.Form.controlGraph,callback:function(t){e.$set(e.Form,"controlGraph",t)},expression:"Form.controlGraph"}},e._l(e.graphTypes,function(t){return a("el-option",{key:t.label+"_"+t.value,attrs:{label:t.label,value:t.value,disabled:!(t.type==e.graphType)}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!(t.type==e.graphType),expression:"!(graph.type==graphType)"}],staticStyle:{float:"right",color:"#999","font-size":"12px"}},[a("i",{staticClass:"el-icon-close"})])])}))],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.Form.controlGraph,expression:"Form.controlGraph"}],attrs:{label:1==e.graphType?"规格上限":e.LABEL+":",prop:"usl"}},[a("el-input",{model:{value:e.Form.usl,callback:function(t){e.$set(e.Form,"usl",e._n(t))},expression:"Form.usl"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"jl"==e.jljs,expression:"jljs=='jl'"}],attrs:{label:"目标值 :",prop:"targetValue"}},[a("el-input",{model:{value:e.Form.targetValue,callback:function(t){e.$set(e.Form,"targetValue",e._n(t))},expression:"Form.targetValue"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"jl"==e.jljs,expression:"jljs=='jl'"}],attrs:{label:"规格下限 :",prop:"lsl"}},[a("el-input",{model:{value:e.Form.lsl,callback:function(t){e.$set(e.Form,"lsl",e._n(t))},expression:"Form.lsl"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"jl"==e.jljs,expression:"jljs=='jl'"}],attrs:{label:"子组容量 :",prop:"groupNum"}},[a("el-input",{attrs:{placeholder:"请填写2-25的整数"},model:{value:e.Form.groupNum,callback:function(t){e.$set(e.Form,"groupNum",e._n(t))},expression:"Form.groupNum"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"jl"==e.jljs&&4==e.Form.controlGraph,expression:"jljs=='jl' && Form.controlGraph==4"}],attrs:{label:"移动距离 :",prop:"moveRange"}},[a("el-input",{attrs:{placeholder:"只能填写 2 或 3"},model:{value:e.Form.moveRange,callback:function(t){e.$set(e.Form,"moveRange",e._n(t))},expression:"Form.moveRange"}})],1)],1)],1)])],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"预警配置",name:"second"}},[a("el-form",{ref:"graph",staticClass:"Form m-t",attrs:{"label-position":"right","label-width":"120px",model:e.Form,rules:e.rules,size:"mini"}},[a("el-row",{staticStyle:{overflow:"hidden"}},[a("div",[a("el-col",{staticClass:"setting",attrs:{span:22}})],1)])],1),e._v(" "),a("el-form",{staticClass:"Form",attrs:{"label-position":"right","label-width":"120px",size:"mini"}},[a("el-row",[a("el-col",{attrs:{span:22}},[a("el-form-item",{attrs:{label:"过程能力 :"}},[e._l(e.Form.alertProcess,function(t,s){return a("el-col",{key:t.value+"_"+s,attrs:{span:24}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-select",{attrs:{placeholder:"请选择预警类型"},model:{value:t.keyIndex,callback:function(a){e.$set(t,"keyIndex",a)},expression:"alert.keyIndex"}},e._l(e.keyIndex,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1),e._v(" "),a("el-col",{attrs:{span:7,offset:1}},[a("el-select",{attrs:{placeholder:"请选择符号"},model:{value:t.symbol,callback:function(a){e.$set(t,"symbol",e._n(a))},expression:"alert.symbol"}},e._l(e.symbols,function(e){return a("el-option",{key:e.label+"@"+e.value+"@"+s,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-col",{attrs:{span:7,offset:1}},[a("el-input",{model:{value:t.keyValue,callback:function(a){e.$set(t,"keyValue",e._n(a))},expression:"alert.keyValue"}})],1),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:2}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.spcTaskOnlineAlertProcessId,expression:"!alert.spcTaskOnlineAlertProcessId"}],staticClass:"el-icon-delete",attrs:{size:"mini",type:"info",plain:""},on:{click:function(t){e.delAlertProcess(s,"true")}}}),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.spcTaskOnlineAlertProcessId,expression:"alert.spcTaskOnlineAlertProcessId"}],staticClass:"el-icon-delete",attrs:{size:"mini",type:"primary"},on:{click:function(a){e.deleteProcess(t,s)}}})],1)],1)],1)}),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:24}},[a("el-button",{staticClass:"el-icon-plus",attrs:{size:"mini",type:"primary"},on:{click:function(t){e.delAlertProcess(0,"false")}}})],1)],2),e._v(" "),a("el-form-item",{attrs:{label:"样本阈值 :"}},[e._l(e.Form.alertThreshold,function(t,s){return a("el-col",{key:"alertThreshold_"+s,attrs:{span:24}},[a("el-row",[a("el-col",{attrs:{span:5}},[a("el-select",{attrs:{placeholder:"请选择预警类型"},model:{value:t.warningType,callback:function(a){e.$set(t,"warningType",e._n(a))},expression:"alert.warningType"}},[a("el-option",{attrs:{value:1,label:"连续"}}),e._v(" "),a("el-option",{attrs:{value:2,label:"累计"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-row",[a("el-col",{attrs:{span:20}},[a("el-input",{attrs:{placeholder:"请填写发生次数"},model:{value:t.occurrences,callback:function(a){e.$set(t,"occurrences",e._n(a))},expression:"alert.occurrences"}})],1),e._v(" "),a("el-col",{staticStyle:{color:"#999","font-size":"12px","padding-left":"5px"},attrs:{span:4}},[e._v("次")])],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-select",{attrs:{placeholder:"请选择符号"},model:{value:t.symbol,callback:function(a){e.$set(t,"symbol",e._n(a))},expression:"alert.symbol"}},e._l(e.symbols,function(e){return a("el-option",{key:e.label+"@"+e.value+"@"+s,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-input",{attrs:{placeholder:"请填写阈值"},model:{value:t.threshold,callback:function(a){e.$set(t,"threshold",e._n(a))},expression:"alert.threshold"}})],1),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:2}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.spcTaskOnlineAlertThresholdId,expression:"!alert.spcTaskOnlineAlertThresholdId"}],staticClass:"el-icon-delete",attrs:{size:"mini",type:"info",plain:""},on:{click:function(t){e.delAlertThreshold(s,"true")}}}),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.spcTaskOnlineAlertThresholdId,expression:"alert.spcTaskOnlineAlertThresholdId"}],staticClass:"el-icon-delete",attrs:{size:"mini",type:"primary"},on:{click:function(a){e.deleteThreshold(t,s)}}})],1)],1)],1)}),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:24}},[a("el-button",{staticClass:"el-icon-plus",attrs:{size:"mini",type:"primary"},on:{click:function(t){e.delAlertThreshold(0,"false")}}})],1)],2),e._v(" "),a("el-form-item",{attrs:{label:"SPC判异 :"}},[a("div",{staticClass:"Table SPC_Table",staticStyle:{position:"relative"}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%",overflow:"hidden"},attrs:{data:e.filterRuleList,"tooltip-effect":"dark",border:"",size:"mini","row-key":"ruleNumber","empty-text":"请先选择管制图形"},on:{select:e.selectRules,"select-all":e.selectAllRules}},[a("el-table-column",{attrs:{type:"selection","reserve-selection":!0,align:"center",width:"30px"}}),e._v(" "),a("el-table-column",{attrs:{label:"编号",prop:"ruleNumber",align:"center",width:"50px"}}),e._v(" "),a("el-table-column",{attrs:{label:"现行规则","min-width":"10px","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n                                                    "+e._s(t.row.content.replace("n",t.row.n).replace("m",t.row.m))+"\r\n                                                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"content",label:"规则依据","min-width":"10px","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150px",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:-1==e.judgeSelect.indexOf(t.row.ruleNumber)?"info":"primary",disabled:-1==e.judgeSelect.indexOf(t.row.ruleNumber)},on:{click:function(a){e.rowDbclick(t)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:e.ruleNumber==t.row.ruleNumber?"success":"info",plain:""},on:{click:function(a){e.chartDes(t.row)}}},[a("svg-icon",{attrs:{"icon-class":"line-chart"}})],1)]}}])})],1),e._v(" "),a("div",{staticStyle:{"z-index":"10",position:"absolute",width:"25px",height:"25px",top:"10px",left:"4px","text-align":"center",background:"rgb(245,246,250)"}},[e._v("\r\n                                                    #\r\n                                                ")])],1)]),e._v(" "),a("el-form-item",["second"==e.activeName?a("v-ruleline",{attrs:{ruleNumber:e.ruleNumber,content:e.content,n:e.n,m:e.m}}):e._e()],1)],1)],1)],1)],1)],1)],1)],1)],1),e._v(" "),a("el-dialog",{staticClass:"dialog setting-form",attrs:{"close-on-click-modal":!1,visible:e.showChangePy,"show-close":!1,width:"300px"},on:{"update:visible":function(t){e.showChangePy=t}}},[a("el-form",{staticClass:"Form",attrs:{"label-position":"right","label-width":"40px",size:"mini"}},e._l(e.selectedPy,function(t,s,r){return"ruleNumber"!==s?a("el-form-item",{key:r+"_"+e.graphType+"_",attrs:{label:"["+s+"] ="}},[a("el-input",{model:{value:e.selectedPy[s],callback:function(t){e.$set(e.selectedPy,s,t)},expression:"selectedPy[k]"}})],1):e._e()})),e._v(" "),a("div",{staticStyle:{"border-top":"1px solid #ebeef5","margin-top":"20px","text-align":"center","padding-top":"20px","margin-bottom":"-10px"}},[a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"mini",loading:e.ruleLoading},on:{click:e.changePy}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:e.cancelChangePy}},[e._v("取消")])],1)])],1),e._v(" "),a("v-folder",{directives:[{name:"show",rawName:"v-show",value:e.$store.getters.showFolderTask,expression:"$store.getters.showFolderTask"}]})],1)},staticRenderFns:[]};var Lo=a("/Xao")(To,So,!1,function(e){a("WDgX")},null,null).exports,No=a("aiqZ"),Co=a("bI0I"),Do=(a("oTFt"),a("9GaO"),a("v/ij"),{props:{data:{},zoom:{type:Boolean,default:!1},bottom:{required:!1}},data:function(){var e=this;return this.dataZoom=[{type:"slider",startValue:0,endValue:50,show:this.zoom}],this.extend={series:{type:"line",smooth:!1,showAllSymbol:!0,symbolSize:[5,5],lineStyle:{normal:{color:"rgb(25,212,174)"}},itemStyle:{normal:{borderWidth:1,color:function(t){return e.data.error&&e.data.error[t.dataIndex]&&e.data.error[t.dataIndex].length>0?"#f00":"rgb(25,212,174)"}}}},tooltip:{formatter:function(t){return e.data.error&&e.data.error[t[0].dataIndex]&&e.data.error[t[0].dataIndex].length>0?t[0].dataIndex+1+"<br/>"+t[0].marker+"样本 :"+t[0].value+"<br/><span style='display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:#f00;'></span>"+e.data.error[t[0].dataIndex].join("<br/>"):Number(t[0].dataIndex)+1+"<br/>"+t[0].marker+t[0].seriesName+": "+t[0].value}}},{grid:{top:20,bottom:this.bottom?this.bottom:15,right:e.data.threshold&&e.data.threshold.length>0?40:20},yAxis:{max:function(t){return e.data.threshold&&e.data.threshold.length>0?Math.max.apply(Math,[t.max].concat(Ne()(e.data.threshold))).toFixed(3):e.data.process&&e.data.process.length>0?Math.max.apply(Math,[t.max].concat(Ne()(e.data.process))).toFixed(3):t.max.toFixed(3)},axisLine:{show:!0,position:"left",lineStyle:{color:"#aaa"}}}}},computed:{chartData:function(){return this.data},markLine:function(){var e={data:[]};return this.data.threshold&&this.data.threshold.length>0&&this.data.threshold.forEach(function(t){e.data.push({lineStyle:{normal:{color:"#f00"}},yAxis:t,itemStyle:{normal:{lineStyle:{color:"#00f"}}},label:{normal:{show:!0,position:"end",formatter:t}}})}),this.data.process&&this.data.process.length>0&&this.data.process.forEach(function(t){e.data.push({lineStyle:{normal:{color:"#f00"}},yAxis:t,itemStyle:{normal:{lineStyle:{color:"#00f"}}},label:{normal:{show:!0,position:"end",formatter:t}}})}),e}}}),Io={render:function(){var e=this.$createElement;return(this._self._c||e)("ve-line",{attrs:{data:this.chartData,"legend-visible":!1,grid:this.grid,"data-zoom":this.dataZoom,"mark-line":this.markLine,yAxis:this.yAxis,extend:this.extend}})},staticRenderFns:[]},Ao=a("/Xao")(Do,Io,!1,null,null,null).exports,Fo=a("rBKV").publicPath,Mo={mixins:[Fa],props:["detail","cpkList","step","processList"],components:{"v-quill-editor":No.quillEditor,"v-linex":St,"v-liner":Ct,"v-bar":Mt,"v-step":ia,"v-plato":la,"v-line":ua,"v-line-sample":Ao},data:function(){return It()({uploadLoading:!1,upload:ut,service:Fo,loading:!1,loadingN:!1,loadingY:!1,activeName:"X",sample:"",resourceList:["人员","设备","物料","操作方式","流程","其他"],toolbars:{bold:!0,italic:!0,header:!0,underline:!0,strikethrough:!0,mark:!0,superscript:!0,subscript:!0,quote:!0,ol:!0,ul:!0,link:!0,imagelink:!0,code:!0,table:!0,subfield:!0,fullscreen:!0,readmodel:!0,htmlcode:!0,help:!0},editorOption:{modules:{toolbar:{container:[["bold","italic","underline","strike"],["blockquote"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{size:["small",!1,"large","huge"]}],[{color:[]},{background:[]}],["clean"],[{align:[]},"image"]]}}},data:{exceptionType:1,exceptionContent:""},size:0,total:512},"service","")},methods:{setActiveName:function(e){this.activeName=e},alertUpdate1:function(){var e=this;if(""!=this.data.exceptionType&&""!=this.data.exceptionContent){if((this.sizeof(this.data.exceptionContent,"uft-8")/1024).toFixed(3)>this.total)return this.$message.warning("异常原因分析内容超过最大值"),!1;this.loading=!0,this.data.spcTaskOnlineAlertingId=this.detail.spcTaskOnlineAlertingId,this.data.processingState=1,lt(this.data).then(function(t){e.loading=!1,200==t.code?(e.$router.go(-1),e.$message.success(t.message)):e.$message.error(t.message)})}else this.$message.warning("请填写完整反馈信息")},alertUpdate:function(e){var t=this;if((this.sizeof(this.data.exceptionContent,"uft-8")/1024).toFixed(3)>this.total)return this.$message.warning("异常原因分析内容超过最大值"),!1;var a=Z()({},this.data);a.spcTaskOnlineAlertingId=this.detail.spcTaskOnlineAlertingId,"true"==e?(this.loadingY=!0,a.processingState=2):(this.loadingN=!0,a.processingState=0),lt(a).then(function(e){t.loadingN=!1,t.loadingY=!1,200==e.code?(t.$router.go(-1),t.$message.success(e.message)):t.$message.error(e.message)})},onEditorChange:function(e){var t=(this.sizeof(e.html,"uft-8")/1024).toFixed(3);this.size=t,t>this.total&&this.$message.warning("异常原因分析内容超过最大值")},sizeof:function(e,t){var a,s,r,i=0;if("utf-16"===(t=t?t.toLowerCase():"")||"utf16"===t)for(s=0,r=e.length;s<r;s++)i+=(a=e.charCodeAt(s))<=65535?2:4;else for(s=0,r=e.length;s<r;s++)i+=(a=e.charCodeAt(s))<=127?1:a<=2047?2:a<=65535?3:4;return i},submitUpload:function(){this.uploadLoading=!0,this.$refs.upload.submit()},handleRemove:function(e){var t=this;this.$confirm("确定删除文件"+e.name+"?","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning"}).then(function(){var a;(a={id:t.detail.spcTaskOnlineAlertingId,file:e.file},pe({url:"spc/task/online/alerting/deleteFile",method:"post",params:a})).then(function(e){200==e.code?(t.$emit("uploadfiles",e.data),t.$message.success(e.message)):t.$message.error(e.message)})}).catch(function(){})},handlePreview:function(e){Object(Co.downloadText)(e.url,e.name)},uploadSuccess:function(e,t,a){this.uploadLoading=!1,200==e.code?(this.$emit("uploadfiles",e.data),this.$message.success(e.message)):this.$message.error(e.message)},uploadError:function(e,t,a){this.uploadLoading=!1,this.$message.error(e.message)}},computed:{warningInfo:function(){return this.data.exceptionContent=this.detail.exceptionContent,this.data.exceptionType=this.detail.exceptionType,this.detail},XR:function(){return"jl"==this.type?[["X","R","平均值","极差值"],["X","S","平均值","标准差"],["Me","R","中位数","极差"],["X","MR","平均值","移动极差"]][Number(this.detail.spcTaskOnline.controlGraph)-1]:["X","R","平均值","极差值"]},chartData:function(){var e=this,t={};return this.cpkList.length>0&&this.cpkList.forEach(function(a,s){var r=JSON.parse(a.dataRecordProcessCapability),i=function(a){t[a]?t[a].rows.push(It()({x:s+1},a,r[a])):(t[a]={columns:["x",a],rows:[It()({x:s+1},a,r[a])],process:[]},e.processList&&e.processList.length>0&&e.processList.forEach(function(e){e.keyIndex==a&&t[a].process.push(e.keyValue)}))};for(var o in r)i(o)}),t},variableArr:function(){var e=[],t=["numGroup","ucl_first","ucl_second","lcl_first","lcl_second"];if(this.cpkList.length>0){var a=JSON.parse(this.cpkList[0].dataRecordProcessCapability);for(var s in a)-1==t.indexOf(s)&&e.push(s)}return e},sampleList:function(){var e={columns:["x","value"],rows:[],threshold:[],error:{}};this.detail.spcTaskOnlineAlertThreshold.length>0&&this.detail.spcTaskOnlineAlertThreshold.forEach(function(t){t.threshold&&e.threshold.push(t.threshold)});var t=JSON.parse(this.detail.dataRecord).spcTaskOnlineAlertThresholds,a={};t&&Array.isArray(t)&&t.length>0&&t.forEach(function(e){a[e.spcTaskOnlineAlertThresholdId]=["连续","累积"][e.warningType]+e.occurrences+"次"+[">",">=","<","<="][e.symbol]+e.threshold});var s=JSON.parse(this.detail.dataRecord).exceptionOnlineThresholdList,r={};return s&&Array.isArray(s)&&s.length>0&&s.forEach(function(e){r[e.dataIndex]?r[e.dataIndex].push(a[e.ruleNumb]):r[e.dataIndex]=[a[e.ruleNumb]]}),e.error=r,JSON.parse(this.detail.dataRecord).spcResult.groupValueList.forEach(function(t){t.dataList.forEach(function(t){e.rows.push({x:e.rows.length+1,value:t.value})})}),e},fileList:function(){var e=this,t=[];if(this.detail.processUploadFiles){var a=this.detail.processUploadFiles.split(";");Array.isArray(a)&&a.length>0&&a.forEach(function(a){t.push({name:a.split("@")[0],url:e.service.slice(1,-1)+"upload/"+a,file:a})})}return t},uploadData:function(){return{id:this.detail.spcTaskOnlineAlertingId}},action:function(){return this.service.slice(1,-1)+"spc/task/online/alerting/upload"}},watch:{detail:function(){if(this.detail.spcTaskOnline)if(this.detail.spcTaskOnline.controlGraph>0&&this.detail.spcTaskOnline.controlGraph<5)this.type="jl";else{this.TYPE=["p","np","c","u"][Number(this.detail.spcTaskOnline.controlGraph)-5],this.type="js"}"jl"==this.type&&this.jlRes(JSON.parse(this.detail.dataRecord).spcResult),"js"==this.type&&this.jsRes(JSON.parse(this.detail.dataRecord).spcResult)}},created:function(){this.service=a("rBKV").BASE_API}},Ro={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"warning"},[a("el-card",{staticClass:"m-t",attrs:{shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("预警条件")])]),e._v(" "),a("el-form",{staticClass:"Form",attrs:{"label-width":"100px","label-position":"right"}},[a("el-row",e._l(e.warningInfo.warningCondition,function(t,s){return a("el-col",{key:s+"_"+t,attrs:{span:8}},[a("el-form-item",[e._v("\n                            "+e._s(t)+"\n                    ")])],1)}))],1)],1),e._v(" "),a("el-card",{staticClass:"m-t",attrs:{shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("预警信息")])]),e._v(" "),a("div",[e._v("\n            "+e._s(e.warningInfo.warningInfo)+" ")])]),e._v(" "),a("el-card",{staticClass:"m-t",attrs:{shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("预警相关数据")])]),e._v(" "),a("div",[a("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"jl"==e.type?e.XR[0]+"管制图":"控制图",name:"X"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"jl"==e.type?e.XR[1]+"管制图":"累积概率图",name:"R"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"jl"==e.type?"制程能力图":"柏拉图",name:"Z"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"样本",name:"S"}}),e._v(" "),a("el-tab-pane",[a("span",{attrs:{slot:"label"},slot:"label"},[a("el-dropdown",{on:{command:e.setActiveName}},[a("span",{staticClass:"el-dropdown-link"},[e._v("\n                                选择趋势"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.variableArr,function(t){return a("el-dropdown-item",{key:t,attrs:{command:t}},[e._v(e._s(t)+"\n                                    ")])}))],1)],1)])],1)],1),e._v(" "),a("div",{staticStyle:{height:"400px"}},[e.XcharData.rows.length>0&&"jl"==e.type&&"X"==e.activeName?a("v-linex",{ref:"linex",attrs:{"chart-data":e.XcharData,MAX:e.max,MIN:e.min,selectedXrules:e.selectedXrules,WX:"100%",HX:"480",show:!0}}):e._e(),e._v(" "),e.RcharData.rows.length>0&&"jl"==e.type&&"R"==e.activeName?a("v-liner",{attrs:{"chart-data":e.RcharData,min:e.minR,max:e.maxR,selectedRrules:e.selectedRrules,HR:"480",WR:"100%",show:!0}}):e._e(),e._v(" "),"jl"==e.type&&e.countDatas.length>0&&"Z"==e.activeName?a("v-bar",{attrs:{count:e.countDatas,distData:e.distData,MIN:e.minZF,MAX:e.maxZF,sigma:e.sigma,usl:e.usl,lsl:e.lsl,sigma1:e.sigma1,sigma2:e.sigma2,sigma3:e.sigma3,sigma_1:e.sigma_1,sigma_2:e.sigma_2,sigma_3:e.sigma_3,HZ:"480",WZ:"100%"}}):e._e(),e._v(" "),e.dataX.length>0&&"js"==e.type&&"X"==e.activeName?a("v-step",{attrs:{dataX:e.dataX,ucl:e.ucl,lcl:e.lcl,badData:e.badData,errorDatas:e.errorDatas,type:e.TYPE,HX:"400",WX:"100%",show:!0}}):e._e(),e._v(" "),e.cumulativeRateData.rows.length>0&&"js"==e.type&&"R"==e.activeName?a("v-line",{attrs:{chartData:e.cumulativeRateData,HR:"400",WR:"100%",show:!0}}):e._e(),e._v(" "),"js"==e.type&&e.paretoData.count.length>0&&"Z"==e.activeName?a("v-plato",{attrs:{paretoData:e.paretoData,HZ:"400",WZ:"100%"}}):e._e(),e._v(" "),"S"==e.activeName?a("v-line-sample",{attrs:{data:e.sampleList,zoom:!0,bottom:"50"}}):e._e(),e._v(" "),e._l(e.variableArr,function(t){return[e.activeName==t?a("v-line-sample",{key:t+"sample",attrs:{data:e.chartData[t]}}):e._e()]})],2)]),e._v(" "),a("el-card",{staticClass:"m-t",attrs:{shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("厂商反馈")])]),e._v(" "),a("el-form",{staticClass:"Form",attrs:{"label-width":"100px","label-position":"right"}},[a("el-form-item",{attrs:{label:"根本原因归类 : "}},[a("el-select",{model:{value:e.data.exceptionType,callback:function(t){e.$set(e.data,"exceptionType",t)},expression:"data.exceptionType"}},e._l(e.resourceList,function(e,t){return a("el-option",{key:e,attrs:{value:t+1+"",label:e}})}))],1),e._v(" "),a("el-form-item",{staticClass:"Editor",attrs:{label:"异常原因分析 : "}},[a("v-quill-editor",{attrs:{options:e.editorOption},on:{change:function(t){e.onEditorChange(t)}},model:{value:e.data.exceptionContent,callback:function(t){e.$set(e.data,"exceptionContent",t)},expression:"data.exceptionContent"}}),e._v(" "),a("div",{staticStyle:{"line-height":"20px"}},[a("div",{staticStyle:{"margin-top":"10px"}},[a("span",{staticStyle:{color:"#ccc"}},[e._v("允许输入内容的最大值 : ")]),e._v(" "),a("span",{staticStyle:{color:"#666"}},[e._v(e._s(e.total)+" kb")])]),e._v(" "),a("div",[a("span",{staticStyle:{color:"#ccc"}},[e._v("输入内容:")]),e._v(" "),a("span",{staticStyle:{color:"#666"}},[e._v(e._s(e.size)+" kb")])])])],1),e._v(" "),a("el-form-item",[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:e.action,name:"fileName",data:e.uploadData,"auto-upload":!0,"on-success":e.uploadSuccess,"on-error":e.uploadError,"show-file-list":!1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")])],1)],1),e._v(" "),a("el-form-item",e._l(e.fileList,function(t,s){return a("div",{key:"file"+s,staticClass:"uploadFile",staticStyle:{"line-height":"25px"}},[e._v("\n                    "+e._s(t.name)+"\n                    "),a("el-button",{staticStyle:{float:"right","margin-left":"10px"},attrs:{size:"mini"},on:{click:function(a){e.handleRemove(t)}}},[a("i",{staticClass:"el-icon-delete"})]),e._v(" "),a("el-button",{staticStyle:{float:"right"},attrs:{size:"mini"},on:{click:function(a){e.handlePreview(t)}}},[a("i",{staticClass:"el-icon-download"})])],1)})),e._v(" "),a("el-form-item",[a("el-button",{directives:[{name:"show",rawName:"v-show",value:0==e.step,expression:"step==0"}],attrs:{size:"medium",type:"primary",loading:e.loading},on:{click:e.alertUpdate1}},[e._v("提交")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:1==e.step,expression:"step==1"}],attrs:{type:"primary",loading:e.loadingY},on:{click:function(t){e.alertUpdate("true")}}},[e._v("通过")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:1==e.step,expression:"step==1"}],attrs:{type:"warning",loading:e.loadingN},on:{click:function(t){e.alertUpdate("false")}}},[e._v("驳回")])],1)],1)],1)],1)},staticRenderFns:[]},$o={props:["spcTaskOnlineAlertingId"],data:function(){return{loadingY:!1,loadingN:!1}},methods:{alertUpdate:function(e){var t=this,a={};a.spcTaskOnlineAlertingId=this.spcTaskOnlineAlertingId,"true"==e?(this.loadingY=!0,a.processingState=2):(this.loadingN=!0,a.processingState=0),lt(a).then(function(e){t.loadingN=!1,t.loadingY=!1,200==e.code?t.$message.success(e.message):t.$message.error(e.message)})}}},zo={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"m-t text-center",attrs:{shadow:"never"}},[a("el-button",{attrs:{type:"primary",loading:e.loadingY},on:{click:function(t){e.alertUpdate("true")}}},[e._v("通过")]),e._v(" "),a("el-button",{attrs:{type:"warning",loading:e.loadingN},on:{click:function(t){e.alertUpdate("false")}}},[e._v("驳回")])],1)],1)},staticRenderFns:[]},Eo={components:{"v-line":Ao},data:function(){return{data:{warningCondition:[{"条件1":"内容"}]}}}},Po={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"m-t",attrs:{shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("预警信息")])]),e._v(" "),a("el-form",{staticClass:"Form",attrs:{"label-width":"100px","label-position":"right"}},[a("el-row",e._l(e.data.warningCondition,function(t,s){return a("el-col",{key:"warningCondition"+s,attrs:{span:8}},e._l(t,function(t,s){return a("el-form-item",{key:s,attrs:{label:s+" : "}},[e._v("\n                            "+e._s(t)+"\n                    ")])}))}))],1)],1),e._v(" "),a("el-card",{staticClass:"m-t",attrs:{shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("预警相关数据")])]),e._v(" "),a("v-line")],1),e._v(" "),a("el-card",{staticClass:"m-t",attrs:{shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("处理信息")])])]),e._v(" "),a("el-card",{staticClass:"m-t",attrs:{shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("厂商反馈")])])])],1)},staticRenderFns:[]},jo={components:{"v-unprocessed":a("/Xao")(Mo,Ro,!1,null,null,null).exports,"v-processing":a("/Xao")($o,zo,!1,null,null,null).exports,"v-processed":a("/Xao")(Eo,Po,!1,null,null,null).exports},data:function(){return{active:2,spcTaskOnlineAlertingId:"",spcTaskOnlineId:"",detail:{},cpkList:[],fullLoading:null,LOADING:{lock:!0,text:"数据加载中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.6)"},alertProcessList:[]}},methods:{getDetail:function(){var e,t=this;this.fullLoading=this.$loading(this.LOADING),(e={spcTaskOnlineAlertingId:this.spcTaskOnlineAlertingId},pe({url:"spc/task/online/alerting/detail",method:"post",params:e})).then(function(e){if(t.fullLoading.close(),200==e.code){var a=e.data.warningCondition.split("；");e.data.warningCondition=a,t.detail=e.data}else t.$message.error(e.message)})},getCpkList:function(){var e,t=this;(e={spcTaskOnlineId:this.spcTaskOnlineId},pe({url:"spc/task/online/alerting/cpkList",method:"post",params:e})).then(function(e){200==e.code?t.cpkList=e.data:t.$message.error(e.message)})},getProcessList:function(){var e=this;nt({spcTaskOnlineId:this.spcTaskOnlineId}).then(function(t){200==t.code?e.alertProcessList=t.data:e.$message.error(t.message)})}},created:function(){var e=this.$route.params.step,t=e.split("_")[1];this.spcTaskOnlineAlertingId=e.split("_")[0],this.spcTaskOnlineId=e.split("_")[2],t>=1&&t<=3?(this.active=t-1,this.getDetail(),this.getCpkList(),this.getProcessList()):this.$router.replace("/404")},beforeDrestroy:function(){this.fullLoading&&this.fullLoading.close()}},Vo={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticStyle:{"border-bottom":"1px solid #dcdfe6",padding:"5px 20px",background:"#fff"}},[a("el-col",{staticClass:"text-right",attrs:{span:24}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e.$router.go(-1)}}},[a("svg-icon",{staticStyle:{"font-size":"20px"},attrs:{"icon-class":"back"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"app-container"},[a("el-row",[a("el-col",{staticStyle:{position:"relative"},attrs:{span:20,offset:2}},[a("el-card",{staticClass:"bord-card"},[a("el-steps",{attrs:{active:e.active,"align-center":""}},[a("el-step",{attrs:{title:"未处理"}}),e._v(" "),a("el-step",{attrs:{title:"处理中"}}),e._v(" "),a("el-step",{attrs:{title:"处理结束"}})],1),e._v(" "),a("div",[a("v-unprocessed",{attrs:{detail:e.detail,cpkList:e.cpkList,step:e.active,processList:e.alertProcessList},on:{uploadfiles:function(t){e.detail.processUploadFiles=t}}})],1)],1)],1)],1)],1)],1)},staticRenderFns:[]},Oo=a("/Xao")(jo,Vo,!1,null,null,null).exports;var qo={data:function(){return{beginTime:"",endTime:"",userId:"",total:0,page:1,size:20,userList:[{}],logList:[],fullLoading:null,LOADING:{lock:!0,text:"数据加载中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.6)"}}},methods:{getLoglist:function(){var e,t=this,a={beginTime:this.beginTime,endTime:this.endTime,page:this.page,size:this.size};this.fullLoading=this.$loading(this.LOADING),(e=a,pe({url:"tb/log/info/list",method:"post",params:e})).then(function(e){t.fullLoading.close(),200==e.code?(t.total=e.data.length,t.logList=e.data):t.$message.error(e.message)})},handleSizeChange:function(e){this.size=Number(e),this.page=1,this.getLoglist()},handleCurrentChange:function(e){this.page=Number(e),this.getLoglist()}},created:function(){this.getLoglist()},beforeDestroy:function(){this.fullLoading&&this.fullLoading.close()}},Bo={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{attrs:{size:"mini",inline:!0,"label-width":"40"}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"时间 :"}},[a("el-date-picker",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选则开始日期"},model:{value:e.beginTime,callback:function(t){e.beginTime=t},expression:"beginTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"至"}},[a("el-date-picker",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选则结束日期"},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini",disabled:!e.beginTime&&!e.endTime},on:{click:e.getLoglist}},[e._v("查询")])],1)],1)],1),e._v(" "),a("div",{staticClass:"Table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.logList,border:"",stripe:""}},[a("el-table-column",{attrs:{prop:"userId",label:"用户",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n        "+e._s(t.row.tbUser.username)+"\r\n    ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"methodName",label:"接口",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"operationType",label:"操作类型",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n         "+e._s(["增","删","改","查"][t.row.operationType-1])+"\r\n     ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"visitDate",label:"访问时间",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n        "+e._s(e._f("unixTime")(t.row.visitDate,"1"))+"\r\n    ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"respDate",label:"响应时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"params",label:"参数",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"errorMsg",label:"错误信息",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"results",label:"返回值",align:"center"}})],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],staticClass:"m-t text-center"},[a("el-pagination",{attrs:{background:"","current-page":e.page,"page-size":e.size,"page-sizes":[5,10,20,30],layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.page=t}}})],1)],1)},staticRenderFns:[]},Uo=a("/Xao")(qo,Bo,!1,null,null,null).exports,Ho={render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("email")])},staticRenderFns:[]},Go=a("/Xao")(null,Ho,!1,null,null,null).exports,Xo={render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-dropdown",{staticClass:"international",attrs:{trigger:"click"},on:{command:this.handleSetLanguage}},[t("div",[t("svg-icon",{attrs:{"class-name":"international-icon","icon-class":"language"}})],1),this._v(" "),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:"zh",disabled:"zh"===this.language}},[this._v("中文")]),this._v(" "),t("el-dropdown-item",{attrs:{command:"en",disabled:"en"===this.language}},[this._v("English")])],1)],1)},staticRenderFns:[]};var Wo=a("/Xao")({computed:{language:function(){return this.$store.getters.language}},methods:{handleSetLanguage:function(e){this.$i18n.locale=e,this.$store.dispatch("setLanguage",e),this.$message({message:"switch language success",type:"success"})}}},Xo,!1,function(e){a("556D")},"data-v-38abd70a",null).exports;function Jo(e,t,a,s){var r=void 0!==window.screenLeft?window.screenLeft:screen.left,i=void 0!==window.screenTop?window.screenTop:screen.top,o=(window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-a/2+r,n=(window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/2-s/2+i,l=window.open(e,t,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=yes, copyhistory=no, width="+a+", height="+s+", top="+n+", left="+o);window.focus&&l.focus()}var Yo={name:"social-signin",methods:{wechatHandleClick:function(e){this.$store.commit("SET_AUTH_TYPE",e);Jo("https://open.weixin.qq.com/connect/qrconnect?appid=xxxxx&redirect_uri="+encodeURIComponent("xxx/redirect?redirect="+window.location.origin+"/authredirect")+"&response_type=code&scope=snsapi_login#wechat_redirect",e,540,540)},tencentHandleClick:function(e){this.$store.commit("SET_AUTH_TYPE",e);Jo("https://graph.qq.com/oauth2.0/authorize?response_type=code&client_id=xxxxx&redirect_uri="+encodeURIComponent("xxx/redirect?redirect="+window.location.origin+"/authredirect"),e,540,540)}}},Zo={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"social-signup-container"},[a("div",{staticClass:"sign-btn",on:{click:function(t){e.wechatHandleClick("wechat")}}},[a("span",{staticClass:"wx-svg-container"},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"wechat"}})],1),e._v(" 微信\n  ")]),e._v(" "),a("div",{staticClass:"sign-btn",on:{click:function(t){e.tencentHandleClick("tencent")}}},[a("span",{staticClass:"qq-svg-container"},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"qq"}})],1),e._v(" QQ\n  ")])])},staticRenderFns:[]};var Qo=a("/Xao")(Yo,Zo,!1,function(e){a("n1E3")},"data-v-2de1732c",null).exports,Ko=a("dhIU"),en={components:{LangSelect:Wo,SocialSign:Qo},name:"login",data:function(){return{TITLE:Ko.TITLE,loginForm:{username:"",password:""},loginRules:{login_name:[{required:!0,trigger:"blur",message:"username is required"}],password:[{required:!0,trigger:"blur",validator:"password is required"}]},passwordType:"password",loading:!1,showDialog:!1}},methods:{handleLogin:function(){var e=this;e.loading=!0,e.$store.dispatch("LoginByUsername",e.loginForm).then(function(t){200==t.code?(e.$store.commit("SET_ACTIVEINDEX","2-1"),e.$router.replace("/")):(e.loading=!1,e.$message.error(t.message))}).catch(function(t){var a="";a=t.message?t.message:"请求发生错误,请稍后重新登录",e.loading=!1,e.$message.error(a)})},afterQRScan:function(){}},created:function(){},destroyed:function(){}},tn={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-container"},[a("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{autoComplete:"on",model:e.loginForm,"label-position":"left"}},[a("div",{staticClass:"title-container"},[a("h3",{staticClass:"title"},[e._v(e._s(e.TITLE))])]),e._v(" "),a("el-form-item",[a("span",{staticClass:"svg-container svg-container_login"},[a("svg-icon",{attrs:{"icon-class":"user"}})],1),e._v(" "),a("el-input",{attrs:{name:"username",type:"text",autoComplete:"on",placeholder:"用户名"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),e._v(" "),a("el-form-item",[a("span",{staticClass:"svg-container"},[a("svg-icon",{attrs:{"icon-class":"password"}})],1),e._v(" "),a("el-input",{attrs:{name:"password",type:e.passwordType,autoComplete:"on",placeholder:"密码"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.handleLogin(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),e._v(" "),a("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{type:"primary",loading:e.loading},nativeOn:{click:function(t){t.preventDefault(),e.handleLogin(t)}}},[e._v(e._s(e.$t("login.logIn")))])],1),e._v(" "),a("el-dialog",{attrs:{title:e.$t("login.thirdparty"),visible:e.showDialog,"append-to-body":""},on:{"update:visible":function(t){e.showDialog=t}}},[e._v("\n    "+e._s(e.$t("login.thirdpartyTips"))+"\n    "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("social-sign")],1)],1)},staticRenderFns:[]};var an=a("/Xao")(en,tn,!1,function(e){a("QUzw"),a("8ezl")},"data-v-c6f37a14",null).exports;a("dPXb");var sn={data:function(){return{createLoading:!1,tempUser:{username:"",password:"",nickname:"",emailAddress:"",enabled:1,userKey:""},userRules:{username:[{required:!0,message:"请填写用户名",trigger:"change,blur"}],password:[{required:!0,message:"请填写密码",trigger:"change,blur"},{min:5,message:"密码的最小长度为5",trigger:"change,blur"}]}}},methods:{submit:function(){var e=this;this.$refs.userForm.validate(function(t){var a;t&&(e.createLoading=!0,(a={userId:e.tempUser.userId,username:e.tempUser.username,password:e.tempUser.password,userKey:e.tempUser.userKey,emailAddress:e.tempUser.emailAddress,enabled:2,userKeyOvertime:e.tempUser.userKeyOvertime,nickname:e.tempUser.nickname},pe({url:"tb/user/viewer/update",method:"post",data:a})).then(function(t){e.createLoading=!1,200==t.code?e.$message.success(t.message):e.$message.error(t.message)}))})},getUserDetail:function(){var e,t=this;(e={userId:"",userKey:this.tempUser.userKey},pe({url:"tb/user/viewer/detail",method:"post",params:e})).then(function(e){200==e.code?(Z()(t.tempUser,e.data),e.data.password&&(t.userRules.password=[{min:5,message:"密码的最小长度为5",trigger:"change,blur"}],t.tempUser.password="")):t.$message.error(e.message)})}},mounted:function(){this.tempUser.userKey=this.$route.params.key,this.getUserDetail()}},rn={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-col",{attrs:{xs:{span:20,offset:2},sm:{span:18,offset:3},md:{span:16,offset:4},lg:{span:16,offset:4},xl:{span:16,offset:4}}},[a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"50px"}},[a("el-form",{ref:"userForm",staticClass:" Form m-t",attrs:{size:"medium",model:e.tempUser,rules:e.userRules,"label-position":"right","label-width":"100px"}},[a("el-col",{attrs:{span:22}},[a("el-form-item",{attrs:{label:"用户名 :",prop:"username"}},[a("el-input",{attrs:{type:"text"},model:{value:e.tempUser.username,callback:function(t){e.$set(e.tempUser,"username",t)},expression:"tempUser.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码 :",prop:"password"}},[a("el-input",{attrs:{type:"password"},model:{value:e.tempUser.password,callback:function(t){e.$set(e.tempUser,"password",t)},expression:"tempUser.password"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱 :"}},[a("el-input",{attrs:{type:"text"},model:{value:e.tempUser.emailAddress,callback:function(t){e.$set(e.tempUser,"emailAddress",t)},expression:"tempUser.emailAddress"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"昵称 :"}},[a("el-input",{attrs:{type:"text"},model:{value:e.tempUser.nickname,callback:function(t){e.$set(e.tempUser,"nickname",t)},expression:"tempUser.nickname"}})],1),e._v(" "),a("el-form-item",{staticClass:"text-center"},[a("el-button",{attrs:{type:"primary",size:"mini",laoding:e.createLoading},on:{click:e.submit}},[e._v("注册")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]},on=a("/Xao")(sn,rn,!1,null,null,null).exports,nn=a("9wLW"),ln=a.n(nn),cn=a("VD6r"),un=a.n(cn),dn={name:"page404",data:function(){return{img_404:ln.a,img_404_cloud:un.a}},computed:{message:function(){return""}}},pn={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{background:"#f0f2f5","margin-top":"-20px",height:"100%"}},[a("div",{staticClass:"wscn-http404"},[a("div",{staticClass:"pic-404"},[a("img",{staticClass:"pic-404__parent",attrs:{src:e.img_404,alt:"404"}}),e._v(" "),a("img",{staticClass:"pic-404__child left",attrs:{src:e.img_404_cloud,alt:"404"}}),e._v(" "),a("img",{staticClass:"pic-404__child mid",attrs:{src:e.img_404_cloud,alt:"404"}}),e._v(" "),a("img",{staticClass:"pic-404__child right",attrs:{src:e.img_404_cloud,alt:"404"}})]),e._v(" "),a("div",{staticClass:"bullshit"},[a("div",{staticClass:"bullshit__oops"},[e._v("OOPS!")]),e._v(" "),a("div",{staticClass:"bullshit__headline"},[e._v(e._s(e.message))]),e._v(" "),a("div",{staticClass:"bullshit__info"},[e._v("请检查您输入的网址是否正确，请点击以下按钮返回")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.$router.go(-1)}}},[e._v("返回")])],1)])])},staticRenderFns:[]};var mn=a("/Xao")(dn,pn,!1,function(e){a("JvbQ")},"data-v-42cd4c16",null).exports;o.default.use(d.a);var hn=[{path:"/",component:J,redirect:"tb/user/folder",children:[{path:"tb/user/folder",component:Js,name:"TbUserFolder",meta:{title:"用户文件夹"}},{path:"dashboard",component:or,name:"Dashboard",meta:{title:"Dashboard"}},{path:"bpy/daoju",component:ur,name:"Bpy",meta:{title:"Bpy"}},{path:"cnc",component:kr,name:"Cnc",meta:{title:"历史查看"}},{path:"cncReal",component:Lr,name:"CncReal",meta:{title:"实时感知分析"}},{path:"cncHistory",component:Dr,name:"CncHis",meta:{title:"实时控制分析"}},{path:"cncList",component:Fr,name:"CncList",meta:{title:"CncList"}},{path:"cncConfig/:type",component:$r,name:"CncConfig",meta:{title:"cnc配置"}},{path:"config/:type",component:Ue,name:"Configuration",meta:{title:"配置"}},{path:"tb/folder",component:Os,name:"Folder",meta:{title:"创建文件夹"}},{path:"spc/task",component:at,name:"SpcCreate",meta:{title:"SPC任务配置"}},{path:"spc/task/:spc_id(\\d+)",component:yt,name:"SpcConfig",meta:{title:"SPC任务配置"}},{path:"spc/detail/:spc_id(\\d+)",component:$a,name:"SpcDetail",meta:{title:"SPC详情"}},{path:"spc/process/detail/:spc_id(\\d+)",component:Oa,name:"SpcProcessDetail",meta:{title:"SPC制程能力"}},{path:"spc/process/config/:spc_id(\\d+)",component:Ua,name:"SpcProcessConfig",meta:{title:"SPC制程能力配置"}},{path:"msa/task",component:Za,name:"MsaCreate",meta:{title:"MSA任务配置"}},{path:"msa/task/:msa_id(\\d+)",component:es,name:"MsaConfig",meta:{title:"MSA任务配置"}},{path:"msa/detail/:msa_id(\\d+)",component:Ps,name:"MsaDetail",meta:{title:"MSA详情"}},{path:"piping/gateway/cep/program",component:Pr,name:"Cep",meta:{title:"cep项目"}},{path:"piping/gateway/cep/program/:cep_id(\\d+)",component:Ji,name:"CepDetail",meta:{title:"cep项目详情"}},{path:"setting/:id(\\d+)",component:Gs,name:"Setting",meta:{title:"配置"}},{path:"overview",component:so,name:"Monitor",meta:{title:"监控"}},{path:"jobs/:id",component:ho,name:"Job",meta:{title:"job详情"}},{path:"spc/warning/:spc_id",component:yo,name:"Warning",meta:{title:"预警"}},{path:"spc/warning/config/:spc_id",component:Lo,name:"WarningConfig",meta:{title:"预警配置"}},{path:"spc/warning/step/:step",component:Oo,name:"Step",meta:{title:"预警进度详情"}},{path:"log",component:Uo,name:"Log",meta:{title:"日志"}},{path:"email",component:Go,name:"Email",meta:{title:"邮件"}}]},{path:"/regist/:key",component:on,meta:{title:"用户激活"},hidden:!0},{path:"/login",component:an,meta:{title:a("dhIU").TITLE},hidden:!0},{path:"/404",component:mn,meta:{title:"404"},hidden:!0},{path:"*",redirect:"/404",meta:{title:"404"},hidden:!0}],fn=new d.a({mode:"history",scrollBehavior:function(){return{y:0}},routes:hn}),gn=[],vn=a("hmpv"),bn=a("mUWM"),yn=a.n(bn),_n=a("xfhl"),xn=a.n(_n);o.default.use(vn.a);var wn={en:m()({},{route:{dashboard:"Dashboard",project:"Project"},navbar:{logOut:"Log Out",dashboard:"Dashboard",screenfull:"screenfull",theme:"theme"},login:{title:"Login Form",logIn:"Log in",username:"Username",password:"Password",any:"any",thirdparty:"Or connect with",thirdpartyTips:"Can not be simulated on local, so please combine you own business simulation! ! !"},projectIndex:{"Whether to delete this data":"Whether to delete this data ?",create:"Create Project",edit:"Edit Project"},table:{projectName:"Project Name",projectKey:"projectKey",projectCreater:"Created By",projectDescription:"Comment",createTime:"Create Time",action:"Action",eventStreamName:"Event Stream Name",eventStreamDes:"Event Stream Description",eventReceiverName:"Event Receiver Name",messageFormat:"Message Format",inputType:"Input Event Adapter Type",inputStreamId:"Input Stream Id",publisherName:"Event Publisher Name",outputType:"Output Event Adapter Type ",lastTime:"Last online time",statue:"Statue",gateName:"Gateway Name",gateKey:"Gateway Key",deviceName:"Deveice Name",regist:"Regist",deploy:"Deploy",online:"Online",comment:"Comment",operation:"Operation",enable:"Enable",df_size:"df_size",df_size_time:"df_size_time"},button:{delete:"Delete",edit:"Edit",createProject:"Create Project",cancel:"Cancel",confirm:"Confirm",stream:"Event Stream",receiver:"Event Receivers",publisher:"Event Publishers",execution:"Execution Plan",addStream:"Add Event Stream",editStream:"Update Event Stream",addReceiver:"Add Event Receiver",addPublisher:"Add Event Publisher",addExecution:"Add Execution Plan",detail:"Detail",back:"Back",add:"Add",reset:"Reset",update:"Update",validate:"Validate",import:"Import",export:"Export",device:"Device",gateway:"Gateway",disabled:"Disabled",enable:"Enable"},stream:{attrName:"Attribute Name",attrType:"Attribute Type",defineEventStream:"Define New Event Stream",enterEventStreamDetails:"Enter Event Stream Details",streamAttributes:"Stream Attributes",metaDataAttributes:"Meta Data Attributes",noMetaData:"No meta data attributes are defined",payloadDataAttributes:"Payload Data Attributes",noPayloadData:"No payload data attributes are defined",correlationDataAttributes:"Correlation Data Attributes",noCorrelationData:"No correlation data attributes are defined",detail:"Event Stream Details"},receiver:{addReceiver:"Add Event Receiver",createReceiver:"Create a New Event Receiver",receiverName:"Event Receiver Name",inputEvent:"Input Event Adapter Type",kafkaGroup:"Kafka Group",kafkaTopic:"Kafka Topic",eventStream:"Event Stream",messageFormat:"Message Format",mappingConf:"Mapping Configuration",mapping:"Mapping",xpath:"XPath Prefixes",prefix:"Prefixes",nameSpace:"Name Space",xpathExpression:"Parent Selector XPath Expression",properties:"Properties",jsonMapping:"Available JSON Mappings",jsonPath:"JsonPath",mappedTo:"Mapped To",type:"Type",defaultValue:"Default Value",regularExpressDefine:"Regular Expression Defintions",regularExpress:"Regular Expression",availableText:"Available Text Mappings",editReceiver:"Edit Event Receiver Configuration",receiverConf:"Event Receiver Configuration",detail:"Event Receiver Details"},publisher:{addPublisher:"Add Event Publisher",createPublisher:"Create a New Event Publisher",publisherName:"Event Publisher Name ",eventSource:"Event Source",streamAttr:"Stream Attributes",outputEvent:"Output Event Adapter Type",staticProperty:"Static Adapter Properties",host:"Proxy Host",port:"Proxy Port",httpMethod:"Http Client Method",url:"URL",userName:"Username",password:"Password",header:"Headers",outputMappingContent:"OutputMapping Content",inLine:"In-Line",pickFromRegistry:"Pick from registry",editPublisher:"Edit Event Publisher Configuration",publisherConf:"Event Publisher Configuration",detailPublisher:"Enter Event Publisher Details"},execution:{createExecution:"Create a New Execution Plan",enterDetail:"Enter Event Processor Details",importStream:"Import Stream",exportStream:"Export Stream",includeArbitrary:"Include Arbitrary",editExecution:"Edit Execution Plan Configuration",executionFlow:"Execution Plan Flow",executionPlan:"Execution Plan ",eventDetail:"Event Processor Details"},overview:{overview:"Overview",timeline:"Timeline",exception:"Exception",configuration:"Configuration",receiver:"Event Receivers",stream:"Event Streams",execution:"Event Execution",publisher:"Event Publishers"},messageCommunication:{createTopic:"Define Topic"},management:{createPro:"Create Project",editProject:"Edit Project",deletePro:"Delete Project",basicInfo:"Basic Information",addNode:"Add Node",list:"List",nodeType:"Node Type",deleGate:"Delete Gateway",deleDevice:"Delete Device",updateTime:"Update Time",deleteTopic:"Delete Topic",defineTopic:"Define Topic",topicName:"Topic Name",address:"Deveice Address",gateAddress:"Gateway Address",type:"Device Type",gateType:"Gateway Type",logList:"Logger List"},deploy:{createSystem:"Create Embedded System",deleteTem:"Delete Template"}},yn.a),zh:m()({},{route:{dashboard:"首页",project:"项目"},navbar:{logOut:"退出登录",dashboard:"首页",github:"项目地址",screenfull:"全屏",theme:"换肤"},login:{title:"系统登录",logIn:"登录",username:"账号",password:"密码",any:"随便填",thirdparty:"第三方登录",thirdpartyTips:"本地不能模拟，请结合自己业务进行模拟！！！"},projectIndex:{"Whether to delete this data":"是否删除本条数据？"},table:{projectName:"项目名称",projectKey:"projectKey",projectCreater:"创建者",projectDescription:"项目描述",createTime:"创建时间",action:"操作",eventStreamName:"事件流名称",eventStreamDes:"事件流描述",eventReceiverName:"事件流接收器",messageFormat:"数据格式",inputType:"事件适配器输入类型",inputStreamId:"事件流输入ID",publisherName:"事件流发布者",outputType:"事件适配器输出类型 ",deviceName:"  设备名称",lastTime:"最后上线时间",statue:"状态",gateName:"网关名称",gateKey:"网关 Key",regist:"注册",deploy:"部署状态",online:"在线状态",comment:"描述",operation:"权限",enable:"是否启用",df_size:"df_size",df_size_time:"df_size_time"},button:{delete:"删除",edit:"编辑",createProject:"创建项目",cancel:"取消",confirm:"确定",stream:"事件流",receiver:"接收器",publisher:"发布者",execution:"执行计划",addStream:"添加事件流",editStream:"修改事件流",addReceiver:"添加接收器",addPublisher:"添加发布者",addExecution:"添加执行计划",detail:"详情",back:"返回",add:"添加",reset:"重置",update:"提交",validate:"验证",import:"导入",export:"导出",device:"设备",gateway:"网关",disabled:"禁用",enable:"启用"},stream:{attrName:"属性名称",attrType:"属性类型",defineEventStream:"定义新的事件流",enterEventStreamDetails:"输入事件流详情",streamAttributes:"流属性",metaDataAttributes:"元数据属性:",payloadDataAttributes:"有效载荷数据属性:",correlationDataAttributes:"相关数据属性:",detail:"事件流详情"},receiver:{addReceiver:"添加",createReceiver:"定义新的事件流接收器",receiverName:"接收器",inputEvent:"事件适配器类型",kafkaGroup:"Kafka分组",kafkaTopic:"Kafka主题",eventStream:"事件流",messageFormat:"数据格式",mappingConf:"映射配置",mapping:"映射",xpath:"XPath 前缀",prefix:"前缀",nameSpace:"命名空间",xpathExpression:"Parent Selector XPath Expression",properties:"属性",jsonMapping:"可用的JSON映射",jsonPath:"Json路径",mappedTo:"映射到",type:"类型",defaultValue:"默认值",regularExpressDefine:"定义正则表达式",regularExpress:"正则表达式",availableText:"可用的Text映射",editReceiver:"编辑事件接收器配置",receiverConf:"事件接收器配置",detail:"事件接收器详情"},publisher:{addPublisher:"添加事件流发布者",createPublisher:"定义新的事件流发布者",publisherName:"发布者",eventSource:"事件源",streamAttr:"流属性",outputEvent:"事件输出适配器类型",staticProperty:"静态适配器属性",host:"代理主机",port:"代理端口",httpMethod:"Http请求方法",url:"URL",userName:"用户名",password:"密码",header:"Http头部",outputMappingContent:"输出映射内容",inLine:"In-Line",pickFromRegistry:"Pick from registry",editPublisher:"编辑事件发布者配置",publisherConf:"发布者配置",detailPublisher:"事件发布者详情"},execution:{createExecution:"创建一个新的执行计划",enterDetail:"输入事件处理器详情",importStream:"输入流",exportStream:"输出流",includeArbitrary:"Include Arbitrary",editExecution:"编辑执行计划配置",executionFlow:"执行计划流",executionPlan:" 执行计划 ",eventDetail:"事件处理器详情"},overview:{overview:"Overview",timeline:"Timeline",exception:"Exception",configuration:"Configuration",receiver:"事件接收者",stream:"事件",execution:"事件执行计划",publisher:"事件发布者"},messageCommunication:{createTopic:"定义Topic类"},management:{createPro:"创建项目",editProject:"编辑项目",deletePro:"删除项目",basicInfo:"基本信息",addNode:"添加节点",list:"列表",nodeType:"节点类型",deleGate:"删除网关",deleDevice:"删除设备",online:"连接状态",deploy:"部署状态",enable:"是否启用",updateTime:"最后更新时间",deleteTopic:"删除Topic",defineTopic:"定义Topic",topicName:"Topic 名称",address:"设备地址",type:"设备类型",gateAddress:"网关地址",gateType:"网关类型",logList:"日志列表"},deploy:{createSystem:"创建设备层嵌入式系统",deleteTem:"删除模板"}},xn.a)},kn=new vn.a({locale:"zh",messages:wn}),Tn={name:"svg-icon",props:{iconClass:{type:String,required:!0},className:{type:String}},computed:{iconName:function(){return"#icon-"+this.iconClass},svgClass:function(){return this.className?"svg-icon "+this.className:"svg-icon"}}},Sn={render:function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{class:this.svgClass,attrs:{"aria-hidden":"true"}},[t("use",{attrs:{"xlink:href":this.iconName}})])},staticRenderFns:[]};var Ln=a("/Xao")(Tn,Sn,!1,function(e){a("xVh5")},"data-v-20996423",null).exports;o.default.component("svg-icon",Ln);var Nn,Cn=a("90Fk");(Nn=Cn).keys().map(Nn);function Dn(e,t){return 1===e?e+t:e+t+"s"}function In(e){var t=Date.now()/1e3-Number(e);return t<3600?Dn(~~(t/60)," minute"):t<86400?Dn(~~(t/3600)," hour"):Dn(~~(t/86400)," day")}function An(e,t){if(0===arguments.length)return null;10===(e+"").length&&(e=1e3*+e);var a=t||"{y}-{m}-{d} {h}:{i}:{s}",s=void 0,r={y:(s="object"===(void 0===e?"undefined":se()(e))?e:new Date(parseInt(e))).getFullYear(),m:s.getMonth()+1,d:s.getDate(),h:s.getHours(),i:s.getMinutes(),s:s.getSeconds(),a:s.getDay()};return a.replace(/{(y|m|d|h|i|s|a)+}/g,function(e,t){var a=r[t];return"a"===t?["一","二","三","四","五","六","日"][a-1]:(e.length>0&&a<10&&(a="0"+a),a||0)})}function Fn(e,t){e=1e3*+e;var a=new Date(e),s=(Date.now()-a)/1e3;return s<30?"刚刚":s<3600?Math.ceil(s/60)+"分钟前":s<86400?Math.ceil(s/3600)+"小时前":s<172800?"1天前":t?An(e,t):a.getMonth()+1+"月"+a.getDate()+"日"+a.getHours()+"时"+a.getMinutes()+"分"}function Mn(e,t){if(e<=0)return e;var a=new Date(+e),s=a.getFullYear(),r=a.getMonth()+1>=10?a.getMonth()+1:"0"+(a.getMonth()+1),i=a.getDate()>=10?a.getDate():"0"+a.getDate(),o=a.getHours()>=10?a.getHours():"0"+a.getHours(),n=a.getMinutes()>=10?a.getMinutes():"0"+a.getMinutes(),l=a.getSeconds()>=10?a.getSeconds():"0"+a.getSeconds();return t?s+":"+r+":"+i+"-"+o+":"+n+":"+l:s+"-"+r+"-"+i}function Rn(e,t){for(var a=[{value:1e18,symbol:"E"},{value:1e15,symbol:"P"},{value:1e12,symbol:"T"},{value:1e9,symbol:"G"},{value:1e6,symbol:"M"},{value:1e3,symbol:"k"}],s=0;s<a.length;s++)if(e>=a[s].value)return(e/a[s].value+.1).toFixed(t).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+a[s].symbol;return e.toString()}function $n(e){var t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText}function zn(e){return(+e||0).toString().replace(/^-?\d+/g,function(e){return e.replace(/(?=(?!\b)(\d{3})+$)/g,",")})}function En(e){if(e)return e.slice(0,-2)}function Pn(e){return 0==e?"未激活":1==e?"激活":void 0}function jn(e){return 1==e?"发布":2==e?"订阅":3==e?"发布和订阅":"权限未知"}function Vn(e){return 0==e?"断线":1==e?"在线":void 0}function On(e){return 0==e?"未部署":1==e?"已部署":-1==e?"部署失败":void 0}function qn(e){return 0==e?"禁用":1==e?"启用":void 0}function Bn(e){if(1==e)return"Arduino"}function Un(e){return 0==e?"未发布":1==e?"已发布":void 0}function Hn(e,t){if(e>=0){if("string"!=typeof e&&(e=e.toString()),"-1"==e.indexOf("."))return e;var a=void 0;a=t?Number(t):3;var s=e.toString().split(".");return s[0]+"."+s[1].slice(0,a)}}function Gn(e){return e+"kB"}fn.afterEach(function(){});var Xn=a("dO3j"),Wn=a.n(Xn),Jn=a("e9aj"),Yn=a.n(Jn);a("dGyy");a("xwDc"),o.default.prototype.hasPerm=function(e){return ue.getters.permissions.indexOf(e)>-1},o.default.prototype.hasMenu=function(e){return ue.getters.menus.indexOf(e)>-1},o.default.use(l.a,{size:"medium",i18n:function(e,t){return kn.t(e,t)}}),o.default.use(Wn.a),o.default.prototype.$echarts=Yn.a,o.default.prototype.$Bus=new o.default,o.default.prototype.$Role=T(),o.default.prototype.$Height=function(){var e=void 0;return window.innerHeight?e=window.innerHeight:document.body&&document.body.clientHeight&&(e=document.body.clientHeight),e},o.default.prototype.$checkName=function(e,t,a){t.indexOf("_")>=0?a(new Error("节点名称不能包含下划线_")):a()},i()(s).forEach(function(e){o.default.filter(e,s[e])}),ue.commit("SET_USER_ROLE",T()),o.default.config.productionTip=!1,new o.default({el:"#app",router:fn,store:ue,i18n:kn,template:"<App/>",components:{App:u}})},OBsF:function(e,t){},OLl3:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-excel",use:"icon-excel-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-excel"><defs><style type="text/css"></style></defs><path d="M169.129737 645.838015l681.051425 0 0 39.119992-681.051425 0 0-39.119992Z" p-id="2834" fill="#bfbfbf" /><path d="M214.275134 767.832917l107.494201 0 0 27.713255-67.296739 0 0 20.634456 62.427055 0 0 26.473261L254.478615 842.653889l0 25.588411 69.24702 0 0 29.398683L214.275134 897.640983 214.275134 767.832917z" p-id="2835" fill="#bfbfbf" /><path d="M327.40348 767.832917l44.188315 0 22.975998 39.938628 22.356001-39.938628 43.7489 0-40.40814 62.866471 44.212392 66.941595-45.067145 0-25.636566-41.708328-25.636566 41.708328-44.802292 0 44.778215-67.645863L327.40348 767.832917z" p-id="2836" fill="#bfbfbf" /><path d="M548.471462 844.513879l35.153216 10.630236c-2.359599 9.859755-6.07958 18.094275-11.153923 24.703561-5.080362 6.615306-11.38266 11.605377-18.912912 14.964194-7.524233 3.364837-17.101076 5.050265-28.730531 5.050265-14.109441 0-25.630547-2.052611-34.575355-6.151813-8.938789-4.099202-16.661661-11.310427-23.156579-21.633674s-9.739367-23.5358-9.739367-39.643678c0-21.471151 5.712398-37.976308 17.137193-49.509452s27.580828-17.299716 48.480137-17.299716c16.354673 0 29.206062 3.304643 38.560189 9.913929 9.360146 6.609286 16.306517 16.763991 20.857174 30.458095l-35.424088 7.885396c-1.239994-3.954737-2.540181-6.850062-3.894543-8.673936-2.239212-3.069887-4.984052-5.429486-8.228501-7.084818-3.250469-1.649312-6.880159-2.479987-10.895089-2.479987-9.095293 0-16.059723 3.653767-20.899309 10.967322-3.659787 5.423467-5.48968 13.940899-5.48968 25.558314 0 14.386333 2.179018 24.246088 6.555112 29.579264 4.370074 5.339196 10.503829 8.005784 18.419322 8.005784 7.668698 0 13.471387-2.148921 17.402046-6.464821C543.848573 858.972445 546.701762 852.718303 548.471462 844.513879z" p-id="2837" fill="#bfbfbf" /><path d="M593.953945 767.832917l107.494201 0 0 27.713255-67.296739 0 0 20.634456 62.427055 0 0 26.473261-62.427055 0 0 25.588411 69.24702 0 0 29.398683L593.953945 897.640983 593.953945 767.832917z" p-id="2838" fill="#bfbfbf" /><path d="M715.936808 767.832917l40.107171 0 0 97.845124 62.601618 0 0 31.968961L715.936808 897.647002 715.936808 767.832917z" p-id="2839" fill="#bfbfbf" /><path d="M244.42624 311.479164l0 14.488663c0 4.002892 4.454346 7.247341 9.950046 7.247341l497.38189 0c5.4957 0 9.950046-3.244449 9.950046-7.247341l0-14.488663c0-3.996873-4.454346-7.241322-9.950046-7.241322l-497.38189 0C248.880586 304.237842 244.42624 307.482291 244.42624 311.479164L244.42624 311.479164z" p-id="2840" fill="#bfbfbf" /><path d="M652.269759 152.386784 252.426004 152.386784c-4.41823 0-7.999764 3.244449-7.999764 7.241322l0 0 0 14.488663c0 4.002892 3.581535 7.247341 7.999764 7.247341l399.849774 0" p-id="2841" fill="#bfbfbf" /><path d="M244.42624 448.847578l0 14.488663c0 4.002892 4.454346 7.247341 9.950046 7.247341l497.38189 0c5.4957 0 9.950046-3.244449 9.950046-7.247341l0-14.488663c0-3.996873-4.454346-7.241322-9.950046-7.241322l-497.38189 0C248.880586 441.606257 244.42624 444.850706 244.42624 448.847578L244.42624 448.847578z" p-id="2842" fill="#bfbfbf" /><path d="M253.359009 596.617493l0 14.488663c0 4.002892 4.376094 7.247341 9.775483 7.247341l488.786207 0c5.39939 0 9.775483-3.244449 9.775483-7.247341l0-14.488663c0-3.996873-4.376094-7.241322-9.775483-7.241322L263.140512 589.376171C257.741123 589.376171 253.359009 592.62062 253.359009 596.617493L253.359009 596.617493z" p-id="2843" fill="#bfbfbf" /><path d="M264.254099 152.386784l-13.164398 0c-3.635709 0-6.585209 4.014931-6.585209 8.962866l0 448.034961c0 4.947936 2.949499 8.962866 6.585209 8.962866l13.164398 0c3.635709 0 6.579189-4.014931 6.579189-8.962866L270.833288 161.34965C270.833288 156.401714 267.883788 152.386784 264.254099 152.386784L264.254099 152.386784z" p-id="2844" fill="#bfbfbf" /><path d="M437.576308 152.386784l-13.676046 0c-3.774155 0-6.838023 4.014931-6.838023 8.962866l0 448.034961c0 4.947936 3.063868 8.962866 6.838023 8.962866l13.676046 0c3.774155 0 6.832003-4.014931 6.832003-8.962866L444.408311 161.34965C444.408311 156.401714 441.350463 152.386784 437.576308 152.386784L437.576308 152.386784z" p-id="2845" fill="#bfbfbf" /><path d="M599.232946 166.869427l-13.676046 0c-3.774155 0-6.838023 3.888524-6.838023 8.685974l0 434.106101c0 4.797451 3.063868 8.685974 6.838023 8.685974l13.676046 0c3.774155 0 6.832003-3.888524 6.832003-8.685974L606.06495 175.555402C606.06495 170.757951 603.007102 166.869427 599.232946 166.869427L599.232946 166.869427z" p-id="2846" fill="#bfbfbf" /><path d="M734.35613 288.436953l0 323.37949c0 3.605612 3.063868 6.531034 6.838023 6.531034l13.676046 0c3.774155 0 6.832003-2.925422 6.832003-6.531034L761.702202 288.436953" p-id="2847" fill="#bfbfbf" /><path d="M885.01535 285.969005l-0.066213-43.556279-35.845445-44.441129 0 0.758443L692.858481 3.244449c-0.716307-0.890869-1.559021-1.46873-2.413774-2.004456l-1.023296-1.239994L204.782562 0.704268c-39.517271 0.060194-71.498271 39.944648-71.426038 89.086917l1.233974 845.332516c0.072233 49.14227 32.1676 88.936433 71.690891 88.876239l608.252967-0.890869c39.517271-0.060194 71.498271-39.944648 71.426038-89.086917l-0.945044-645.121708M687.898507 60.12765l147.360596 184.355744L723.948611 244.645918c-19.749606 0.030097-35.809329-19.882033-35.845445-44.441129L687.898507 60.12765 687.898507 60.12765zM850.181161 934.076328c0.036116 24.559096-15.963412 44.513362-35.713019 44.543459L206.215176 979.510656c-19.749606 0.030097-35.809329-19.882033-35.845445-44.441129L169.129737 89.737011c-0.036116-24.559096 15.963412-44.513362 35.713019-44.543459l447.246422-0.656113 0.228737 155.715504c0.072233 49.14227 32.1676 88.936433 71.690891 88.876239l125.227313-0.180582L850.181161 934.076328 850.181161 934.076328z" p-id="2848" fill="#bfbfbf" /></symbol>'});o.a.add(n);t.default=n},OOLB:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-example",use:"icon-example-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-example"><defs><style type="text/css"></style></defs><path d="M770.56 460.8l250.88 0C998.4 220.16 803.84 25.6 563.2 2.56l0 250.88C668.16 273.92 750.08 355.84 770.56 460.8L770.56 460.8zM770.56 460.8" p-id="9879" /><path d="M460.8 253.44 460.8 2.56C220.16 25.6 25.6 220.16 2.56 460.8l250.88 0C273.92 355.84 355.84 273.92 460.8 253.44L460.8 253.44zM460.8 253.44" p-id="9880" /><path d="M563.2 770.56l0 250.88c243.2-23.04 435.2-217.6 460.8-460.8l-250.88 0C750.08 668.16 668.16 750.08 563.2 770.56L563.2 770.56zM563.2 770.56" p-id="9881" /><path d="M253.44 563.2 2.56 563.2c23.04 243.2 217.6 435.2 460.8 460.8l0-250.88C355.84 750.08 273.92 668.16 253.44 563.2L253.44 563.2zM253.44 563.2" p-id="9882" /></symbol>'});o.a.add(n);t.default=n},OgFl:function(e,t){},P1Tm:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-kz",use:"icon-kz-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-kz"><defs><style type="text/css"></style></defs><path d="M576 512l0 320L448 832 448 512 576 512M586.5 448 437.5 448c-29.6 0-53.5 24-53.5 53.5l0 340.9c0 29.6 24 53.5 53.5 53.5l148.9 0c29.6 0 53.5-24 53.5-53.5L639.9 501.5C640 472 616 448 586.5 448L586.5 448z" p-id="4747" /><path d="M576 192l0 128L448 320 448 192 576 192M599.5 128l-175 0c-22.4 0-40.5 18.1-40.5 40.5l0 175c0 22.4 18.1 40.5 40.5 40.5l175 0c22.4 0 40.5-18.1 40.5-40.5l0-175C640 146.1 621.9 128 599.5 128L599.5 128z" p-id="4748" /><path d="M512 64c60.5 0 119.2 11.8 174.4 35.2 53.3 22.6 101.3 54.9 142.4 96 41.2 41.2 73.5 89.1 96 142.4C948.2 392.8 960 451.5 960 512s-11.8 119.2-35.2 174.4c-22.6 53.3-54.9 101.3-96 142.4-41.2 41.2-89.1 73.5-142.4 96C631.2 948.2 572.5 960 512 960s-119.2-11.8-174.4-35.2c-53.3-22.6-101.3-54.9-142.4-96-41.2-41.2-73.5-89.1-96-142.4C75.8 631.2 64 572.5 64 512s11.8-119.2 35.2-174.4c22.6-53.3 54.9-101.3 96-142.4s89.1-73.5 142.4-96C392.8 75.8 451.5 64 512 64M512 0C229.2 0 0 229.2 0 512s229.2 512 512 512 512-229.2 512-512S794.8 0 512 0L512 0z" p-id="4749" /></symbol>'});o.a.add(n);t.default=n},QUzw:function(e,t){},QjmH:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-password",use:"icon-password-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-password"><defs><style type="text/css"></style></defs><path d="M780.8 354.579692 665.6 354.579692 665.6 311.689846c0-72.310154-19.849846-193.299692-153.6-193.299692-138.870154 0-153.6 135.049846-153.6 193.299692l0 42.889846L243.2 354.579692 243.2 311.689846C243.2 122.249846 348.790154 0 512 0s268.8 122.249846 268.8 311.689846L780.8 354.579692zM588.8 669.420308C588.8 625.900308 554.220308 590.769231 512 590.769231s-76.8 35.131077-76.8 78.651077c0 29.459692 15.399385 54.468923 38.439385 67.820308l0 89.639385c0 21.740308 17.250462 39.699692 38.4 39.699692s38.4-17.959385 38.4-39.699692l0-89.639385C573.44 723.889231 588.8 698.88 588.8 669.420308zM896 512l0 393.609846c0 65.260308-51.869538 118.390154-115.2 118.390154L243.2 1024c-63.291077 0-115.2-53.129846-115.2-118.390154L128 512c0-65.220923 51.869538-118.390154 115.2-118.390154l537.6 0C844.130462 393.609846 896 446.779077 896 512z" p-id="9230" /></symbol>'});o.a.add(n);t.default=n},Quwr:function(e,t){},R2jY:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-qq",use:"icon-qq-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-qq"><defs><style type="text/css"></style></defs><path d="M273.5104 480.17408 272.31232 476.44672 271.33952 471.6032 270.6944 468.95104 270.6944 465.6128 270.6944 461.62944 270.6944 458.02496 271.85152 453.72416 273.02912 449.1776 274.5856 444.40576 276.6848 439.0912 279.43936 433.57184 283.33056 428.04224 283.33056 424.17152 283.70944 420.54656 284.3136 415.62112 285.98272 410.08128 287.51872 404.10112 288.74752 401.3568 290.16064 398.7968 291.98336 395.95008 293.96992 393.8304 293.96992 389.9392 293.96992 385.56672 293.96992 380.16 295.1168 373.11488 296.27392 364.93312 298.33216 355.14368 301.16864 344.95488 303.27808 339.3536 305.36704 333.2608 307.6608 327.5776 310.40512 321.4848 313.20064 314.81856 316.416 308.57216 320.03072 301.90592 324.58752 295.24992 326.69696 291.4304 328.93952 288.3072 333.824 281.26208 338.85184 274.23744 344.55552 267.008 350.6688 259.97312 357.30432 253.04064 364.22656 245.9136 372.60288 238.22336 377.91744 233.54368 384.39936 228.49536 390.97344 224.04096 398.08 219.76064 404.91008 215.95136 412.61056 212.79744 420.79232 208.91648 428.92288 206.25408 437.03296 203.48928 445.7984 200.74496 454.5536 198.656 463.75936 196.9152 473.09824 195.40992 482.31424 194.18112 491.52 192.9216 501.34016 192.38912 510.67904 192.38912 520.33536 192.38912 530.35008 192.38912 540.01664 193.60768 549.7344 194.7648 559.63648 195.79904 568.832 198.01088 578.53952 200.07936 587.65312 202.45504 597.63712 205.1072 606.7712 208.34304 615.51616 212.03968 624.85504 215.95136 633.37472 220.22144 641.65888 224.9728 649.7792 230.20544 656.77312 235.06944 660.0192 237.81376 663.41888 239.8208 669.91104 245.32992 675.3792 250.65472 680.83712 256.16384 686.15168 262.2464 690.5344 268.14464 695.7568 274.23744 699.392 280.7808 703.0784 286.59712 706.99008 293.36576 710.23616 299.25376 715.69408 311.71584 718.37696 318.1568 720.47616 324.12672 722.57536 330.60864 724.45952 336.70144 725.77024 341.94432 727.47008 348.1088 730.44992 359.1168 732.35456 368.75264 733.5936 378.07104 734.65856 385.56672 736.33792 396.98432 736.7168 398.7968 738.05824 400.85504 741.67296 406.76352 743.99744 410.76736 746.05568 414.93504 748.67712 419.39968 750.99136 424.7552 752.49664 430.2336 754.13504 436.24448 755.37408 442.40896 755.93728 445.44 756.45952 449.1776 756.45952 452.42368 755.93728 455.63904 755.93728 459.64288 754.9952 463.52384 753.27488 471.04 751.29856 474.83904 749.83424 479.10912 749.83424 480.17408 750.53056 481.49504 752.49664 484.61824 761.05728 497.28512 767.81568 506.79808 771.05152 513.14688 775.41376 520.09984 779.2128 527.7184 783.59552 535.8592 787.97824 545.01376 792.91392 555.37664 795.6992 561.72544 798.23872 567.93088 800.43008 574.47424 802.59072 580.36224 804.23936 586.5472 805.91872 592.35328 808.0384 603.67872 809.71776 615.24992 810.87488 625.5104 810.87488 631.11168 810.87488 635.71968 810.87488 639.98976 810.09664 645.12 808.99072 653.9776 807.4752 661.93408 805.12 669.15328 804.23936 672.09216 802.59072 675.6352 801.21856 678.10304 799.37536 681.14432 797.75744 683.0592 795.6992 685.53728 793.856 687.53408 791.88992 689.24416 789.53472 690.2784 787.41504 691.31264 785.67424 691.88608 784.15872 691.88608 783.01184 691.88608 781.312 691.31264 778.07616 689.7152 776.59136 688.65024 775.03488 687.53408 773.33504 686.00832 771.61472 684.29824 768.77824 681.14432 765.41952 676.68992 762.7776 672.09216 760.13568 668.416 757.5552 664.13568 753.92 656.5376 749.83424 648.63232 749.35296 648.35584 748.67712 648.35584 747.01824 649.59488 746.05568 651.6736 744.45824 654.25408 741.67296 661.93408 737.47456 672.86016 732.09856 686.00832 728.05376 692.56192 723.8144 699.40224 718.77632 707.09248 713.43104 714.61888 710.69696 718.0288 707.3792 721.74592 699.7504 729.2416 700.416 729.91744 701.45024 730.99264 705.25952 733.22496 721.13152 740.85376 728.05376 744.7552 734.65856 748.544 741.19168 753.31584 747.01824 758.23104 749.83424 760.45312 751.95392 763.01312 754.13504 765.98272 755.93728 769.19808 756.91008 771.87072 758.09792 775.07584 758.60992 777.85088 759.17312 781.08672 758.60992 783.2576 758.60992 785.4592 758.09792 787.73248 756.91008 789.8112 756.45952 791.43936 755.37408 793.41568 752.49664 797.3376 749.83424 800.48128 747.776 802.83648 746.05568 804.57728 741.67296 807.77216 736.7168 810.55744 731.43296 813.21984 725.77024 815.77984 719.45216 818.25792 716.05248 819.29216 713.07264 820.13184 705.73056 821.84192 698.15296 823.47008 690.5344 825.088 682.25024 826.43968 673.71008 826.79808 664.95488 827.8528 656.29184 827.8528 647.17824 827.8528 637.77792 827.8528 627.97824 827.27936 618.8544 826.43968 609.01376 825.088 599.25504 824.04352 588.97408 822.60992 579.01056 820.13184 569.2928 818.25792 559.63648 815.49312 549.7344 811.95008 540.01664 809.02144 534.89664 807.31136 530.35008 805.69344 527.47264 804.57728 524.61568 803.97312 520.93952 803.97312 516.53632 803.97312 507.19744 803.31776 502.4768 802.83648 496.39424 802.16064 492.4928 805.69344 487.168 809.02144 479.9488 812.53376 471.9616 816.91648 467.10784 819.29216 462.03904 821.17632 450.84672 825.7536 444.76416 827.27936 438.38464 828.99968 429.53728 830.72 423.99744 831.15008 418.14016 831.65184 412.02688 832.32768 404.91008 832.59392 398.08 832.59392 390.97344 832.59392 375.83872 832.59392 359.424 832.32768 343.48032 830.72 335.4112 829.57312 327.61856 828.416 320.03072 827.27936 312.44288 825.7536 305.36704 823.47008 298.33216 821.84192 291.98336 819.29216 285.98272 816.91648 280.38144 814.24384 275.51744 811.32544 270.6944 807.77216 269.04576 806.05184 266.88512 803.97312 265.24672 802.16064 263.77216 800.07168 262.41024 797.99296 261.35552 795.89376 259.82976 791.43936 259.29728 789.13536 258.62144 786.57536 258.62144 784.20992 259.29728 781.53728 259.29728 778.88512 259.82976 776.23296 259.82976 774.61504 259.82976 770.87744 260.08576 768.0512 261.35552 764.81536 262.41024 761.57952 264.32512 757.67808 265.728 756.1728 266.88512 754.432 269.90592 750.73536 272.31232 748.83072 274.5856 747.49952 276.6848 745.80992 280.00256 744.7552 282.66496 743.13728 285.98272 741.4272 289.76128 740.29056 293.56032 739.13344 297.96352 738.17088 302.1312 737.61792 307.07712 736.9728 312.44288 736.5632 313.83552 736.1024 314.14272 736.1024 314.81856 735.52896 314.81856 734.8736 313.83552 733.5424 310.9888 732.19072 303.872 726.02624 299.08992 722.21696 293.56032 717.37344 287.98976 711.95648 282.19392 705.03424 275.51744 697.23136 273.02912 693.01248 269.73184 688.65024 266.88512 683.61216 264.32512 678.10304 260.87424 672.86016 258.62144 666.88 255.93856 660.91008 253.25568 654.25408 251.31008 647.87456 249.45664 639.98976 248.90368 639.70304 248.34048 639.70304 248.05376 639.13984 247.36768 639.13984 246.24128 639.70304 245.67808 639.98976 244.89984 641.31072 244.62336 642.9184 244.03968 644.352 243.02592 646.73792 239.7696 652.53376 238.08 656.04608 235.39712 659.10784 232.5504 662.79424 229.40672 666.88 226.08896 670.50496 222.18752 674.01728 218.58304 677.31456 214.58944 679.936 210.2272 682.67008 206.0288 684.29824 201.08288 685.53728 196.22912 686.00832 195.75808 686.00832 195.08224 686.00832 193.96608 685.53728 193.08544 683.61216 191.66208 682.67008 189.7984 678.10304 188.63104 675.6352 187.38176 672.09216 186.34752 668.416 185.79456 664.79104 184.25856 656.5376 183.67488 651.6736 183.67488 646.73792 183.67488 635.71968 184.25856 623.81056 185.22112 617.728 186.34752 611.46112 187.38176 604.71296 189.21472 598.43584 191.27296 591.2064 193.39264 584.16128 196.22912 576.91136 198.90176 569.99936 202.5984 562.98496 206.0288 555.37664 210.2272 548.23936 215.16288 540.53888 220.18048 533.61664 225.42336 525.91616 229.79584 520.5504 235.39712 514.4064 241.29536 508.2112 244.03968 505.26208 247.36768 501.94432 252.20096 497.75616 257.16736 493.48608 265.24672 486.2464 271.33952 481.792Z" p-id="9447" /></symbol>'});o.a.add(n);t.default=n},RN8c:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-back",use:"icon-back-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-back"><defs><style type="text/css"></style></defs><path d="M411.328 46.004c11.185-12.784 27.165-17.577 41.547-11.185 14.381 6.392 23.969 20.773 23.969 38.351v209.333c0 9.588 7.989 19.176 19.176 19.176 255.674 9.588 460.214 223.715 460.214 485.782 0 71.908-15.98 142.219-44.743 202.942-30.361-209.333-202.942-372.326-415.471-381.914-4.793 0-9.588 1.597-14.381 4.793-3.196 3.196-6.392 7.989-6.392 14.381v185.364c0 17.577-9.588 31.959-23.969 38.351-14.381 6.392-31.959 1.597-41.547-11.185l-311.603-364.336-3.196-4.793c-14.381-14.381-14.381-38.351 0-54.331l3.196-4.793 313.201-365.934zM476.845 341.628c-20.773 0-38.351-17.577-38.351-38.351v-198.148c0-4.793-1.597-7.989-6.392-9.588-3.196-1.598-7.989 0-11.185 3.196l-282.84 332.377c-6.392 7.989-6.392 19.176 0 27.165l284.438 332.377c3.196 3.196 6.392 4.793 11.185 3.196 3.196-1.598 6.392-4.793 6.392-9.588v-175.777c0-20.773 17.577-38.351 38.351-38.351v0c198.148 0 367.532 121.446 439.44 294.025 0-22.372 0-47.939 0-76.702 0-246.086-196.55-445.832-441.038-445.832v0z" p-id="1596" /></symbol>'});o.a.add(n);t.default=n},RjYk:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-chart",use:"icon-chart-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-chart"><defs><style type="text/css"></style></defs><path d="M64 448 320 448 320 960 64 960 64 448 64 448ZM704 256 960 256 960 960 704 960 704 256 704 256ZM384 64 640 64 640 960 384 960 384 64 384 64Z" p-id="10423" /></symbol>'});o.a.add(n);t.default=n},RykG:function(e,t){},SBEl:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-international",use:"icon-international-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-international"><defs><style type="text/css"></style></defs><path d="M666.298182 824.087273c-12.567273-30.72-54.225455-83.316364-123.578182-156.392728-18.618182-19.549091-17.454545-34.443636-10.705455-78.894545v-5.12c4.421818-30.487273 12.101818-48.407273 114.501819-64.698182 52.130909-8.145455 65.629091 12.567273 84.712727 41.425455l6.283636 9.541818a101.003636 101.003636 0 0 0 51.432728 41.658182c9.076364 4.189091 20.247273 9.309091 35.374545 17.92C861.090909 649.774545 861.090909 672.814545 861.090909 723.549091v5.818182a215.272727 215.272727 0 0 1-41.425454 139.636363 472.436364 472.436364 0 0 1-152.203637 88.203637c27.927273-52.363636 6.516364-114.501818 0-132.421818zM512 40.96a468.014545 468.014545 0 0 1 203.869091 46.545455 434.501818 434.501818 0 0 0-102.865455 82.618181c-7.447273 10.24-13.730909 19.781818-19.781818 28.625455-19.549091 29.556364-29.090909 42.821818-46.545454 44.916364a200.843636 200.843636 0 0 1-33.745455 0c-34.210909-2.327273-80.756364-5.12-95.650909 35.374545-9.541818 25.832727-11.170909 95.650909 19.549091 131.956364a32.349091 32.349091 0 0 1 2.56 28.625454 56.087273 56.087273 0 0 1-16.523636 25.832727 151.505455 151.505455 0 0 1-23.272728-23.272727 151.272727 151.272727 0 0 0-66.56-52.829091c-10.007273-2.792727-21.178182-5.12-31.883636-7.447272-30.254545-6.283636-64.232727-13.498182-72.145455-30.487273a119.156364 119.156364 0 0 1-5.818181-46.545455 175.476364 175.476364 0 0 0-11.17091-74.007272 70.981818 70.981818 0 0 0-44.450909-39.563637A469.643636 469.643636 0 0 1 512 40.96zM0 512A512 512 0 1 0 512 0 512 512 0 0 0 0 512z" p-id="1420" /></symbol>'});o.a.add(n);t.default=n},SLu3:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-refresh",use:"icon-refresh-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-refresh"><defs><style type="text/css"></style></defs><path d="M936.432 603.424q0 2.848-0.576 4-36.576 153.152-153.152 248.288t-273.152 95.136q-83.424 0-161.44-31.424t-139.136-89.728l-73.728 73.728q-10.848 10.848-25.728 10.848t-25.728-10.848-10.848-25.728l0-256q0-14.848 10.848-25.728t25.728-10.848l256 0q14.848 0 25.728 10.848t10.848 25.728-10.848 25.728l-78.272 78.272q40.576 37.728 92 58.272t106.848 20.576q76.576 0 142.848-37.152t106.272-102.272q6.272-9.728 30.272-66.848 4.576-13.152 17.152-13.152l109.728 0q7.424 0 12.864 5.44t5.44 12.864zM950.736 146.272l0 256q0 14.848-10.848 25.728t-25.728 10.848l-256 0q-14.848 0-25.728-10.848t-10.848-25.728 10.848-25.728l78.848-78.848q-84.576-78.272-199.424-78.272-76.576 0-142.848 37.152t-106.272 102.272q-6.272 9.728-30.272 66.848-4.576 13.152-17.152 13.152l-113.728 0q-7.424 0-12.864-5.44t-5.44-12.864l0-4q37.152-153.152 154.272-248.288t274.272-95.136q83.424 0 162.272 31.712t140 89.44l74.272-73.728q10.848-10.848 25.728-10.848t25.728 10.848 10.848 25.728z" p-id="1888" /></symbol>'});o.a.add(n);t.default=n},SVqS:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-bug",use:"icon-bug-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-bug"><defs><style type="text/css"></style></defs><path d="M969.142857 548.571429q0 14.848-10.861714 25.709714t-25.709714 10.861714l-128 0q0 97.718857-38.290286 165.705143l118.857143 119.442286q10.861714 10.861714 10.861714 25.709714t-10.861714 25.709714q-10.276571 10.861714-25.709714 10.861714t-25.709714-10.861714l-113.152-112.566857q-2.852571 2.852571-8.557714 7.424t-23.990857 16.274286-37.156571 20.845714-46.848 16.566857-55.442286 7.424l0-512-73.142857 0 0 512q-29.147429 0-58.002286-7.716571t-49.700571-18.870857-37.705143-22.272-24.868571-18.578286l-8.557714-8.009143-104.557714 118.272q-11.446857 11.995429-27.428571 11.995429-13.714286 0-24.576-9.142857-10.861714-10.276571-11.702857-25.417143t8.850286-26.587429l115.419429-129.718857q-33.133714-65.133714-33.133714-156.562286l-128 0q-14.848 0-25.709714-10.861714t-10.861714-25.709714 10.861714-25.709714 25.709714-10.861714l128 0 0-168.009143-98.852571-98.852571q-10.861714-10.861714-10.861714-25.709714t10.861714-25.709714 25.709714-10.861714 25.709714 10.861714l98.852571 98.852571 482.304 0 98.852571-98.852571q10.861714-10.861714 25.709714-10.861714t25.709714 10.861714 10.861714 25.709714-10.861714 25.709714l-98.852571 98.852571 0 168.009143 128 0q14.848 0 25.709714 10.861714t10.861714 25.709714zM694.857143 219.428571l-365.714286 0q0-75.995429 53.430857-129.426286t129.426286-53.430857 129.426286 53.430857 53.430857 129.426286z" p-id="10315" /></symbol>'});o.a.add(n);t.default=n},SwZq:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-analysiss",use:"icon-analysiss-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-analysiss"><defs><style type="text/css"></style></defs><path d="M181.812 648.023c-4.925 0-9.85-1.878-13.607-5.633-29.88-29.878-46.333-69.605-46.333-111.862 0-42.252 16.453-81.979 46.333-111.862 7.516-7.51 19.699-7.51 27.215 0 7.516 7.516 7.516 19.704 0 27.22-22.608 22.606-35.06 52.669-35.06 84.642 0 31.978 12.451 62.036 35.06 84.642 7.516 7.516 7.516 19.704 0 27.22a19.193 19.193 0 0 1-13.608 5.633z" fill="#8a8a8a" p-id="1818" /><path d="M126.16 705.513c-4.925 0-9.85-1.878-13.607-5.633-93.38-93.383-93.38-245.322 0-338.705 7.516-7.51 19.699-7.51 27.215 0 7.516 7.516 7.516 19.704 0 27.22-78.372 78.372-78.372 205.892 0 284.264 7.516 7.516 7.516 19.704 0 27.22a19.191 19.191 0 0 1-13.608 5.634zM766.682 808.501H261.015c-10.629 0-19.246-8.614-19.246-19.243V161.203c0-10.629 8.616-19.243 19.246-19.243h505.667c10.629 0 19.246 8.614 19.246 19.243v628.055c0 10.63-8.617 19.243-19.246 19.243zM280.26 770.015h467.176V180.446H280.26v589.569z" fill="#8a8a8a" p-id="1819" /><path d="M473.364 906.154a19.236 19.236 0 0 1-17.835-12.008l-35.845-88.392c-3.994-9.85 0.753-21.073 10.603-25.067 9.855-3.989 21.073 0.758 25.067 10.597l28.419 70.082 189.351-82.642c9.741-4.27 21.086 0.191 25.337 9.94 4.251 9.738-0.199 21.083-9.94 25.332l-207.459 90.55a19.215 19.215 0 0 1-7.698 1.608zM772.848 775.447c-7.42 0-14.491-4.312-17.649-11.547-4.251-9.744 0.199-21.089 9.94-25.337l149.441-65.234-157.042-387.237c-3.994-9.85 0.753-21.073 10.603-25.067 9.855-3.994 21.073 0.753 25.067 10.597l164.085 404.612c3.92 9.669-0.576 20.702-10.136 24.871l-166.621 72.729a19.11 19.11 0 0 1-7.688 1.613zM513.847 249.308c-10.629 0-19.246-8.614-19.246-19.243s8.616-19.243 19.246-19.243c27.493 0 49.858-23.529 49.858-52.446 0-28.923-22.364-52.452-49.858-52.452-27.491 0-49.855 23.529-49.855 52.452 0 10.629-8.616 19.243-19.246 19.243s-19.246-8.614-19.246-19.243c0-50.144 39.632-90.938 88.347-90.938s88.349 40.793 88.349 90.938c0 50.139-39.634 90.932-88.349 90.932zM414.892 470.677h-71.427c-10.629 0-19.246-8.614-19.246-19.243v-74.103c0-10.629 8.616-19.243 19.246-19.243h71.427c10.629 0 19.246 8.614 19.246 19.243v74.103c0 10.63-8.616 19.243-19.246 19.243z m-52.181-38.486h32.935v-35.617h-32.935v35.617zM414.892 640.491h-71.427c-10.629 0-19.246-8.614-19.246-19.243v-74.097c0-10.629 8.616-19.243 19.246-19.243h71.427c10.629 0 19.246 8.614 19.246 19.243v74.097c0 10.629-8.616 19.243-19.246 19.243z m-52.181-38.486h32.935v-35.611h-32.935v35.611zM613.825 398.415H506.84c-10.629 0-19.246-8.614-19.246-19.243s8.616-19.243 19.246-19.243h106.985c10.629 0 19.246 8.614 19.246 19.243s-8.616 19.243-19.246 19.243zM664.574 468.227H506.84c-10.629 0-19.246-8.614-19.246-19.243s8.616-19.243 19.246-19.243h157.734c10.629 0 19.246 8.614 19.246 19.243s-8.616 19.243-19.246 19.243zM613.825 564.246H506.84c-10.629 0-19.246-8.614-19.246-19.243s8.616-19.243 19.246-19.243h106.985c10.629 0 19.246 8.614 19.246 19.243s-8.616 19.243-19.246 19.243zM664.574 634.062H506.84c-10.629 0-19.246-8.614-19.246-19.243s8.616-19.243 19.246-19.243h157.734c10.629 0 19.246 8.614 19.246 19.243s-8.616 19.243-19.246 19.243z" fill="#8a8a8a" p-id="1820" /></symbol>'});o.a.add(n);t.default=n},"T+lk":function(e,t){},Tdv8:function(e,t){},TgHK:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-peoples",use:"icon-peoples-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-peoples"><defs><style type="text/css"></style></defs><path d="M765.184 873.941333c0 33.28-28.501333 60.288-63.829333 60.288L63.829333 934.229333C28.501333 934.229333 0 907.221333 0 873.941333c0-120.576 123.264-233.258667 249.216-277.674667-72.789333-42.496-121.728-118.058667-121.728-204.8L127.488 331.136c0-133.248 114.346667-241.365333 255.146667-241.365333s255.146667 108.117333 255.146667 241.365333l0 60.288c0 86.826667-48.981333 162.304-121.728 204.842667C641.962667 640.725333 765.184 753.365333 765.184 873.941333L765.184 873.941333z" p-id="1641" /><path d="M848.256 870.570667l126.933333 0c27.008 0 48.810667-20.650667 48.810667-46.08 0-92.245333-94.293333-178.346667-190.549333-212.309333 55.637333-32.512 93.098667-90.282667 93.098667-156.672L926.549333 409.344c0-101.888-87.424-184.576-195.114667-184.576-13.397333 0-26.453333 1.28-39.125333 3.712 15.488 31.146667 24.149333 65.92 24.149333 102.613333l0 60.288c0 86.826667-24.448 152.746667-88.533333 204.842667C746.666667 625.365333 846.421333 751.018667 848.256 870.570667z" p-id="1642" /></symbol>'});o.a.add(n);t.default=n},"U//3":function(e,t){},U9Ws:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-home",use:"icon-home-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="icon-home"><path fill="#909399" d="M900.708999 434.096722 572.598146 128.216173c-19.24532-18.526959-40.571021-29.744441-65.920362-29.806863-25.059745 0-47.609321 11.528568-64.85203 28.622898L125.774565 433.894108c-15.746636 16.118096-20.297278 39.939641-11.553127 60.735269 8.738012 20.781302 28.950356 34.20401 51.491745 34.20401l43.74327 0 0 311.289746c0 48.420803 39.378869 87.799672 87.799672 87.799672l151.653979-0.100284-0.00614-253.983575 127.046534 0-0.202615 253.983575 152.525835 0.100284c48.421826 0 87.799672-39.378869 87.799672-87.799672l0-311.289746 44.493354 0c22.479991 0 42.674938-13.375635 51.444673-34.07712C920.788314 474.052736 916.345118 450.247564 900.708999 434.096722zM867.908966 476.077859c-1.254573 2.962471-4.131087 4.863774-23.304775 4.863774l-76.420507 0 0 359.180476c0 22.01234-17.895579 39.908942-39.908942 39.908942L623.841228 880.031051 623.841228 665.724127c0-21.933545-16.2061-39.776935-36.120662-39.776935l-150.579507 0c-19.922748 0-36.126802 17.842367-36.126802 39.776935l0 214.307947L297.257148 880.032074c-22.01234 0-39.908942-17.896602-39.908942-39.908942l0-359.180476-91.634 0c-3.212158 0-6.094812-1.917676-7.341199-4.878101-1.26276-2.978844-0.607844-6.377244 1.62808-8.683776l316.846298-307.704081c7.251148-7.249101 18.426675-12.822027 29.931706-12.822027 11.404748 0.031722 22.292726 4.40431 30.618345 13.836123l328.905962 306.72273C868.548532 469.718011 869.170702 473.116411 867.908966 476.077859z" /></symbol>'});o.a.add(n);t.default=n},UBe8:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-copy",use:"icon-copy-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-copy"><defs><style type="text/css"></style></defs><path d="M640 256l0-256-448 0-192 192 0 576 384 0 0 256 640 0 0-768-384 0zM192 90.496l0 101.504-101.504 0 101.504-101.504zM64 704l0-448 192 0 0-192 320 0 0 192-192 192 0 256-320 0zM576 346.496l0 101.504-101.504 0 101.504-101.504zM960 960l-512 0 0-448 192 0 0-192 320 0 0 640z" p-id="1701" fill="#8a8a8a" /></symbol>'});o.a.add(n);t.default=n},Uo1D:function(e,t){},V2TC:function(e,t){},VD6r:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJgAAACKCAYAAABW3IOxAAAAAXNSR0IArs4c6QAAElhJREFUeAHtnXuQHMV9x7tndvdOQkgCWZKxkITEQ5YB87AVCT9iEqgyTsXlyA42QVRcScXYzvOPkKeJLSrOy8RVxMSVBNuVqrhIxS7KJk5BKlWpQKiKX4hgwOII6CzLAk6H0Pt0e/uY6Xx+p7vT3Gl2b2e3Z2d2t7vqdzuP7l//+tvf6+75dU+PVi5kioAxZl01UDtMEG43Wu/AmOuUUYeVVqNKmVGjvX2+HAdqX6mkfqS1Pp2pwQkz1wnju+gdIACZlpTr6npU7FChETIh5uJkKvWYPkO+fUp7oyZUowWt9hWLahTyHU2mK/3YjmApYjxlzGWmSuukQ4iktwP2NZCsmFqWWh9D96hWZp+nvb2lgvompNubWn4tKHYEawGkVqJAnBWVutpmZlono2mdjFnVSlqbcTytnynSpHlaXYPeV5F3QLIDNvNIossRLAlaM3Ehk1etqitDIZGidTKMnbTayvVM8IRAZQj1dNHXF9N9blhQpBc4f2dW3WcmgCwAIPenEGdNJVDbGYhDpOmB+DaunZ+14VrpV31fjxb96dZqeRN7vs29m4WITeKkcssRbAGsEKdUq6lrQ7o6M9M6GWU2LYiW6Snd4HO+p8sFX70dQ7wWjfkW8T4IyYIW41uJNvAEKxuzUQbiSocMwqdbp+sh2ZAVdC0qgRhVur8nS75+A79b2lT9AHo+3mbatpINHMEgz/JKqH7ZmPBtJtA3J3cTtIVz+4m0PsyYfS8D9ytRsrp9RXMpd0Oye+bOUj4YOIJNVsJvQKqdgitAh8aocQbIr/P0d4pLNbmMDOPsXKk9tSYMzUrOux6wbaTg6SN0g9vI3HaLeif6v9SNQg0UwSZr5ndVGP51EmCpiJPEH4OAxwFLBskyhilyvozBzyp+L5JxWxKdjeKSl+j+Xqmgl0D66xrFs3Bd8tlJfv9mQVdTFQNDMMj1Tm3M45Ch0BSRhDeppBqtnXjXZXrnlApV1TAKxwe2hHsreEBYw/015NsYazzwdIM/KBT0ZURa6GZIaFHL0eWf5SZs/E7LKdqI2LjQbSjLaxIqd3W5ap6ma1yXiY2MowB6nLyPQbZJ7dE1Kzz6Ri2hG6zMdINZuD2OYNO7IJn4ylIJfU8wyOVN1cx/8MuAPj+BSq0PFabnFddnbNUB8r8Be8bSsKNVH0oaeXdF51Q13J03cknB8WM9TUeaNbnElI3Iv4NRM0etxGsr9HULRsv1XoAT8HJVToZozw8V9VvaqrH0Ej2G6ltoyao2s+jbFmzSmPX4IB7MG7mowIlSUa+xWYmWdP0Mev7JNl59STBAKqqa+XoWqxkWq+yCr1+iOX3DYvEyuv8R8r3bZt59SbByDV+XmV7QZxOrjnUx7tpT8FL1b3VsIwq22lAyq6PvCDZZMbfy+P/bswXMz68ew4FqtfLyU7bGlvQVwVhBeoXW5iuNi5vNHcZdhkH9cXI/LxsLssu1bwjGuGuJqZmH+M3CYdm0Bnlp49tM/Qxc6yWgWJ02aYpyyjenauHfMXF9dcrZJFZP6/UiKyG2J07YJwn6ogVjGujXINdH81YnkGuKrlFWQvTNP3JSjHueYNWquZY5xvuTFrwb8Zln3INLQjzlAxt6n2BBeBdPjaxm0CZPtYg9e5jEfleebMrClp5vuk9Vwl1CLqZf9nuePljy1YTvqxKku4iB9eUM+m0v1lu8nrR+fbioB7rlmgWp5wkmBYFEOjBmcxCqzbX6bNFkaao+4fvmh3RVRwu+Z3iau5CLl5LggrOx7B/h7xpF68AO7KOI9gXBogWKHrPmakU9UG+rB/SetWD6Fq1dQEv3Eu8QjtHCVYueWso4aT1xraxsQPcTEPmno3YM8nFfEyyuYmnt/CAwlweBujx6n0WARwqe9+OCF55kOodDbzXE20z8lpdD02LuZ42X7D3hwgwCA0ewRjVvQrOqFgar5K2PMyGQl0JqdK//xxzi6wzYA1qmFazhugTSrZiNNfsrcSHXBOebZq+53wH2z7RS+RCpWAvMFnrXLdPvG80kohscLxW8l30dln3PG+ZR/E2QcATy3dSK3kGK41qwNmqbV9nWTlWDtWeSnhnbrT6/kNclOG2U0F6SnveD2YOiY03unzUGQkewGFDcJXsIOILZw9JpikHAESwGFHfJHgKOYPawdJpiEHAEiwHFXbKHgCOYPSydphgEHMFiQHGX7CHgCGYPS6cpBgFHsBhQ3CV7CDiC2cPSaYpBwE1vxIAy4Jd+gUn+V1rA4Ani3CHr65rFdQRrhs5g3ltCsUUWC7cRQbYX/XiziK6LbIaOu7cYAnfS2t3TLJIjWDN03L1WEPg0JPtko4iOYI2QcdeTIPC3kOxDcQkcweJQcdeSIiA8ks3+blyY0BFsISLuvF0E5P3ThyGZfEZwLjiCzUHhDiwgIC/DyJ64cy++OIJZQNWpmIfARZzJtvHT31VyBJuHjTuxhIC8c/ooJJPP7bjgEEgFAfmW5UOOYKlg65TOIHCTI5jjQqoIOIKlCq9T7gjmOJAqAo5gqcLrlDuCOQ6kikBPEww/yw2+7z3FvlynU0XJKW8bgZ5bcAipZDHcLyG/gVy/+owrr16tq2fLNXO0UgtWhopPtmSxN2vb1dC/CdnErzcCxLoUSz+B/Cpy4SJWlys1M1KuhyeqdcP3svWbSe8vkqaj22zfFPqe6ukeoSMA4hPXc00wSCEVdgsirdX7kLbsZYfWE3yc9AW+fltmQ7mLjNJXoLstXdgQGxzBYmHJJ8GofGmhfgX5dWRzrOkdXOSrIIf5OsiLtHB1NgneQH6bOlA3ndQRLBbBfBGMipYNdKW1kjFWKy8exJYq6cXQqJch3GilFupqIIQ2FyfV4QgWi1j2BINUsovzrchvIjtizezyRfbb38cDw0E+sFXgeAs2LvoJZEew2ErKjmBU2gZMkleePoZMrx2KNTH7i2EtVCO0cIdo4ZaGodrKnvorF5rlCLYQkenz7hMMYt1M1tINvh9J9cluuoj2/9T4msjeybo5DOFWmFBdCeHOcwSLBbo7BINUy8n+o4gQa0usKb17cbJSV4+VCurneCy1+mTau5DMWZ4uwSDWVWQlpLoDWTaXbf8cvERR5FPJ2/qnSFZLUrfuyYdUonMnIsR6j1Vz86PsJ5jyMnID4lqtJvViDRyIJYv975yRNzXJs5dvjWO8tFrytGv9n7OXgWlg+2sdEwxivRvl0lp9ECk2yKjXL0s3+CwiXWHX/HM9DNppbL8PubdtgkGsN/INn78s+upnUbS+h8FoZroAtQe5DpEHFReaI1Dl9j8gn2Vbp9ckatsEK1eDrzHl8mEUhSj5AR+D4qOf6gp0in+r14MA9T1kK+K+QbR4bcoeYV9FdsOHA9HobRFsqm7eFwbho1FFcoxymUF+Zubzd/Ju3MaFcXJ+HmLfd5FLkH4dR1I0q+EbaLubuh+J05qYYHSNS6eqZi/OxUviFM5emyHbs0I2vqF9KRk1jT+bLsPf75P3amRThjb0Utb/ibF/RD3LEKJhSEywqUpwL//mdzXUGHNDyMaSmef4uOdhutG8ke1pTF6K9JsDOKYmrFySoYMQ67FWtCUiWLVqrgmU2UMr1tEjOsb9kJZtHLJtwgDry3FaKThx9iIydnhri/EHPZrgJV3hw0mAaJlgkMpjhcF3WIr8U0kyWCwuBu+dIdslXSLbPmwSt4O82u7C4gjsJ8pnkAepKxmjJgotE4xx12+FJvxCIu0JI1OAEcg2Rsu2EcNkibTNcBBlryDbkZbLbdOAHtN1CHs/izxAvZz9lHnCQrQENK3XOpYcj/B7fkL9bUenUPIx9lch24YOySb+GPG+C7E66trbLkxvJZTW/XPI31AHk52a3hLBJishj6JG5hczCRT0Rcj2CmRbj8GXtWiEAPUcsg0ZbjHNIEcTMkkP9VfgLdhZCYsSrFI3HwiC8GEruVlQQuH3QbaDBQ+y6ViyCVBPIdciXWtxLRQtKxXS/T2AiPddukWroSnB6BKXMfZ6Hp9XLqeCeOF2lFfFDhZ8vQ6ybQQZ8WWJ932VVZT6U5kM2B9EPgOxZCCfSmhKsMlqcJ8y6ndSydmiUgAKhor6dQqz1qLaflb1rxTuU+AmrodUQ0OC4fN6Oz6v79KK5X5Zs+/rl0u+TvwmUKrI5lP5f2HWH0MscZZ2JcQSTEiFz+tJfF6yiiDXAbAmhou6H1fL2sT9SZQJsWR6p6sh9rG9XKdb7AFyCVJFv30fTVeRziYzmYAW77tMSGcSzmnByvI6WY2BvTHnZWJRgkw1c5vDBb06QZJBiXqAgu5Gvgq5ZDoss3BOC2aq5ov4vHJPLkGMcZds/O/CWQTEqfxnyN9DLFnTlnmYRzB8Xr+Iz+vnM7eqBQM8Tx/ytHpjC1EHIcoJCnkvch/EOp2nAs91kXSJK3h7mT57+uWNPNl4ji2AWMMtUZwz/pwYA3OhTEnvR8T7fjSPpZ5rwdiH4S8wUN4Myn3Ai38Kcl2Ye0PTM1C8719B/hRivZpeNp1rnm4E8HntwOf1P7RiXucq09UAoCdxSyxPN5fcajdY9i/In4DDaG6tjBhWgFQFVko80AvkErtxSwxF7B+kw/+msHdBrKZLlPMGiDdVV3dBrqvzZlicPbgljjD3OGgEE1/WByDWjb1GLqlDjy3+buR1oCNxFZqna4Brhnw9SJPYsrLhE8jVlP1beaqLJLboseM1tizV1VLB+9+SH0762mM1Qv6eJFkxcYzu8YIkhevRuOJm+DzyOYiVK5dDO3ieIVgkJYUKqcxn8JAfw890GWTbELmdySE2VRjY93vXKB73f0RkAG99XVYmFUem5xBsoSG4BEaGCvpQ0ffWsy4MwnU/FAteGTuWdD/nruX4CDn9PsR6vms5dimjRQkWtcMvePuHff0TXqRdw5uOsrAv9eBpfQqnar+uTH0KAOXJ8PHUgcwog0QEi9rIVM3YkqLH8mVzASR4S1pujqGiZ+iq+81p/2OwvBv5Z8glvq2+DW0TLIqI53tHadle4KWMpZDhKvGtRe+3e8za+xOlQl9NaB8Diz9H7odYlXZx6aV0VggWLTBPoRNF34yUitBOs0Fum98MogJCxn40jlHtPXssKxu+iMjUjpBsYIJ1gkWRgx7VkqefZ1lNnXHbVsjW8jIgnmQncUssjerrwWPp/r6OyF4O+3vQ/o5NTpVgUeukRYIwI7gbJmnZ5FtBDddyEXeKeMPR9D14LFM7v0dZnuxB262Z3DWCLbQYx+5LeOaPez6bnxgzz0PPvYApody/bLKwTDPnMrXzhxCrZ73vDcrV1uXMCBa1tljQB0u+GmfItR7CLWPs1XJXGtWT8bE4R+9BvgS5Ml2mnDEO87LPBcGiFp0/7KvzhnpqZD87tXMvxJqIlsUd53AzEGYLqJeeIFhfTu3Y/qew4q+ybVQP6OvbqR3b2DuCJUNUpnbkyfCxZMkGN3bul0jnpGoOYMcdyDZHrmQ14lqw5njJPlkytfMFiDUQUzvN4Uh+1xEsHrPZqR3ZMyuXr4PFm52/q45g8+tk4Kd25sPR+Zkj2FkMn+BQ1mYN9NTOWTjsHDmCKfUCUP4BxHJTO3Y4NU/LID9FjoPEJ5GrHLnmccLqySC2YG5qxyqFmisrsBp5gumZQdghcHZq59O0WGPNYXF3bSHgrV3hrwXwXcgjSNtfdLBlUEp6HkXvNZTvY4gjV0ogx6mdN6t88qRZVQ7DDxsd7mLC+R0sCpx3P06B7WvLhj3W61gbGrqpHdsVlFBfQwIdK5uNlUp4u1Lh7TiHrkqot+3olggmUzufQvr+rZ22ge5SwoYEi+Y/PmHequr1XaHSt6X9pneHBHNTO9GKy8FxSwSbtVO6zMMT6t2hCW7nC6O3stTZ+iZwbRLMTe3MVlLOfhMRLGo7ZCuOnwpuYX3gLsj2flo2K28AJSTY7NSO7AH/o6h97jgfCLRNsKj5r/FNI3My2MnHb3ah8GbI1/YLGwkIJlM7sjbr+1Fb3HG+ELBCsGiRDp0ya1QYfmT64cCoHdF7rRy3QDA3tdMKkDmJY51g0XKNHzebcXnwFIrbw6g3R+81Om5CMJna2Y18mVar3ii9u54vBFIlWLSoh0+b6+u1+u3MHNzGzMG66L3ocQzB5PuPn0dkQzb31k4UrB447hrBZrFgfOYdmqi/RwcaZ676EGRbOXtPfiMEc1M7UWDccXIEINvQ+Mn6zrHj9YfGTtTLsp3nqamAy+YR5MrkGl0Kh0ADBI4Ys/zUVPj4sdPBPQ2iuMsOAYeAQ2A+Av8Pby5Qwk3kUm8AAAAASUVORK5CYII="},VdD3:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-user",use:"icon-user-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-user"><defs><style type="text/css"></style></defs><path d="M950.857143 892.342857c-43.885714-131.657143-153.6-234.057143-277.942857-277.942857 73.142857-51.2 131.657143-146.285714 131.657143-248.685714 0-160.914286-131.657143-292.571429-292.571429-292.571429S219.428571 204.8 219.428571 365.714286c0 102.4 58.514286 197.485714 138.971429 248.685714-131.657143 43.885714-234.057143 146.285714-285.257143 277.942857-7.314286 21.942857 0 43.885714 21.942857 51.2 21.942857 7.314286 43.885714 0 51.2-29.257143 65.828571-146.285714 204.8-256 365.714286-256s299.885714 109.714286 358.4 263.314286c7.314286 14.628571 21.942857 29.257143 36.571429 29.257143h14.628571c21.942857-7.314286 36.571429-36.571429 29.257143-58.514286zM292.571429 365.714286c0-124.342857 95.085714-219.428571 219.428571-219.428572s219.428571 95.085714 219.428571 219.428572-95.085714 219.428571-219.428571 219.428571-219.428571-95.085714-219.428571-219.428571z" fill="" p-id="3861" /></symbol>'});o.a.add(n);t.default=n},WDgX:function(e,t){},WmvB:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-gateway",use:"icon-gateway-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-gateway"><defs><style type="text/css"></style></defs><path d="M711.493 312.101c51.305 51.326 94.014 106.169 127.175 161.206l24.157-36.803c-33.074-52.521-74.226-104.339-122.823-152.913C569.353 112.916 358.822 33.956 217.171 74.535l32.774 32.774c126.32-23.799 309.467 52.734 461.548 204.792z m62.159-204.791l32.751-32.774c-71.285-20.408-160.011-10.557-252.344 26.034l42.607 26.019c64.458-22.008 125.448-28.981 176.986-19.279zM212.266 212.262c31.518-31.515 31.518-82.605 0-114.099-31.517-31.517-82.605-31.517-114.099 0-31.517 31.494-31.517 82.584 0 114.099 31.494 31.518 82.581 31.518 114.099 0z m-85.569-85.589c15.735-15.738 41.281-15.738 57.039 0 15.759 15.756 15.759 41.301 0 57.063-15.759 15.756-41.304 15.756-57.039 0-15.759-15.762-15.759-41.307 0-57.063z m453.827 740.222c54.782-33.755 108.877-76.295 159.478-126.896 170.673-170.649 249.612-381.18 209.056-522.831l-32.774 32.777c23.797 126.317-52.734 309.464-204.791 461.545-53.01 53.01-109.793 96.83-166.644 130.437l35.675 24.968z m230.804-654.633c31.518 31.517 82.587 31.517 114.105 0 31.515-31.515 31.515-82.605 0-114.099-31.517-31.517-82.587-31.517-114.105 0-31.515 31.495-31.515 82.585 0 114.099z m28.533-85.589c15.756-15.738 41.301-15.738 57.039 0 15.759 15.756 15.759 41.301 0 57.063-15.738 15.756-41.283 15.756-57.039 0-15.759-15.762-15.759-41.307 0-57.063z m55.971 466.58c22.924 65.738 30.325 127.961 20.451 180.395l32.774 32.754c20.512-71.649 10.447-160.91-26.589-253.728l-26.636 40.579zM249.945 916.28l-32.774 32.754c70.773 20.277 158.734 10.726 250.319-25.205l-39.046-27.337c-65.034 22.389-126.574 29.577-178.499 19.788z m62.159-204.791c-52.033-52.05-95.21-107.725-128.583-163.508l-22.645 39.256c33.054 52.475 74.162 104.231 122.719 152.761C454.247 910.671 664.772 989.61 806.403 949.034l-32.751-32.754c-126.343 23.797-309.47-52.731-461.548-204.791zM125.885 424.882c-21.452-63.716-28.189-123.955-18.572-174.938l-32.777-32.777c-20.384 71.178-10.595 159.734 25.848 251.896l25.501-44.181z m685.443 386.442c-31.515 31.517-31.515 82.587 0 114.105 31.518 31.515 82.587 31.515 114.105 0 31.515-31.518 31.515-82.587 0-114.105-31.518-31.514-82.587-31.514-114.105 0z m85.572 85.572c-15.738 15.759-41.283 15.759-57.039 0-15.759-15.735-15.759-41.281 0-57.039 15.756-15.756 41.301-15.756 57.039 0 15.759 15.759 15.759 41.304 0 57.039z m-684.634-85.572c-31.517-31.515-82.605-31.515-114.099 0-31.517 31.517-31.517 82.587 0 114.105 31.494 31.515 82.581 31.515 114.099 0 31.517-31.517 31.517-82.587 0-114.105z m-28.53 85.572c-15.759 15.759-41.304 15.759-57.039 0-15.759-15.735-15.759-41.281 0-57.039 15.735-15.756 41.281-15.756 57.039 0 15.759 15.759 15.759 41.304 0 57.039z m-76.423-123.248c-23.8-126.343 52.734-309.47 204.791-461.548 50.793-50.773 105.04-93.142 159.499-126.149l-38.104-23.285c-51.497 32.751-102.267 73.263-149.904 120.903C112.919 454.244 33.96 664.768 74.536 806.402l32.777-32.754zM453.66 667.346c9.588 0 17.408-7.82 17.408-17.408V370.661a17.363 17.363 0 0 0-10.845-16.105 17.169 17.169 0 0 0-18.991 3.956l-99.236 101.657c-6.749 6.889-6.61 17.874 0.279 24.576 6.889 6.749 17.874 6.563 24.576-0.279l69.4-71.076v236.547c0 9.589 7.82 17.409 17.409 17.409z m116.272-311.114c-9.589 0-17.408 7.82-17.408 17.408v279.276a17.363 17.363 0 0 0 10.845 16.105 17.193 17.193 0 0 0 6.563 1.303c4.608 0 9.123-1.815 12.428-5.26l99.236-101.657c6.749-6.889 6.61-17.874-0.279-24.576-6.889-6.749-17.874-6.563-24.576 0.279l-69.4 71.076V373.64c-0.001-9.588-7.821-17.408-17.409-17.408z" fill="" p-id="1364" /></symbol>'});o.a.add(n);t.default=n},WrxM:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-rules",use:"icon-rules-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-rules"><defs><style type="text/css"></style></defs><path d="M512 69.963c248.05 0 445.217 197.167 445.217 445.217S760.05 960.398 512 960.398 66.783 763.23 66.783 515.18 263.95 69.963 512 69.963m0-63.603C232.15 6.36 3.18 235.33 3.18 515.18 3.18 795.031 232.15 1024 512 1024s508.82-228.969 508.82-508.82C1020.82 235.33 791.85 6.36 512 6.36z" fill="" p-id="3340" /><path d="M512 432.497c-38.161 0-63.602 25.44-63.602 57.242v273.49c0 31.802 25.44 57.243 63.602 57.243 38.161 0 63.602-25.44 63.602-57.242V489.74c0-31.802-25.44-57.243-63.602-57.243z m0-95.404c38.161 0 63.602-25.44 63.602-63.602 0-38.162-25.44-63.603-63.602-63.603-38.161 0-63.602 25.441-63.602 63.603 0 38.161 25.44 63.602 63.602 63.602z" fill="" p-id="3341" /></symbol>'});o.a.add(n);t.default=n},XIcC:function(e,t){},Y44e:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-tool",use:"icon-tool-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-tool"><defs><style type="text/css"></style></defs><path d="M78.390883 78.743412l0 862.092493L974.535937 940.835905 974.535937 78.743412 78.390883 78.743412zM261.801123 195.286732l559.748491 0 0 262.989693-559.748491 0L261.801123 195.286732zM185.053158 833.459363c-10.396791 0-19.072381-8.67559-19.072381-19.072381s8.67559-19.072381 19.072381-19.072381 19.072381 8.67559 19.072381 19.072381S195.449949 833.459363 185.053158 833.459363zM185.053158 762.851235c-10.396791 0-19.072381-8.67559-19.072381-19.072381s8.67559-19.072381 19.072381-19.072381 19.072381 8.67559 19.072381 19.072381S195.449949 762.851235 185.053158 762.851235zM185.053158 690.196495c-10.396791 0-19.072381-8.67559-19.072381-19.072381s8.67559-19.072381 19.072381-19.072381 19.072381 8.67559 19.072381 19.072381S195.449949 690.196495 185.053158 690.196495zM185.053158 614.471836c-10.396791 0-19.072381-8.67559-19.072381-19.072381s8.67559-19.072381 19.072381-19.072381 19.072381 8.67559 19.072381 19.072381S195.449949 614.471836 185.053158 614.471836zM261.801123 833.459363c-10.396791 0-19.072381-8.67559-19.072381-19.072381s8.67559-19.072381 19.072381-19.072381 19.072381 8.67559 19.072381 19.072381S272.197914 833.459363 261.801123 833.459363zM241.706459 671.124114c0-10.396791 8.67559-19.072381 19.072381-19.072381s19.072381 8.67559 19.072381 19.072381-8.67559 19.072381-19.072381 19.072381S241.706459 681.520905 241.706459 671.124114zM261.801123 762.851235c-10.396791 0-19.072381-8.67559-19.072381-19.072381s8.67559-19.072381 19.072381-19.072381 19.072381 8.67559 19.072381 19.072381S272.197914 762.851235 261.801123 762.851235zM261.801123 614.471836c-10.396791 0-19.072381-8.67559-19.072381-19.072381s8.67559-19.072381 19.072381-19.072381 19.072381 8.67559 19.072381 19.072381S272.197914 614.471836 261.801123 614.471836zM441.0506 876.80866l-8.592702 4.027733-35.607986-97.942683c-0.045025 0.026606 8.092305-4.837168 8.092305-4.837168L441.0506 876.80866zM415.297053 726.452233c-39.08518 0-71.701019-32.615838-71.701019-71.701019s32.615838-71.701019 71.701019-71.701019 71.701019 32.615838 71.701019 71.701019S454.383256 726.452233 415.297053 726.452233zM603.687724 885.669468l-8.362458-5.685489 53.114708-92.456738c0 0 8.600889 5.884011 8.78406 5.884011L603.687724 885.669468zM645.540947 724.405621c-39.08518 0-71.701019-32.615838-71.701019-71.701019s32.615838-71.701019 71.701019-71.701019 71.701019 32.615838 71.701019 71.701019S684.627151 724.405621 645.540947 724.405621zM803.130102 841.645812c-10.396791 0-19.072381-8.67559-19.072381-19.072381s8.67559-19.072381 19.072381-19.072381 19.072381 8.67559 19.072381 19.072381S813.527916 841.645812 803.130102 841.645812zM803.130102 768.991072c-10.396791 0-19.072381-8.67559-19.072381-19.072381s8.67559-19.072381 19.072381-19.072381 19.072381 8.67559 19.072381 19.072381S813.527916 768.991072 803.130102 768.991072zM803.130102 692.243107c-10.396791 0-19.072381-8.67559-19.072381-19.072381s8.67559-19.072381 19.072381-19.072381 19.072381 8.67559 19.072381 19.072381S813.527916 692.243107 803.130102 692.243107zM803.130102 614.471836c-10.396791 0-19.072381-8.67559-19.072381-19.072381s8.67559-19.072381 19.072381-19.072381 19.072381 8.67559 19.072381 19.072381S813.527916 614.471836 803.130102 614.471836zM880.901373 576.327074c10.396791 0 19.072381 8.67559 19.072381 19.072381s-8.67559 19.072381-19.072381 19.072381-19.072381-8.67559-19.072381-19.072381S870.504582 576.327074 880.901373 576.327074zM881.924679 840.622506c-10.396791 0-19.072381-8.67559-19.072381-19.072381s8.67559-19.072381 19.072381-19.072381 19.072381 8.67559 19.072381 19.072381S892.322493 840.622506 881.924679 840.622506zM881.924679 767.967766c-10.396791 0-19.072381-8.67559-19.072381-19.072381s8.67559-19.072381 19.072381-19.072381 19.072381 8.67559 19.072381 19.072381S892.322493 767.967766 881.924679 767.967766zM881.924679 692.243107c-10.396791 0-19.072381-8.67559-19.072381-19.072381s8.67559-19.072381 19.072381-19.072381 19.072381 8.67559 19.072381 19.072381S892.322493 692.243107 881.924679 692.243107z" p-id="5173" /></symbol>'});o.a.add(n);t.default=n},YCsv:function(e,t){},Yfis:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-info",use:"icon-info-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-info"><defs><style type="text/css"></style></defs><path d="M794.576 960.461h-568.582c-44.047 0-79.511-36.038-79.511-79.511v-558.287c0-44.047 36.038-79.511 79.511-79.511h94.384c15.443 0 28.603 12.585 28.603 28.603s-12.585 28.603-28.603 28.603h-94.384c-12.585 0-22.881 10.297-22.881 22.881v558.287c0 12.585 10.297 22.881 22.881 22.881h568.582c12.585 0 22.881-10.297 22.881-22.881v-558.287c0-12.585-10.297-22.881-22.881-22.881h-80.082c-15.443 0-28.603-12.585-28.603-28.603s12.585-28.603 28.603-28.603h80.082c44.047 0 79.511 36.038 79.511 79.511v558.287c0.571 43.473-35.465 79.511-79.511 79.511z" p-id="3983" /><path d="M341.54 470.816h338.062c10.297 0 18.307 8.011 18.307 18.307v29.171c0 10.297-8.011 18.307-18.307 18.307h-338.062c-10.297 0-18.307-8.011-18.307-18.307v-29.171c0-10.297 8.011-18.307 18.307-18.307z" p-id="3984" /><path d="M677.885 390.16h-319.185c-28.603 0-52.053-23.453-52.053-52.053v-130.419c0-28.603 23.453-52.053 52.053-52.053h54.915v-42.901c0-28.603 23.453-52.053 52.053-52.053h105.824c28.603 0 52.053 23.453 52.053 52.053v42.901h54.915c28.603 0 52.053 23.453 52.053 52.053v130.419c-0.571 28.603-24.025 52.053-52.627 52.053zM363.846 332.96h309.46v-120.694h-78.368c-15.443 0-28.603-12.585-28.603-28.603v-66.355h-96.1v66.925c0 15.443-12.585 28.603-28.603 28.603h-78.368v120.125z" p-id="3985" /><path d="M341.54 594.37h338.062c10.297 0 18.307 8.011 18.307 18.307v29.171c0 10.297-8.011 18.307-18.307 18.307h-338.062c-10.297 0-18.307-8.011-18.307-18.307v-29.171c0-9.726 8.011-18.307 18.307-18.307z" p-id="3986" /><path d="M341.54 744.812h338.062c10.297 0 18.307 8.011 18.307 18.307v29.171c0 10.297-8.011 18.307-18.307 18.307h-338.062c-10.297 0-18.307-8.011-18.307-18.307v-29.171c0-9.726 8.011-18.307 18.307-18.307z" p-id="3987" /></symbol>'});o.a.add(n);t.default=n},ZJ3P:function(e,t){},Zjaa:function(e,t){},a4vn:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-collection",use:"icon-collection-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-collection"><defs><style type="text/css"></style></defs><path d="M512.268258 172.568704l67.171997 208.095478c10.586974 32.796071 40.853024 54.831107 75.314956 54.831107h0.152559l218.668118-0.419793-177.152639 128.189418c-27.976643 20.243237-39.560881 55.896972-28.826468 88.71864l67.971651 207.836434-176.658102-128.870302c-13.635081-9.947046-29.764346-15.204697-46.642072-15.204697s-33.005967 5.257651-46.642072 15.204697L288.96706 859.818964l67.971651-207.836434c10.734414-32.821668-0.849825-68.475403-28.826468-88.717616l-177.152638-128.190442 218.668117 0.419793h0.152559c34.461932 0 64.729006-22.035036 75.314956-54.831107l67.173021-208.094454m0-77.408802c-13.124162 0-26.2473 7.553202-31.124066 22.658582l-80.240869 248.580927a32.704945 32.704945 0 0 1-31.123042 22.658583h-0.063481l-261.210553-0.501704h-0.071672c-31.691299 0-44.862559 40.605244-19.164061 59.201049l211.618666 153.129218a32.702897 32.702897 0 0 1 11.911882 36.662262l-81.196154 248.271713c-7.514294 22.974963 10.740557 43.02059 31.200858 43.02059 6.41157 0 13.040203-1.968931 19.158942-6.433072L492.993617 768.465868a32.661942 32.661942 0 0 1 19.274641-6.283584 32.66399 32.66399 0 0 1 19.274641 6.283584l211.028909 153.942182c6.120786 4.465164 12.746348 6.433071 19.158942 6.433072 20.458253 0 38.713104-20.047675 31.200858-43.02059l-81.196154-248.271713a32.704945 32.704945 0 0 1 11.911881-36.662262l211.618667-153.129218c25.700546-18.596829 12.531332-59.201049-19.164061-59.201049h-0.071672l-261.210553 0.501704h-0.063481a32.705969 32.705969 0 0 1-31.123042-22.658583l-80.241893-248.580927c-4.875742-15.106404-17.999904-22.658582-31.123042-22.658582z" fill="#bfbfbf" p-id="1818" /></symbol>'});o.a.add(n);t.default=n},bkFG:function(e,t){},"bzz+":function(e,t){},dGyy:function(e,t){},dNDk:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-shoppingCard",use:"icon-shoppingCard-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-shoppingCard"><defs><style type="text/css"></style></defs><path d="M347.136 783.36q19.456 0 36.864 7.168t30.72 19.968 20.48 30.208 7.168 36.864-7.168 36.864-20.48 30.208-30.72 20.48-36.864 7.68q-20.48 0-37.376-7.68t-30.208-20.48-20.48-30.208-7.168-36.864 7.168-36.864 20.48-30.208 30.208-19.968 37.376-7.168zM773.12 785.408q19.456 0 37.376 7.168t30.72 19.968 20.48 30.208 7.68 36.864-7.68 36.864-20.48 30.208-30.72 20.48-37.376 7.68-36.864-7.68-30.208-20.48-20.48-30.208-7.68-36.864 7.68-36.864 20.48-30.208 30.208-19.968 36.864-7.168zM945.152 203.776q28.672 0 44.544 7.68t22.528 18.944 6.144 24.064-3.584 22.016-12.8 37.888-22.016 62.976-24.064 68.096-17.92 53.248q-13.312 40.96-33.792 56.832t-50.176 15.872l-34.816 0-66.56 0-87.04 0-95.232 0-253.952 0 15.36 92.16 516.096 0q49.152 0 49.152 41.984 0 20.48-9.728 35.328t-38.4 14.848l-49.152 0-95.232 0-117.76 0-119.808 0-98.304 0-56.32 0q-20.48 0-34.304-9.216t-23.04-24.064-14.848-32.256-8.704-32.768q-1.024-6.144-5.632-29.696t-11.264-58.88-14.848-78.848-16.384-87.552q-19.456-103.424-44.032-230.4l-76.8 0q-15.36 0-25.6-7.68t-16.896-18.432-9.216-23.04-2.56-22.528q0-20.48 13.824-33.792t37.376-13.312l22.528 0 20.48 0 25.6 0 34.816 0q20.48 0 32.768 6.144t19.456 15.36 10.24 19.456 5.12 17.408q2.048 8.192 4.096 23.04t4.096 30.208q3.072 18.432 6.144 38.912l700.416 0z" p-id="2289" /></symbol>'});o.a.add(n);t.default=n},dWSs:function(e,t){},dhIU:function(e,t){e.exports={NODE_ENV:'"development"',ENV_CONFIG:'"dev"',FLINK_API:'"http://192.168.0.149:8081/"',TITLE:"SCUD六西格玛质量管控",publicPath:"http://192.168.0.149:80/",BASE_API:'"/api"',TARGET:"http://192.168.11.93:8060/"}},"e+0t":function(e,t){},hdtf:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-theme",use:"icon-theme-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-theme"><defs><style type="text/css"></style></defs><path d="M1004.094293 321.092267L762.737493 79.735467a68.266667 68.266667 0 0 0-96.546133 0l-30.293333 30.293333a68.283733 68.283733 0 0 1-48.264534 20.002133h-151.1936a68.181333 68.181333 0 0 1-48.264533-20.002133l-30.293333-30.293333a68.266667 68.266667 0 0 0-96.546134 0L19.962027 321.092267a68.266667 68.266667 0 0 0 0 96.546133l96.546133 96.546133a67.84 67.84 0 0 0 66.645333 17.271467c10.8032-3.072 21.674667 4.181333 21.674667 15.4112V896c0 37.546667 30.72 68.266667 68.266667 68.266667h477.866666c37.546667 0 68.266667-30.72 68.266667-68.266667V546.8672c0-11.229867 10.871467-18.4832 21.674667-15.4112a67.84 67.84 0 0 0 66.645333-17.271467l96.546133-96.546133a68.266667 68.266667 0 0 0 0-96.546133z" p-id="6549" /></symbol>'});o.a.add(n);t.default=n},"i/Ij":function(e,t){},i82a:function(e,t){},i9s8:function(e,t){},ig9B:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-money",use:"icon-money-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-money"><defs><style type="text/css"></style></defs><path d="M463.3 958.3V772.1H228.8v-77.5h234.5v-80.5H228.8v-83.5H420L191.5 128h113.7L469 420.6c18.2 33.4 32.4 62.4 42.7 86.9 9-19.8 24.6-50.5 46.8-92.1L713.9 128h120.8L605.5 530.6h192.9v83.5H564.9v80.5h233.5v77.5H564.9v186.2H463.3z" p-id="1765" /></symbol>'});o.a.add(n);t.default=n},j08p:function(e,t){},j8LJ:function(e,t){},j9CW:function(e,t){},k07Q:function(e,t){},kP9C:function(e,t){},l9Pt:function(e,t){},mDNq:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-document",use:"icon-document-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-document"><defs><style type="text/css"></style></defs><path d="M832 1024H192c-35.392 0-64-28.608-64-64V64c0-35.392 28.608-64 64-64h448l256 256v704c0 35.392-28.608 64-64 64zM576 320V128H256v768h512V320h-192z" fill="" p-id="8693" /></symbol>'});o.a.add(n);t.default=n},mEdm:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-line-chart",use:"icon-line-chart-usage",viewBox:"0 0 1171 1024",content:'<symbol class="icon" viewBox="0 0 1171 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-line-chart"><defs><style type="text/css"></style></defs><path d="M1170.285714 877.714286l0 73.142857-1170.285714 0 0-877.714286 73.142857 0 0 804.571429 1097.142857 0zM1097.142857 164.571429l0 248.539429q0 11.995429-11.117714 16.822857t-20.260571-4.315429l-69.12-69.12-361.691429 361.691429q-5.705143 5.705143-13.165714 5.705143t-13.165714-5.705143l-133.12-133.12-237.714286 237.714286-109.714286-109.714286 334.262857-334.262857q5.705143-5.705143 13.165714-5.705143t13.165714 5.705143l133.12 133.12 265.142857-265.142857-69.12-69.12q-9.142857-9.142857-4.315429-20.260571t16.822857-11.117714l248.539429 0q7.972571 0 13.165714 5.12t5.12 13.165714z" p-id="2167" /></symbol>'});o.a.add(n);t.default=n},n1E3:function(e,t){},njEs:function(e,t){},oKxW:function(e,t){},oSYw:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-table",use:"icon-table-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-table"><defs><style type="text/css"></style></defs><path d="M67.039347 100.410897l889.919259 0 0 200.231347-889.919259 0 0-200.231347Z" p-id="8434" /><path d="M67.039347 345.138668l266.976494 0 0 266.975471-266.976494 0 0-266.975471Z" p-id="8435" /><path d="M67.039347 656.610562l266.976494 0 0 266.976494-266.976494 0 0-266.976494Z" p-id="8436" /><path d="M378.511241 345.138668l266.976494 0 0 266.975471-266.976494 0 0-266.975471Z" p-id="8437" /><path d="M378.511241 656.610562l266.976494 0 0 266.976494-266.976494 0 0-266.976494Z" p-id="8438" /><path d="M689.983135 345.138668l266.976494 0 0 266.975471-266.976494 0 0-266.975471Z" p-id="8439" /><path d="M689.983135 656.610562l266.976494 0 0 266.976494-266.976494 0 0-266.976494Z" p-id="8440" /><path d="M67.039347 100.410897l889.919259 0 0 200.231347-889.919259 0 0-200.231347Z" p-id="8441" /><path d="M67.039347 345.138668l266.976494 0 0 266.975471-266.976494 0 0-266.975471Z" p-id="8442" /><path d="M67.039347 656.610562l266.976494 0 0 266.976494-266.976494 0 0-266.976494Z" p-id="8443" /><path d="M378.511241 345.138668l266.976494 0 0 266.975471-266.976494 0 0-266.975471Z" p-id="8444" /><path d="M378.511241 656.610562l266.976494 0 0 266.976494-266.976494 0 0-266.976494Z" p-id="8445" /><path d="M689.983135 345.138668l266.976494 0 0 266.975471-266.976494 0 0-266.975471Z" p-id="8446" /><path d="M689.983135 656.610562l266.976494 0 0 266.976494-266.976494 0 0-266.976494Z" p-id="8447" /></symbol>'});o.a.add(n);t.default=n},oTFt:function(e,t){},"pYJ+":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-wechat",use:"icon-wechat-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-wechat"><defs><style type="text/css"></style></defs><path d="M669.029188 317.395814c10.181291 0 20.235686 0.748037 30.23789 1.865487C672.100256 192.728466 536.831031 98.730629 382.414962 98.730629c-172.618362 0-314.03484 117.659747-314.03484 267.066545 0 86.2422 47.044337 157.061129 125.674313 211.988112l-31.406554 94.467535 109.75511-55.05285c39.302708 7.78122 70.80955 15.765055 110.010947 15.765055 9.849726 0 19.624747-0.481977 29.323017-1.243317-6.144182-20.996197-9.69827-42.982954-9.69827-65.792449C402.040732 428.732551 519.845498 317.395814 669.029188 317.395814zM500.167537 232.256738c23.639342 0 39.302708 15.550161 39.302708 39.185464 0 23.536043-15.66439 39.300075-39.302708 39.300075-23.535984 0-47.146672-15.765055-47.146672-39.300075C453.021889 247.806899 476.632577 232.256738 500.167537 232.256738zM280.402504 310.7433c-23.537007 0-47.300174-15.765055-47.300174-39.300075 0-23.635303 23.76419-39.185464 47.300174-39.185464 23.53496 0 39.200373 15.550161 39.200373 39.185464C319.602877 294.978245 303.937464 310.7433 280.402504 310.7433z" p-id="9338" /><path d="M955.617831 562.14712c0-125.543298-125.622123-227.882104-266.733643-227.882104-149.41292 0-267.090791 102.338806-267.090791 227.882104 0 125.770472 117.677871 227.879034 267.090791 227.879034 31.278636 0 62.837668-7.896854 94.243199-15.765055l86.119862 47.170323-23.612735-78.473259C908.675829 695.672206 955.617831 632.965026 955.617831 562.14712zM602.306891 522.858302c-15.638806 0-31.431114-15.549138-31.431114-31.416524 0-15.651468 15.792308-31.405267 31.431114-31.405267 23.73963 0 39.302708 15.754822 39.302708 31.405267C641.609599 507.309164 626.04652 522.858302 602.306891 522.858302zM775.027587 522.858302c-15.538518 0-31.201884-15.549138-31.201884-31.416524 0-15.651468 15.66439-31.405267 31.201884-31.405267 23.535984 0 39.300661 15.754822 39.300661 31.405267C814.329272 507.309164 798.563571 522.858302 775.027587 522.858302z" p-id="9339" /></symbol>'});o.a.add(n);t.default=n},rBKV:function(e,t){e.exports={NODE_ENV:'"production"',ENV_CONFIG:'"prod"',FLINK_API:'"http://192.168.0.149:8081/"',BASE_API:'"/api"',publicPath:"http://39.108.15.156:80/"}},s2cW:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-component",use:"icon-component-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-component"><defs><style type="text/css"></style></defs><path d="M64 64 448 64 448 448 64 448 64 64ZM64 576 448 576 448 960 64 960 64 576ZM576 576 960 576 960 960 576 960 576 576ZM768 448C874.038669 448 960 362.038672 960 256 960 149.961328 874.038669 64 768 64 661.961328 64 576 149.961328 576 256 576 362.038672 661.961328 448 768 448Z" p-id="1662" /></symbol>'});o.a.add(n);t.default=n},"sEM+":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-404",use:"icon-404-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-404"><defs><style type="text/css"></style></defs><path d="M931.6 585.6l0 79c28.6-60.2 44.8-127.4 44.8-198.4C976.4 211 769.4 4 514.2 4S52 211 52 466.2c0 3.2 0.2 6.4 0.2 9.6l166-206 96.4 0L171.8 485.6l46.4 0 0-54.8 99.2-154.6 0 209.4 0 100 0 82.4-99.2 0 0-82.4L67.6 585.6c43 161 170.6 287.4 332.4 328.6-10.4 26.2-40.6 89.4-90.8 100.6-62.2 14 168.8 3.4 333.6-104.6 126.6-36.6 230.8-125.8 287.4-242.2l-97.6 0 0-82.4-166.2 0 0-87.2 0-12.8L666.4 476l166.2-206.2 94 0-140.4 215.8 46.4 0 0-59 99.2-154 0 213.2L931.8 585.6zM366.2 608c-4.8-11.2-7.2-23.2-7.2-36L359 357.6c0-12.8 2.4-24.8 7.2-36 4.8-11.2 11.4-21 19.6-29.2 8.2-8.2 18-14.8 29.2-19.6 11.2-4.8 23.2-7.2 36-7.2l81.6 0c12.8 0 24.8 2.4 36 7.2 11 4.8 20.6 11.2 28.8 19.2l-88.6 129.4 0-23c0-4.8-1.6-8.8-4.8-12-3.2-3.2-7.2-4.8-12-4.8-4.8 0-8.8 1.6-12 4.8-3.2 3.2-4.8 7.2-4.8 12l0 72L372.6 620C370.2 616.2 368 612.2 366.2 608zM624.4 572c0 12.8-2.4 24.8-7.2 36-4.8 11.2-11.4 21-19.6 29.2-8.2 8.2-18 14.8-29.2 19.6-11.2 4.8-23.2 7.2-36 7.2l-81.6 0c-12.8 0-24.8-2.4-36-7.2-11.2-4.8-21-11.4-29.2-19.6-3.6-3.6-7-7.8-10-12l99.2-144.6 0 50.6c0 4.8 1.6 8.8 4.8 12 3.2 3.2 7.2 4.8 12 4.8 4.8 0 8.8-1.6 12-4.8 3.2-3.2 4.8-7.2 4.8-12l0-99.6 92.6-135.2c6.6 7.4 12 15.8 16 25.2 4.8 11.2 7.2 23.2 7.2 36L624.2 572z" p-id="10207" /></symbol>'});o.a.add(n);t.default=n},"sPn/":function(e,t){},sQFu:function(e,t){},sTIr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-form",use:"icon-form-usage",viewBox:"0 0 1069 1024",content:'<symbol class="icon" viewBox="0 0 1069 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-form"><defs><style type="text/css"></style></defs><path d="M746.027944 190.083832q-11.241517 0-18.906188-7.664671t-12.774451-17.884232-7.664671-20.9501-2.55489-17.884232l0-125.700599 2.043912 0q9.197605 0 17.373253 2.043912t19.928144 9.708583 28.61477 21.461078 42.411178 36.279441q27.592814 24.526946 43.944112 41.389222t25.037924 28.61477 10.730539 19.928144 2.043912 14.307385l0 16.351297-150.227545 0zM1063.856287 671.42515q3.065868 8.175649 4.087824 20.439122t-10.219561 23.50499q-5.10978 5.10978-9.197605 9.708583t-7.153693 7.664671q-4.087824 4.087824-7.153693 6.131737l-86.866267-85.844311q6.131737-5.10978 13.796407-12.263473t12.774451-11.241517q12.263473-11.241517 26.570858-9.708583t23.50499 6.642715q10.219561 5.10978 21.972056 17.884232t17.884232 27.081836zM703.105788 766.467066q22.483034 0 37.812375-12.263473l-198.259481 206.43513-282.05988 0q-19.417166 0-42.411178-11.241517t-42.922156-29.636727-33.213573-42.411178-13.285429-49.56487l0-695.952096q0-21.461078 9.708583-44.966068t26.570858-42.411178 38.323353-31.680639 44.966068-12.774451l391.409182 0 0 127.744511q0 19.417166 6.131737 41.9002t18.906188 41.389222 33.213573 31.680639 49.053892 12.774451l149.205589 0 0 338.267465-140.007984 145.117764q11.241517-16.351297 11.241517-35.768463 0-26.570858-18.906188-45.477046t-45.477046-18.906188l-383.233533 0q-26.570858 0-44.966068 18.906188t-18.39521 45.477046 18.39521 44.966068 44.966068 18.39521l383.233533 0zM319.872255 383.233533q-26.570858 0-44.966068 18.906188t-18.39521 45.477046 18.39521 44.966068 44.966068 18.39521l383.233533 0q26.570858 0 45.477046-18.39521t18.906188-44.966068-18.906188-45.477046-45.477046-18.906188l-383.233533 0zM705.149701 895.233533l13.285429-13.285429 25.548902-25.548902q15.329341-15.329341 33.724551-34.235529t36.790419-37.301397q43.944112-43.944112 99.129741-98.107784l85.844311 85.844311-99.129741 99.129741-36.790419 36.790419-33.724551 33.724551q-14.307385 14.307385-24.015968 24.526946t-10.730539 11.241517q-5.10978 4.087824-11.241517 8.686627t-12.263473 7.664671-18.906188 7.664671-26.05988 8.686627-25.548902 7.153693-18.39521 4.087824q-12.263473 2.043912-16.351297-3.065868t-2.043912-17.373253q1.021956-6.131737 4.087824-18.39521t7.153693-25.037924 7.664671-24.015968 5.620758-15.329341q6.131737-13.285429 16.351297-23.50499z" p-id="1448" /></symbol>'});o.a.add(n);t.default=n},"t+/1":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-histogram",use:"icon-histogram-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-histogram"><defs><style type="text/css"></style></defs><path d="M908.03536 878.04072 141.683395 878.04072 141.683395 111.689778c0-16.665565-13.510712-30.176276-30.175253-30.176276s-30.156834 13.510712-30.156834 30.176276l0 796.528242c0 16.664541 13.492292 30.175253 30.156834 30.175253l796.528242 0c16.685008 0 30.175253-13.510712 30.175253-30.175253S924.720368 878.04072 908.03536 878.04072zM404.175761 792.049231c16.664541 0 30.176276-13.510712 30.176276-30.175253L434.352037 326.093916c0-16.664541-13.511735-30.175253-30.176276-30.175253-16.665565 0-30.176276 13.510712-30.176276 30.175253l0 435.779038C373.999484 778.538519 387.510196 792.049231 404.175761 792.049231zM257.851161 792.049231c16.664541 0 30.156834-13.510712 30.156834-30.175253L288.007995 326.093916c0-16.664541-13.492292-30.175253-30.156834-30.175253s-30.175253 13.510712-30.175253 30.175253l0 435.779038C227.675908 778.538519 241.186619 792.049231 257.851161 792.049231zM696.84338 792.049231c16.664541 0 30.156834-13.510712 30.156834-30.175253L727.000214 326.093916c0-16.664541-13.492292-30.175253-30.156834-30.175253-16.685008 0-30.175253 13.510712-30.175253 30.175253l0 435.779038C666.667104 778.538519 680.158373 792.049231 696.84338 792.049231zM843.166957 792.049231c16.665565 0 30.176276-13.510712 30.176276-30.175253L873.343233 543.983435c0-16.664541-13.510712-30.175253-30.176276-30.175253-16.664541 0-30.15581 13.510712-30.15581 30.175253l0 217.890542C813.011146 778.538519 826.502415 792.049231 843.166957 792.049231zM550.500361 792.049231c16.664541 0 30.175253-13.510712 30.175253-30.175253L580.675614 543.983435c0-16.664541-13.510712-30.175253-30.175253-30.175253-16.665565 0-30.176276 13.510712-30.176276 30.175253l0 217.890542C520.324084 778.538519 533.834796 792.049231 550.500361 792.049231z" p-id="3207" /></symbol>'});o.a.add(n);t.default=n},tn9E:function(e,t){},ttre:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-save",use:"icon-save-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-save"><defs><style type="text/css"></style></defs><path d="M845.312 0.512H32.512v1022.976h958.976v-876.8L845.312 0.512z m-172.864 62.976v256H351.488v-256h320.96zM287.488 960.512V605.76l29.184-29.248h390.656l29.184 29.248v354.752H287.488z m640 0h-126.976V585.152L727.424 512H296.576L223.488 585.152v375.36H96.512V63.488h190.976v320.448h449.024V63.488h79.68l111.296 112.32v784.704z m-384-832h65.984v128H543.488v-128z" p-id="2788" fill="#8a8a8a" /></symbol>'});o.a.add(n);t.default=n},"v/ij":function(e,t){},vRhf:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-drag",use:"icon-drag-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-drag"><defs><style type="text/css"></style></defs><path d="M574.957891 267.016403 511.503696 267.016403l204.64896 0L511.212054 63.654762l-203.361641 203.361641L449.041086 267.016403l0 189.662641L258.687714 456.679044l0 125.916804L449.041086 582.595848l0 190.354396 125.916804 0L574.957891 582.595848l188.874695 0L763.832586 456.679044 574.957891 456.679044 574.957891 267.016403zM511.25401 960.345238l189.620685-187.394994L323.125305 772.950244 511.25401 960.345238zM71.291696 518.891967l187.394994 189.620685L258.68669 330.762239 71.291696 518.891967zM763.832586 330.762239l0 377.74939 188.874695-189.620685L763.832586 330.762239z" p-id="9008" /></symbol>'});o.a.add(n);t.default=n},vUvT:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-icon",use:"icon-icon-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-icon"><defs><style type="text/css"></style></defs><path d="M871.424 61.44q18.432 0 34.816 6.656t28.672 18.944 19.456 28.672 7.168 35.84l0 720.896q0 38.912-25.088 64.512t-62.976 25.6l-721.92 0q-40.96 0-66.048-26.624t-25.088-66.56l0-718.848q0-35.84 24.576-62.464t65.536-26.624l720.896 0zM633.856 829.44q18.432 0 26.624-8.704t8.192-23.04q0-13.312-8.192-22.528t-26.624-9.216l-62.464 0q1.024-2.048 1.024-6.144l0-507.904 63.488 0q18.432 0 25.6-9.216t7.168-22.528-7.168-22.528-25.6-9.216l-249.856 0q-18.432 0-25.6 9.216t-7.168 22.528 7.168 22.528 25.6 9.216l57.344 0 0 507.904q0 2.048 0.512 3.072t0.512 3.072l-56.32 0q-18.432 0-26.624 9.216t-8.192 22.528q0 14.336 8.192 23.04t26.624 8.704l245.76 0z" p-id="14765" /></symbol>'});o.a.add(n);t.default=n},vxjX:function(e,t){},wcaq:function(e,t){},xL6i:function(e,t){},xO8F:function(e,t){},xVh5:function(e,t){},y88L:function(e,t){},yYpm:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADA0lEQVRYR+1W0VEbMRDdlRowFQAVYI3uH1MBpIJABZgKCBVgVwBUEKeCOP+3iFSAU0GcAk6beTdajyG+gDETJjPo63wnP7197+3eMb3x4jc+n94J/P8KpJR2iGgeQpi/JE+dCojIlar2vfcHXeAicklEw3LwSYzxel0SKwngcCI6Bpiq3q0ikVLq55wTEV2o6g4zHzrndtdV4g8CKaVBzvkrEX0noj1V/UVEk6qqWkK2IH3O+V5VP3jvZyCD66qqJuuosFKBUt2Rqg69930AhhBmj4FFBPcmMcYhrlUVikyxz3t/Q0T7TdP0vPdfupRZEBCRc+fctxBCCyAin4hoEGMc4HdKqZdzvnTOnRlYXdfXzLwfY9wVkRERnXZUb+QR2FGM8cz2tQTM82UJcSAR9axy/G6aBkD3lom6ro+Y+TO8JyJYAuvOnHN35XrsnBvBKiL6QUQI6TkRLQLLpVLcnCNwhdnYvIQdTdMg7cTMqGAH+6qqCoW84tAY46iu6zkzXy9ZMkV2RAS4c6hZ1zUysm3/Z6sCG4hoDFDn3CSE0JIpYbMAHpVg3lgoAcjMvQKOCvcAXiw5LPagVc9jjFsiAqyr0jEzs6C9aZXg4EKsH2NEFkCkbTtVXRxeFDDArZwzCLbgsA/7nXNQap5zPgZWydJPs2ERQhxARDMLGKxR1UOTyg6zYXN7e7vPzGhRgMPjEyiHnHjvB1AQ1a4aTiIyVdUZVFw1BxC2j8y8BdlKn2PUtt1R1EnM3LZnCVYouXgwK7rmQcndKSxZRcAmHDKBTsAaI1gGKCII3kl53ga0hAykn1w27GBV1yi2TGAUP/C8KAByqaqqAwtVCW+w8P6NheUA6na+jEoIMYgWlS9Z0Pa/hXaJxIWF9ikZSsuOXvw9YJPPOYe35XTd1zKCSER3LyZQugIge4WEDbGnim+fFwKbfRMWL0Fie10SIjJEK26kACrZhAT+vzGBRyTw/TCsqqod6c9Zr0JgaT60r2QL5j8nYGqs81n2qgo8p+LHe94JvCvwGwxb9ip2/vO/AAAAAElFTkSuQmCC"},yh13:function(e,t){},"z2/k":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-db",use:"icon-db-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="icon-db"><path fill="#909399" d="M512 438.857143c171.995429 0 344.576-30.866286 438.857143-97.133714V438.857143c0 80.566857-196.571429 146.285714-438.857143 146.285714S73.142857 519.424 73.142857 438.857143V341.723429C167.424 408.027429 340.004571 438.857143 512 438.857143z m0 438.857143c171.995429 0 344.576-30.866286 438.857143-97.133715V877.714286c0 80.566857-196.571429 146.285714-438.857143 146.285714S73.142857 958.281143 73.142857 877.714286v-97.133715C167.424 846.884571 340.004571 877.714286 512 877.714286z m0-219.428572c171.995429 0 344.576-30.866286 438.857143-97.133714V658.285714c0 80.566857-196.571429 146.285714-438.857143 146.285715S73.142857 738.852571 73.142857 658.285714v-97.133714C167.424 627.456 340.004571 658.285714 512 658.285714z m0-658.285714c242.285714 0 438.857143 65.718857 438.857143 146.285714v73.142857c0 80.566857-196.571429 146.285714-438.857143 146.285715S73.142857 299.995429 73.142857 219.428571V146.285714c0-80.566857 196.571429-146.285714 438.857143-146.285714z" /></symbol>'});o.a.add(n);t.default=n},zUKd:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("dA/m"),r=a.n(s),i=a("WRhu"),o=a.n(i),n=new r.a({id:"icon-documentation",use:"icon-documentation-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-documentation"><defs><style type="text/css"></style></defs><path d="M554.666667 384h234.666666L554.666667 149.333333V384M256 85.333333h341.333333l256 256v512a85.333333 85.333333 0 0 1-85.333333 85.333334H256a85.333333 85.333333 0 0 1-85.333333-85.333334V170.666667c0-47.36 37.973333-85.333333 85.333333-85.333334m384 682.666667v-85.333333H256v85.333333h384m128-170.666667v-85.333333H256v85.333333h512z" fill="" p-id="5673" /></symbol>'});o.a.add(n);t.default=n}},[0]);